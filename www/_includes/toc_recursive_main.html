<ul class="site-toc">
    {% for entry in include.entries %}

    {% assign entry_active = include.my_entry | remove: '/' == entry.url | remove: '/' %}

    <li>
        {% if entry.children %}
            <span class="toc-section-heading">
                {{ entry.name }}
            </span>
        {% else %}
            <a class="{% if entry_active %}this-page{% endif %}" href="{{ include.path_to_root }}{{ entry.url }}">
                {{ entry.name }}
            </a>
            {% if entry_active %}
                <span class="entry-highlight"></span>
            {% endif %}
        {% endif %}


        {% comment %}
        Insert page-specific ToC here if this is the entry for this page
        {% endcomment %}
        {% if entry_active %}<div id="page-toc" class="page-toc"></div>{% endif %}


        {% if entry.children %}
        {% include toc_recursive_main.html entries=entry.children my_entry=include.my_entry path_to_root=include.path_to_root %}
        {% endif %}
    </li>
    {% endfor %}
</ul>
