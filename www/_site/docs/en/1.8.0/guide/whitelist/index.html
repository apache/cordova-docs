<h1 id="domain-whitelist-guide">Domain Whitelist Guide</h1>

<h2 id="overview">Overview</h2>

<p>Domain whitelisting in Apache Cordova is a security model that controls access to outside domains, such as <code class="language-plaintext highlighter-rouge">http://google.com</code>. The default security policy is to block all network access. The application developer can then declare access to specific network domains and subdomains.</p>

<h2 id="specification">Specification</h2>

<p>Domain whitelisting lays the ground work for the <a href="http://www.w3.org/TR/widgets-access/">W3C Widget Access</a> specification. In the Widget Access specification, the <code class="language-plaintext highlighter-rouge">&lt;access&gt;</code> element is used to declare access to specific network domains. In the future, Apache Cordova will abstract the platform whitelisting implementations to the W3C Widget Access specification. However, for now each platform must implement itâ€™s own domain whitelisting.</p>

<h2 id="syntax">Syntax</h2>

<p>Access to <a href="http://google.com">google.com</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://google.com
</code></pre></div></div>

<p>Access to the secure <a href="https://google.com">google.com</a> (<code class="language-plaintext highlighter-rouge">https://</code>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://google.com
</code></pre></div></div>

<p>Access to the subdomain <a href="http://maps.google.com">maps.google.com</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://maps.google.com
</code></pre></div></div>

<p>Access to all the subdomains on <a href="http://google.com">google.com</a> (e.g. <a href="http://mail.google.com">mail.google.com</a> and <a href="http://docs.google.com">docs.google.com</a>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://*.google.com
</code></pre></div></div>

<p>Access to all domains (e.g. <a href="http://google.com">google.com</a> and <a href="http://developer.mozilla.org">developer.mozilla.org</a>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*
</code></pre></div></div>

<h2 id="android">Android</h2>

<h3 id="details">Details</h3>

<p>The whitelisting rules are found in <code class="language-plaintext highlighter-rouge">res/xml/cordova.xml</code> and declared with the element <code class="language-plaintext highlighter-rouge">&lt;access origin="..." /&gt;</code>.</p>

<p>Android has full support for the whitelisting syntax.</p>

<h3 id="syntax-1">Syntax</h3>

<p>Access to <a href="http://google.com">google.com</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;access origin="http://google.com" /&gt;
</code></pre></div></div>

<h2 id="bada">Bada</h2>

<p>Domain whitelisting is unsupported on Bada. By default, all domains are accessible.</p>

<h2 id="blackberry">BlackBerry</h2>

<h3 id="details-1">Details</h3>

<p>The whitelisting rules are found in <code class="language-plaintext highlighter-rouge">www/config.xml</code> and declared with the element <code class="language-plaintext highlighter-rouge">&lt;access uri="..." /&gt;</code>.</p>

<p>For a complete reference, see the <a href="https://developer.blackberry.com/html5/documentation/ww_developing/Access_element_834677_11.html">BlackBerry WebWorks Access Element documentation</a>.</p>

<h3 id="syntax-2">Syntax</h3>

<p>Access to <a href="http://google.com">google.com</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;access uri="http://google.com" subdomains="false" /&gt;
</code></pre></div></div>

<p>Access to  <a href="http://maps.google.com">maps.google.com</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;access uri="http://maps.google.com" subdomains="false" /&gt;
</code></pre></div></div>

<p>Access to all the subdomains on <a href="http://google.com">google.com</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;access uri="http://google.com" subdomains="true" /&gt;
</code></pre></div></div>

<p>Access to all domains, including <code class="language-plaintext highlighter-rouge">file://</code> protocol:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;access uri="*" subdomains="true" /&gt;
</code></pre></div></div>

<h2 id="ios">iOS</h2>

<h3 id="details-2">Details</h3>

<ol>
  <li>Open <code class="language-plaintext highlighter-rouge">Cordova.plist</code>.
    <ul>
      <li>In Xcode, it is found at <code class="language-plaintext highlighter-rouge">AppName/Supporting Files/Cordova.plist</code></li>
      <li>In the directory, it is found at <code class="language-plaintext highlighter-rouge">AppName/Cordova.plist</code></li>
    </ul>
  </li>
  <li>Add a new <code class="language-plaintext highlighter-rouge">String</code> value under the <code class="language-plaintext highlighter-rouge">ExternalHosts</code> key.
    <ul>
      <li>We recommend using Xcode to avoid editing raw XML.</li>
    </ul>
  </li>
</ol>

<p>Domain protocols (e.g. <code class="language-plaintext highlighter-rouge">http://</code> and <code class="language-plaintext highlighter-rouge">https://</code>) are not supported by iOS.</p>

<h3 id="syntax-3">Syntax</h3>

<p>Access to <a href="http://google.com">google.com</a> and the secure <a href="https://google.com">google.com</a> (<code class="language-plaintext highlighter-rouge">https://</code>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>google.com
</code></pre></div></div>

<p>Access to the subdomain <a href="http://maps.google.com">maps.google.com</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>maps.google.com
</code></pre></div></div>

<p>Access to all the subdomains on <a href="http://google.com">google.com</a> (e.g. <a href="http://mail.google.com">mail.google.com</a> and <a href="http://docs.google.com">docs.google.com</a>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*.google.com
</code></pre></div></div>

<p>Access to all domains (e.g. <a href="http://google.com">google.com</a> and <a href="http://developer.mozilla.org">developer.mozilla.org</a>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*
</code></pre></div></div>

<p>Wildcards on iOS (<code class="language-plaintext highlighter-rouge">*</code>) are more flexible than the <a href="http://www.w3.org/TR/widgets-access/">W3C Widget Access</a> specification.</p>

<p>Access to all subdomains and TLDs (<code class="language-plaintext highlighter-rouge">.com</code>, <code class="language-plaintext highlighter-rouge">.net</code>, etc):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*.google.*
</code></pre></div></div>

<h2 id="symbian">Symbian</h2>

<p>Domain whitelisting is unsupported on Symbian. By default, all domains are accessible.</p>

<h2 id="webos">webOS</h2>

<p>Domain whitelisting is unsupported on webOS. By default, all domains are accessible.</p>

<h2 id="windows-phone">Windows Phone</h2>

<p>Domain whitelisting is unsupported on Windows Phone. By default, all domains are accessible.</p>

