<!-- WARNING: This file is generated. See fetch_docs.js. -->

<!--
# license: Licensed to the Apache Software Foundation (ASF) under one
#         or more contributor license agreements.  See the NOTICE file
#         distributed with this work for additional information
#         regarding copyright ownership.  The ASF licenses this file
#         to you under the Apache License, Version 2.0 (the
#         "License"); you may not use this file except in compliance
#         with the License.  You may obtain a copy of the License at
#
#           http://www.apache.org/licenses/LICENSE-2.0
#
#         Unless required by applicable law or agreed to in writing,
#         software distributed under the License is distributed on an
#         "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#         KIND, either express or implied.  See the License for the
#         specific language governing permissions and limitations
#         under the License.
-->

<table>
  <thead>
    <tr>
      <th style="text-align: center">Android 4.4</th>
      <th style="text-align: center">Android 5.1</th>
      <th style="text-align: center">Android 6.0</th>
      <th style="text-align: center">iOS 9.3</th>
      <th style="text-align: center">iOS 10.0</th>
      <th style="text-align: center">Windows 10 Store</th>
      <th style="text-align: center">Travis CI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><a href="http://cordova-ci.cloudapp.net:8080/job/cordova-periodic-build/PLATFORM=android-4.4,PLUGIN=cordova-plugin-geolocation/"><img src="http://cordova-ci.cloudapp.net:8080/buildStatus/icon?job=cordova-periodic-build/PLATFORM=android-4.4,PLUGIN=cordova-plugin-geolocation" alt="Build Status" /></a></td>
      <td style="text-align: center"><a href="http://cordova-ci.cloudapp.net:8080/job/cordova-periodic-build/PLATFORM=android-5.1,PLUGIN=cordova-plugin-geolocation/"><img src="http://cordova-ci.cloudapp.net:8080/buildStatus/icon?job=cordova-periodic-build/PLATFORM=android-5.1,PLUGIN=cordova-plugin-geolocation" alt="Build Status" /></a></td>
      <td style="text-align: center"><a href="http://cordova-ci.cloudapp.net:8080/job/cordova-periodic-build/PLATFORM=android-6.0,PLUGIN=cordova-plugin-geolocation/"><img src="http://cordova-ci.cloudapp.net:8080/buildStatus/icon?job=cordova-periodic-build/PLATFORM=android-6.0,PLUGIN=cordova-plugin-geolocation" alt="Build Status" /></a></td>
      <td style="text-align: center"><a href="http://cordova-ci.cloudapp.net:8080/job/cordova-periodic-build/PLATFORM=ios-9.3,PLUGIN=cordova-plugin-geolocation/"><img src="http://cordova-ci.cloudapp.net:8080/buildStatus/icon?job=cordova-periodic-build/PLATFORM=ios-9.3,PLUGIN=cordova-plugin-geolocation" alt="Build Status" /></a></td>
      <td style="text-align: center"><a href="http://cordova-ci.cloudapp.net:8080/job/cordova-periodic-build/PLATFORM=ios-10.0,PLUGIN=cordova-plugin-geolocation/"><img src="http://cordova-ci.cloudapp.net:8080/buildStatus/icon?job=cordova-periodic-build/PLATFORM=ios-10.0,PLUGIN=cordova-plugin-geolocation" alt="Build Status" /></a></td>
      <td style="text-align: center"><a href="http://cordova-ci.cloudapp.net:8080/job/cordova-periodic-build/PLATFORM=windows-10-store,PLUGIN=cordova-plugin-geolocation/"><img src="http://cordova-ci.cloudapp.net:8080/buildStatus/icon?job=cordova-periodic-build/PLATFORM=windows-10-store,PLUGIN=cordova-plugin-geolocation" alt="Build Status" /></a></td>
      <td style="text-align: center"><a href="https://travis-ci.org/apache/cordova-plugin-geolocation"><img src="https://travis-ci.org/apache/cordova-plugin-geolocation.svg?branch=master" alt="Build Status" /></a></td>
    </tr>
  </tbody>
</table>

<h1 id="cordova-plugin-geolocation">cordova-plugin-geolocation</h1>

<p>This plugin provides information about the device’s location, such as
latitude and longitude.</p>

<p>Common sources of location information include
Global Positioning System (GPS) and location inferred from network
signals such as IP address, RFID, WiFi and Bluetooth MAC addresses,
and GSM/CDMA cell IDs. There is no guarantee that the API returns the
device’s actual location.</p>

<blockquote>
  <p>To get a few ideas, check out the <a href="#sample">sample</a> at the bottom of this page or go straight to the <a href="#reference">reference</a> content.</p>
</blockquote>

<p>This API is based on the
<a href="http://dev.w3.org/geo/api/spec-source.html">W3C Geolocation API Specification</a>,
and only executes on devices that don’t already provide an implementation.</p>

<p><strong>WARNING</strong>: Collection and use of geolocation data
raises important privacy issues.  Your app’s privacy policy should
discuss how the app uses geolocation data, whether it is shared with
any other parties, and the level of precision of the data (for
example, coarse, fine, ZIP code level, etc.).  Geolocation data is
generally considered sensitive because it can reveal user’s
whereabouts and, if stored, the history of their travels.
Therefore, in addition to the app’s privacy policy, you should
strongly consider providing a just-in-time notice before the app
accesses geolocation data (if the device operating system doesn’t do
so already).  That notice should provide the same information noted
above, as well as obtaining the user’s permission (e.g., by presenting
choices for <strong>OK</strong> and <strong>No Thanks</strong>).  For more information, please
see the <a href="http://cordova.apache.org/docs/en/latest/guide/appdev/privacy/index.html">Privacy Guide</a>.</p>

<p>This plugin defines a global <code class="language-plaintext highlighter-rouge">navigator.geolocation</code> object (for platforms
where it is otherwise missing).</p>

<p>Although the object is in the global scope, features provided by this plugin
are not available until after the <code class="language-plaintext highlighter-rouge">deviceready</code> event.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">deviceready</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onDeviceReady</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">onDeviceReady</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">navigator.geolocation works well</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>

</code></pre></div></div>
<h2 id="reference"><a id="reference"></a>Reference</h2>
<h2 id="installation">Installation</h2>

<p>This requires cordova 5.0+ ( current stable 1.0.0 )</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cordova plugin add cordova-plugin-geolocation
</code></pre></div></div>

<p>Older versions of cordova can still install via the deprecated id ( stale 0.3.12 )</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cordova plugin add org.apache.cordova.geolocation
</code></pre></div></div>

<p>It is also possible to install via repo url directly ( unstable )</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cordova plugin add https://github.com/apache/cordova-plugin-geolocation.git
</code></pre></div></div>

<h2 id="supported-platforms">Supported Platforms</h2>

<ul>
  <li>Amazon Fire OS</li>
  <li>Android</li>
  <li>BlackBerry 10</li>
  <li>Firefox OS</li>
  <li>iOS</li>
  <li>Tizen</li>
  <li>Windows Phone 7 and 8</li>
  <li>Windows</li>
</ul>

<h2 id="methods">Methods</h2>

<ul>
  <li>navigator.geolocation.getCurrentPosition</li>
  <li>navigator.geolocation.watchPosition</li>
  <li>navigator.geolocation.clearWatch</li>
</ul>

<h2 id="objects-read-only">Objects (Read-Only)</h2>

<ul>
  <li>Position</li>
  <li>PositionError</li>
  <li>Coordinates</li>
</ul>

<h2 id="navigatorgeolocationgetcurrentposition">navigator.geolocation.getCurrentPosition</h2>

<p>Returns the device’s current position to the <code class="language-plaintext highlighter-rouge">geolocationSuccess</code>
callback with a <code class="language-plaintext highlighter-rouge">Position</code> object as the parameter.  If there is an
error, the <code class="language-plaintext highlighter-rouge">geolocationError</code> callback is passed a
<code class="language-plaintext highlighter-rouge">PositionError</code> object.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>navigator.geolocation.getCurrentPosition(geolocationSuccess,
                                         [geolocationError],
                                         [geolocationOptions]);
</code></pre></div></div>

<h3 id="parameters">Parameters</h3>

<ul>
  <li>
    <p><strong>geolocationSuccess</strong>: The callback that is passed the current position.</p>
  </li>
  <li>
    <p><strong>geolocationError</strong>: <em>(Optional)</em> The callback that executes if an error occurs.</p>
  </li>
  <li>
    <p><strong>geolocationOptions</strong>: <em>(Optional)</em> The geolocation options.</p>
  </li>
</ul>

<h3 id="example">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="c1">// onSuccess Callback</span>
    <span class="c1">// This method accepts a Position object, which contains the</span>
    <span class="c1">// current GPS coordinates</span>
    <span class="c1">//</span>
    <span class="kd">var</span> <span class="nx">onSuccess</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">Latitude: </span><span class="dl">'</span>          <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span>          <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">Longitude: </span><span class="dl">'</span>         <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span>         <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">Altitude: </span><span class="dl">'</span>          <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">altitude</span>          <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">Accuracy: </span><span class="dl">'</span>          <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">accuracy</span>          <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">Altitude Accuracy: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">altitudeAccuracy</span>  <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">Heading: </span><span class="dl">'</span>           <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">heading</span>           <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">Speed: </span><span class="dl">'</span>             <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">speed</span>             <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">Timestamp: </span><span class="dl">'</span>         <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">timestamp</span>                <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="c1">// onError Callback receives a PositionError object</span>
    <span class="c1">//</span>
    <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">code: </span><span class="dl">'</span>    <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">code</span>    <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">message: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>

</code></pre></div></div>

<h3 id="ios-quirks">iOS Quirks</h3>

<p>Since iOS 10 it’s mandatory to add a <code class="language-plaintext highlighter-rouge">NSLocationWhenInUseUsageDescription</code> entry in the info.plist.</p>

<p><code class="language-plaintext highlighter-rouge">NSLocationWhenInUseUsageDescription</code> describes the reason that the app accesses the user’s location. When the system prompts the user to allow access, this string is displayed as part of the dialog box. To add this entry you can pass the variable <code class="language-plaintext highlighter-rouge">GEOLOCATION_USAGE_DESCRIPTION</code> on plugin install.</p>

<p>Example:
 <code class="language-plaintext highlighter-rouge">cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="your usage message"</code></p>

<p>If you don’t pass the variable, the plugin will add an empty string as value.</p>

<h3 id="android-quirks">Android Quirks</h3>

<p>If Geolocation service is turned off the <code class="language-plaintext highlighter-rouge">onError</code> callback is invoked after <code class="language-plaintext highlighter-rouge">timeout</code> interval (if specified).
If <code class="language-plaintext highlighter-rouge">timeout</code> parameter is not specified then no callback is called.</p>

<h2 id="navigatorgeolocationwatchposition">navigator.geolocation.watchPosition</h2>

<p>Returns the device’s current position when a change in position is detected.
When the device retrieves a new location, the <code class="language-plaintext highlighter-rouge">geolocationSuccess</code>
callback executes with a <code class="language-plaintext highlighter-rouge">Position</code> object as the parameter.  If
there is an error, the <code class="language-plaintext highlighter-rouge">geolocationError</code> callback executes with a
<code class="language-plaintext highlighter-rouge">PositionError</code> object as the parameter.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var watchId = navigator.geolocation.watchPosition(geolocationSuccess,
                                                  [geolocationError],
                                                  [geolocationOptions]);
</code></pre></div></div>

<h3 id="parameters-1">Parameters</h3>

<ul>
  <li>
    <p><strong>geolocationSuccess</strong>: The callback that is passed the current position.</p>
  </li>
  <li>
    <p><strong>geolocationError</strong>: (Optional) The callback that executes if an error occurs.</p>
  </li>
  <li>
    <p><strong>geolocationOptions</strong>: (Optional) The geolocation options.</p>
  </li>
</ul>

<h3 id="returns">Returns</h3>

<ul>
  <li><strong>String</strong>: returns a watch id that references the watch position interval. The watch id should be used with <code class="language-plaintext highlighter-rouge">navigator.geolocation.clearWatch</code> to stop watching for changes in position.</li>
</ul>

<h3 id="example-1">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="c1">// onSuccess Callback</span>
    <span class="c1">//   This method accepts a `Position` object, which contains</span>
    <span class="c1">//   the current GPS coordinates</span>
    <span class="c1">//</span>
    <span class="kd">function</span> <span class="nx">onSuccess</span><span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">geolocation</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">element</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Latitude: </span><span class="dl">'</span>  <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span>      <span class="o">+</span> <span class="dl">'</span><span class="s1">&lt;br /&gt;</span><span class="dl">'</span> <span class="o">+</span>
                            <span class="dl">'</span><span class="s1">Longitude: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span>     <span class="o">+</span> <span class="dl">'</span><span class="s1">&lt;br /&gt;</span><span class="dl">'</span> <span class="o">+</span>
                            <span class="dl">'</span><span class="s1">&lt;hr /&gt;</span><span class="dl">'</span>      <span class="o">+</span> <span class="nx">element</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// onError Callback receives a PositionError object</span>
    <span class="c1">//</span>
    <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">code: </span><span class="dl">'</span>    <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">code</span>    <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
              <span class="dl">'</span><span class="s1">message: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Options: throw an error if no update is received every 30 seconds.</span>
    <span class="c1">//</span>
    <span class="kd">var</span> <span class="nx">watchID</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">watchPosition</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onError</span><span class="p">,</span> <span class="p">{</span> <span class="na">timeout</span><span class="p">:</span> <span class="mi">30000</span> <span class="p">});</span>

</code></pre></div></div>

<h2 id="geolocationoptions">geolocationOptions</h2>

<p>Optional parameters to customize the retrieval of the geolocation
<code class="language-plaintext highlighter-rouge">Position</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ maximumAge: 3000, timeout: 5000, enableHighAccuracy: true };
</code></pre></div></div>

<h3 id="options">Options</h3>

<ul>
  <li>
    <p><strong>enableHighAccuracy</strong>: Provides a hint that the application needs the best possible results. By default, the device attempts to retrieve a <code class="language-plaintext highlighter-rouge">Position</code> using network-based methods. Setting this property to <code class="language-plaintext highlighter-rouge">true</code> tells the framework to use more accurate methods, such as satellite positioning. <em>(Boolean)</em></p>
  </li>
  <li>
    <p><strong>timeout</strong>: The maximum length of time (milliseconds) that is allowed to pass from the call to <code class="language-plaintext highlighter-rouge">navigator.geolocation.getCurrentPosition</code> or <code class="language-plaintext highlighter-rouge">geolocation.watchPosition</code> until the corresponding <code class="language-plaintext highlighter-rouge">geolocationSuccess</code> callback executes. If the <code class="language-plaintext highlighter-rouge">geolocationSuccess</code> callback is not invoked within this time, the <code class="language-plaintext highlighter-rouge">geolocationError</code> callback is passed a <code class="language-plaintext highlighter-rouge">PositionError.TIMEOUT</code> error code. (Note that when used in conjunction with <code class="language-plaintext highlighter-rouge">geolocation.watchPosition</code>, the <code class="language-plaintext highlighter-rouge">geolocationError</code> callback could be called on an interval every <code class="language-plaintext highlighter-rouge">timeout</code> milliseconds!) <em>(Number)</em></p>
  </li>
  <li>
    <p><strong>maximumAge</strong>: Accept a cached position whose age is no greater than the specified time in milliseconds. <em>(Number)</em></p>
  </li>
</ul>

<h3 id="android-quirks-1">Android Quirks</h3>

<p>If Geolocation service is turned off the <code class="language-plaintext highlighter-rouge">onError</code> callback is invoked after <code class="language-plaintext highlighter-rouge">timeout</code> interval (if specified).
If <code class="language-plaintext highlighter-rouge">timeout</code> parameter is not specified then no callback is called.</p>

<h2 id="navigatorgeolocationclearwatch">navigator.geolocation.clearWatch</h2>

<p>Stop watching for changes to the device’s location referenced by the
<code class="language-plaintext highlighter-rouge">watchID</code> parameter.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>navigator.geolocation.clearWatch(watchID);
</code></pre></div></div>

<h3 id="parameters-2">Parameters</h3>

<ul>
  <li><strong>watchID</strong>: The id of the <code class="language-plaintext highlighter-rouge">watchPosition</code> interval to clear. (String)</li>
</ul>

<h3 id="example-2">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="c1">// Options: watch for changes in position, and use the most</span>
    <span class="c1">// accurate position acquisition method available.</span>
    <span class="c1">//</span>
    <span class="kd">var</span> <span class="nx">watchID</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">watchPosition</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

    <span class="c1">// ...later on...</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">clearWatch</span><span class="p">(</span><span class="nx">watchID</span><span class="p">);</span>

</code></pre></div></div>

<h2 id="position">Position</h2>

<p>Contains <code class="language-plaintext highlighter-rouge">Position</code> coordinates and timestamp, created by the geolocation API.</p>

<h3 id="properties">Properties</h3>

<ul>
  <li>
    <p><strong>coords</strong>: A set of geographic coordinates. <em>(Coordinates)</em></p>
  </li>
  <li>
    <p><strong>timestamp</strong>: Creation timestamp for <code class="language-plaintext highlighter-rouge">coords</code>. <em>(DOMTimeStamp)</em></p>
  </li>
</ul>

<h2 id="coordinates">Coordinates</h2>

<p>A <code class="language-plaintext highlighter-rouge">Coordinates</code> object is attached to a <code class="language-plaintext highlighter-rouge">Position</code> object that is
available to callback functions in requests for the current position.
It contains a set of properties that describe the geographic coordinates of a position.</p>

<h3 id="properties-1">Properties</h3>

<ul>
  <li>
    <p><strong>latitude</strong>: Latitude in decimal degrees. <em>(Number)</em></p>
  </li>
  <li>
    <p><strong>longitude</strong>: Longitude in decimal degrees. <em>(Number)</em></p>
  </li>
  <li>
    <p><strong>altitude</strong>: Height of the position in meters above the ellipsoid. <em>(Number)</em></p>
  </li>
  <li>
    <p><strong>accuracy</strong>: Accuracy level of the latitude and longitude coordinates in meters. <em>(Number)</em></p>
  </li>
  <li>
    <p><strong>altitudeAccuracy</strong>: Accuracy level of the altitude coordinate in meters. <em>(Number)</em></p>
  </li>
  <li>
    <p><strong>heading</strong>: Direction of travel, specified in degrees counting clockwise relative to the true north. <em>(Number)</em></p>
  </li>
  <li>
    <p><strong>speed</strong>: Current ground speed of the device, specified in meters per second. <em>(Number)</em></p>
  </li>
</ul>

<h3 id="amazon-fire-os-quirks">Amazon Fire OS Quirks</h3>

<p><strong>altitudeAccuracy</strong>: Not supported by Android devices, returning <code class="language-plaintext highlighter-rouge">null</code>.</p>

<h3 id="android-quirks-2">Android Quirks</h3>

<p><strong>altitudeAccuracy</strong>: Not supported by Android devices, returning <code class="language-plaintext highlighter-rouge">null</code>.</p>

<h2 id="positionerror">PositionError</h2>

<p>The <code class="language-plaintext highlighter-rouge">PositionError</code> object is passed to the <code class="language-plaintext highlighter-rouge">geolocationError</code>
callback function when an error occurs with navigator.geolocation.</p>

<h3 id="properties-2">Properties</h3>

<ul>
  <li>
    <p><strong>code</strong>: One of the predefined error codes listed below.</p>
  </li>
  <li>
    <p><strong>message</strong>: Error message describing the details of the error encountered.</p>
  </li>
</ul>

<h3 id="constants">Constants</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">PositionError.PERMISSION_DENIED</code>
    <ul>
      <li>Returned when users do not allow the app to retrieve position information. This is dependent on the platform.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">PositionError.POSITION_UNAVAILABLE</code>
    <ul>
      <li>Returned when the device is unable to retrieve a position. In general, this means the device is not connected to a network or can’t get a satellite fix.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">PositionError.TIMEOUT</code>
    <ul>
      <li>Returned when the device is unable to retrieve a position within the time specified by the <code class="language-plaintext highlighter-rouge">timeout</code> included in <code class="language-plaintext highlighter-rouge">geolocationOptions</code>. When used with <code class="language-plaintext highlighter-rouge">navigator.geolocation.watchPosition</code>, this error could be repeatedly passed to the <code class="language-plaintext highlighter-rouge">geolocationError</code> callback every <code class="language-plaintext highlighter-rouge">timeout</code> milliseconds.</li>
    </ul>
  </li>
</ul>

<h2 id="sample-get-the-weather-find-stores-and-see-photos-of-things-nearby-with-geolocation"><a id="sample"></a>Sample: Get the weather, find stores, and see photos of things nearby with Geolocation</h2>

<p>Use this plugin to help users find things near them such as Groupon deals, houses for sale, movies playing, sports and entertainment events and more.</p>

<p>Here’s a “cookbook” of ideas to get you started. In the snippets below, we’ll show you some basic ways to add these features to your app.</p>

<ul>
  <li><a href="#coords">Get your coordinates</a>.</li>
  <li><a href="#weather">Get the weather forecast</a>.</li>
  <li><a href="#receive">Receive updated weather forecasts as you drive around</a>.</li>
  <li><a href="#see">See where you are on a map</a>.</li>
  <li><a href="#find">Find stores near you</a>.</li>
  <li><a href="#see">See pictures of things around you</a>.</li>
</ul>

<h2 id="get-your-geolocation-coordinates"><a id="coord"></a>Get your geolocation coordinates</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">function</span> <span class="nx">getWeatherLocation</span><span class="p">()</span> <span class="p">{</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span>
    <span class="p">(</span><span class="nx">onWeatherSuccess</span><span class="p">,</span> <span class="nx">onWeatherError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="p">}</span>

</code></pre></div></div>
<h2 id="get-the-weather-forecast"><a id="weather"></a>Get the weather forecast</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// Success callback for get geo coordinates</span>

<span class="kd">var</span> <span class="nx">onWeatherSuccess</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">Latitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
    <span class="nx">Longitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>

    <span class="nx">getWeather</span><span class="p">(</span><span class="nx">Latitude</span><span class="p">,</span> <span class="nx">Longitude</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Get weather by using coordinates</span>

<span class="kd">function</span> <span class="nx">getWeather</span><span class="p">(</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">longitude</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// Get a free key at http://openweathermap.org/. Replace the "Your_Key_Here" string with that key.</span>
    <span class="kd">var</span> <span class="nx">OpenWeatherAppKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Your_Key_Here</span><span class="dl">"</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">queryString</span> <span class="o">=</span>
      <span class="dl">'</span><span class="s1">http://api.openweathermap.org/data/2.5/weather?lat=</span><span class="dl">'</span>
      <span class="o">+</span> <span class="nx">latitude</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;lon=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">longitude</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;appid=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">OpenWeatherAppKey</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;units=imperial</span><span class="dl">'</span><span class="p">;</span>

    <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">queryString</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">results</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">weather</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>

            <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">queryString</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">results</span><span class="p">)</span> <span class="p">{</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">weather</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>

                    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#description</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#temp</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">main</span><span class="p">.</span><span class="nx">temp</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#wind</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">wind</span><span class="p">.</span><span class="nx">speed</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#humidity</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">main</span><span class="p">.</span><span class="nx">humidity</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#visibility</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">weather</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">main</span><span class="p">);</span>

                    <span class="kd">var</span> <span class="nx">sunriseDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">sys</span><span class="p">.</span><span class="nx">sunrise</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#sunrise</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">sunriseDate</span><span class="p">.</span><span class="nx">toLocaleTimeString</span><span class="p">());</span>

                    <span class="kd">var</span> <span class="nx">sunsetDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">sys</span><span class="p">.</span><span class="nx">sunrise</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#sunset</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">sunsetDate</span><span class="p">.</span><span class="nx">toLocaleTimeString</span><span class="p">());</span>
                <span class="p">}</span>

            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}).</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">error getting location</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Error callback</span>

<span class="kd">function</span> <span class="nx">onWeatherError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">code: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
        <span class="dl">'</span><span class="s1">message: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="receive-updated-weather-forecasts-as-you-drive-around"><a id="receive"></a>Receive updated weather forecasts as you drive around</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// Watch your changing position</span>

<span class="kd">function</span> <span class="nx">watchWeatherPosition</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">watchPosition</span>
    <span class="p">(</span><span class="nx">onWeatherWatchSuccess</span><span class="p">,</span> <span class="nx">onWeatherError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Success callback for watching your changing position</span>

<span class="kd">var</span> <span class="nx">onWeatherWatchSuccess</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">updatedLatitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">updatedLongitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">updatedLatitude</span> <span class="o">!=</span> <span class="nx">Latitude</span> <span class="o">&amp;&amp;</span> <span class="nx">updatedLongitude</span> <span class="o">!=</span> <span class="nx">Longitude</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">Latitude</span> <span class="o">=</span> <span class="nx">updatedLatitude</span><span class="p">;</span>
        <span class="nx">Longitude</span> <span class="o">=</span> <span class="nx">updatedLongitude</span><span class="p">;</span>

        <span class="c1">// Calls function we defined earlier.</span>
        <span class="nx">getWeather</span><span class="p">(</span><span class="nx">updatedLatitude</span><span class="p">,</span> <span class="nx">updatedLongitude</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="see-where-you-are-on-a-map"><a id="see"></a>See where you are on a map</h2>

<p>Both Bing and Google have map services. We’ll use Google’s. You’ll need a key but it’s free if you’re just trying things out.</p>

<p>Add a reference to the <strong>maps</strong> service.</p>

<pre><code class="language-HTML">
 &lt;script src="https://maps.googleapis.com/maps/api/js?key=Your_API_Key"&gt;&lt;/script&gt;

</code></pre>
<p>Then, add code to use it.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">Latitude</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Longitude</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="c1">// Get geo coordinates</span>

<span class="kd">function</span> <span class="nx">getMapLocation</span><span class="p">()</span> <span class="p">{</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span>
    <span class="p">(</span><span class="nx">onMapSuccess</span><span class="p">,</span> <span class="nx">onMapError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Success callback for get geo coordinates</span>

<span class="kd">var</span> <span class="nx">onMapSuccess</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">Latitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
    <span class="nx">Longitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>

    <span class="nx">getMap</span><span class="p">(</span><span class="nx">Latitude</span><span class="p">,</span> <span class="nx">Longitude</span><span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Get map by using coordinates</span>

<span class="kd">function</span> <span class="nx">getMap</span><span class="p">(</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">longitude</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">mapOptions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">center</span><span class="p">:</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="na">zoom</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">mapTypeId</span><span class="p">:</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">MapTypeId</span><span class="p">.</span><span class="nx">ROADMAP</span>
    <span class="p">};</span>

    <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nb">Map</span>
    <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">map</span><span class="dl">"</span><span class="p">),</span> <span class="nx">mapOptions</span><span class="p">);</span>


    <span class="kd">var</span> <span class="nx">latLong</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">longitude</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Marker</span><span class="p">({</span>
        <span class="na">position</span><span class="p">:</span> <span class="nx">latLong</span>
    <span class="p">});</span>

    <span class="nx">marker</span><span class="p">.</span><span class="nx">setMap</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">setZoom</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">setCenter</span><span class="p">(</span><span class="nx">marker</span><span class="p">.</span><span class="nx">getPosition</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Success callback for watching your changing position</span>

<span class="kd">var</span> <span class="nx">onMapWatchSuccess</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">updatedLatitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">updatedLongitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">updatedLatitude</span> <span class="o">!=</span> <span class="nx">Latitude</span> <span class="o">&amp;&amp;</span> <span class="nx">updatedLongitude</span> <span class="o">!=</span> <span class="nx">Longitude</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">Latitude</span> <span class="o">=</span> <span class="nx">updatedLatitude</span><span class="p">;</span>
        <span class="nx">Longitude</span> <span class="o">=</span> <span class="nx">updatedLongitude</span><span class="p">;</span>

        <span class="nx">getMap</span><span class="p">(</span><span class="nx">updatedLatitude</span><span class="p">,</span> <span class="nx">updatedLongitude</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Error callback</span>

<span class="kd">function</span> <span class="nx">onMapError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">code: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
        <span class="dl">'</span><span class="s1">message: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Watch your changing position</span>

<span class="kd">function</span> <span class="nx">watchMapPosition</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">watchPosition</span>
    <span class="p">(</span><span class="nx">onMapWatchSuccess</span><span class="p">,</span> <span class="nx">onMapError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="find-stores-near-you"><a id="find"></a>Find stores near you</h2>

<p>You can use the same Google key for this.</p>

<p>Add a reference to the <strong>places</strong> service.</p>

<pre><code class="language-HTML">
&lt;script src=
"https://maps.googleapis.com/maps/api/js?key=Your_API_Key&amp;libraries=places"&gt;
&lt;/script&gt;

</code></pre>

<p>Then, add code to use it.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nb">Map</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Infowindow</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Latitude</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Longitude</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="c1">// Get geo coordinates</span>

<span class="kd">function</span> <span class="nx">getPlacesLocation</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span>
    <span class="p">(</span><span class="nx">onPlacesSuccess</span><span class="p">,</span> <span class="nx">onPlacesError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Success callback for get geo coordinates</span>

<span class="kd">var</span> <span class="nx">onPlacesSuccess</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">Latitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
    <span class="nx">Longitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>

    <span class="nx">getPlaces</span><span class="p">(</span><span class="nx">Latitude</span><span class="p">,</span> <span class="nx">Longitude</span><span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Get places by using coordinates</span>

<span class="kd">function</span> <span class="nx">getPlaces</span><span class="p">(</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">longitude</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">latLong</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">longitude</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">mapOptions</span> <span class="o">=</span> <span class="p">{</span>

        <span class="na">center</span><span class="p">:</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">longitude</span><span class="p">),</span>
        <span class="na">zoom</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
        <span class="na">mapTypeId</span><span class="p">:</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">MapTypeId</span><span class="p">.</span><span class="nx">ROADMAP</span>

    <span class="p">};</span>

    <span class="nb">Map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nb">Map</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">places</span><span class="dl">"</span><span class="p">),</span> <span class="nx">mapOptions</span><span class="p">);</span>

    <span class="nx">Infowindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">InfoWindow</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">service</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">places</span><span class="p">.</span><span class="nx">PlacesService</span><span class="p">(</span><span class="nb">Map</span><span class="p">);</span>
    <span class="nx">service</span><span class="p">.</span><span class="nx">nearbySearch</span><span class="p">({</span>

        <span class="na">location</span><span class="p">:</span> <span class="nx">latLong</span><span class="p">,</span>
        <span class="na">radius</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">store</span><span class="dl">'</span><span class="p">]</span>
    <span class="p">},</span> <span class="nx">foundStoresCallback</span><span class="p">);</span>

<span class="p">}</span>

<span class="c1">// Success callback for watching your changing position</span>

<span class="kd">var</span> <span class="nx">onPlacesWatchSuccess</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">updatedLatitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">updatedLongitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">updatedLatitude</span> <span class="o">!=</span> <span class="nx">Latitude</span> <span class="o">&amp;&amp;</span> <span class="nx">updatedLongitude</span> <span class="o">!=</span> <span class="nx">Longitude</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">Latitude</span> <span class="o">=</span> <span class="nx">updatedLatitude</span><span class="p">;</span>
        <span class="nx">Longitude</span> <span class="o">=</span> <span class="nx">updatedLongitude</span><span class="p">;</span>

        <span class="nx">getPlaces</span><span class="p">(</span><span class="nx">updatedLatitude</span><span class="p">,</span> <span class="nx">updatedLongitude</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Success callback for locating stores in the area</span>

<span class="kd">function</span> <span class="nx">foundStoresCallback</span><span class="p">(</span><span class="nx">results</span><span class="p">,</span> <span class="nx">status</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">status</span> <span class="o">===</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">places</span><span class="p">.</span><span class="nx">PlacesServiceStatus</span><span class="p">.</span><span class="nx">OK</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

            <span class="nx">createMarker</span><span class="p">(</span><span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>

        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Place a pin for each store on the map</span>

<span class="kd">function</span> <span class="nx">createMarker</span><span class="p">(</span><span class="nx">place</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">placeLoc</span> <span class="o">=</span> <span class="nx">place</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">location</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Marker</span><span class="p">({</span>
        <span class="na">map</span><span class="p">:</span> <span class="nb">Map</span><span class="p">,</span>
        <span class="na">position</span><span class="p">:</span> <span class="nx">place</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">location</span>
    <span class="p">});</span>

    <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="nx">marker</span><span class="p">,</span> <span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

        <span class="nx">Infowindow</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="nx">place</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="nx">Infowindow</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nb">Map</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

    <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Error callback</span>

<span class="kd">function</span> <span class="nx">onPlacesError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">code: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
        <span class="dl">'</span><span class="s1">message: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Watch your changing position</span>

<span class="kd">function</span> <span class="nx">watchPlacesPosition</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">watchPosition</span>
    <span class="p">(</span><span class="nx">onPlacesWatchSuccess</span><span class="p">,</span> <span class="nx">onPlacesError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="see-pictures-of-things-around-you"><a id="pictures"></a>See pictures of things around you</h2>

<p>Digital photos can contain geo coordinates that identify where the picture was taken.</p>

<p>Use Flickr API’s to find pictures that folks have taken near you. Like Google services, you’ll need a key, but it’s free if you just want to try things out.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">Latitude</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Longitude</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="c1">// Get geo coordinates</span>

<span class="kd">function</span> <span class="nx">getPicturesLocation</span><span class="p">()</span> <span class="p">{</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span>
    <span class="p">(</span><span class="nx">onPicturesSuccess</span><span class="p">,</span> <span class="nx">onPicturesError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

<span class="p">}</span>

<span class="c1">// Success callback for get geo coordinates</span>

<span class="kd">var</span> <span class="nx">onPicturesSuccess</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">Latitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
    <span class="nx">Longitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>

    <span class="nx">getPictures</span><span class="p">(</span><span class="nx">Latitude</span><span class="p">,</span> <span class="nx">Longitude</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Get pictures by using coordinates</span>

<span class="kd">function</span> <span class="nx">getPictures</span><span class="p">(</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">longitude</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#pictures</span><span class="dl">'</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">queryString</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">https://api.flickr.com/services/rest/?method=flickr.photos.search&amp;api_key=Your_API_Key&amp;lat=</span><span class="dl">"</span>
    <span class="o">+</span> <span class="nx">latitude</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">&amp;lon=</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">longitude</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">&amp;format=json&amp;jsoncallback=?</span><span class="dl">"</span><span class="p">;</span>

    <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">queryString</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">photos</span><span class="p">.</span><span class="nx">photo</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="p">{</span>

            <span class="kd">var</span> <span class="nx">photoURL</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">http://farm</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">item</span><span class="p">.</span><span class="nx">farm</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">.static.flickr.com/</span><span class="dl">"</span> <span class="o">+</span>
                <span class="nx">item</span><span class="p">.</span><span class="nx">server</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">item</span><span class="p">.</span><span class="nx">id</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">_</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">item</span><span class="p">.</span><span class="nx">secret</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">_m.jpg</span><span class="dl">"</span><span class="p">;</span>

            <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#pictures</span><span class="dl">'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">&lt;img /&gt;</span><span class="dl">"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">"</span><span class="s2">src</span><span class="dl">"</span><span class="p">,</span> <span class="nx">photoURL</span><span class="p">));</span>

           <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Success callback for watching your changing position</span>

<span class="kd">var</span> <span class="nx">onPicturesWatchSuccess</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">updatedLatitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">updatedLongitude</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">updatedLatitude</span> <span class="o">!=</span> <span class="nx">Latitude</span> <span class="o">&amp;&amp;</span> <span class="nx">updatedLongitude</span> <span class="o">!=</span> <span class="nx">Longitude</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">Latitude</span> <span class="o">=</span> <span class="nx">updatedLatitude</span><span class="p">;</span>
        <span class="nx">Longitude</span> <span class="o">=</span> <span class="nx">updatedLongitude</span><span class="p">;</span>

        <span class="nx">getPictures</span><span class="p">(</span><span class="nx">updatedLatitude</span><span class="p">,</span> <span class="nx">updatedLongitude</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Error callback</span>

<span class="kd">function</span> <span class="nx">onPicturesError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">code: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span>
        <span class="dl">'</span><span class="s1">message: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Watch your changing position</span>

<span class="kd">function</span> <span class="nx">watchPicturePosition</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">return</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">watchPosition</span>
    <span class="p">(</span><span class="nx">onPicturesWatchSuccess</span><span class="p">,</span> <span class="nx">onPicturesError</span><span class="p">,</span> <span class="p">{</span> <span class="na">enableHighAccuracy</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="p">}</span>

</code></pre></div></div>
