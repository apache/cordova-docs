<h1 id="events">Events</h1>

<p>There are various events provided by cordova to be used by the application.
The application code could add listeners for these events. For example:</p>

<p><strong>HTML File</strong></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Device Ready Example<span class="nt">&lt;/title&gt;</span>

    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="na">src=</span><span class="s">"cordova.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="na">src=</span><span class="s">"example.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body</span> <span class="na">onload=</span><span class="s">"onLoad()"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p><strong>JS File</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// example.js file</span>
<span class="c1">// Wait for device API libraries to load</span>
<span class="c1">//</span>
<span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">deviceready</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onDeviceReady</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// device APIs are available</span>
<span class="c1">//</span>
<span class="kd">function</span> <span class="nx">onDeviceReady</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">pause</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onPause</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">resume</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onResume</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">menubutton</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onMenuKeyDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="c1">// Add similar listeners for other events</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onPause</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the pause event</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onResume</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the resume event</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onMenuKeyDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the menubutton event</span>
<span class="p">}</span>

<span class="c1">// listen for uncaught cordova callback errors</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">cordovacallbackerror</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// event.error contains the original error object</span>
<span class="p">});</span>
</code></pre></div></div>

<p><strong>Note</strong>: Applications typically should use <code class="language-plaintext highlighter-rouge">document.addEventListener</code> to attach an event listener once the <a href="#deviceready">deviceready</a></p>

<p>The following table lists the cordova events and the supported platforms:</p>

<!-- START HTML -->
<table class="compat" width="100%">
    <thead>
        <tr>
            <th>Supported Platforms/<br />Events</th>
            <th>android</th>
            <th>ios</th>
            <th>Windows</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th><a href="#deviceready">deviceready</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="y"></td>
            <td data-col="win" class="y"></td>
        </tr>
        <tr>
            <th><a href="#pause">pause</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="y"></td>
            <td data-col="win" class="y"></td>
        </tr>
        <tr>
            <th><a href="#resume">resume</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="y"></td>
            <td data-col="win" class="y"></td>
        </tr>
        <tr>
            <th><a href="#backbutton">backbutton</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="n"></td>
            <td data-col="win" class="y"></td>
        </tr>
        <tr>
            <th><a href="#menubutton">menubutton</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="n"></td>
            <td data-col="win" class="n"></td>
        </tr>
        <tr>
            <th><a href="#searchbutton">searchbutton</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="n"></td>
            <td data-col="win" class="n"></td>
        </tr>
        <tr>
            <th><a href="#startcallbutton">startcallbutton</a></th>
            <td data-col="android" class="n"></td>
            <td data-col="ios" class="n"></td>
            <td data-col="win" class="n"></td>
        </tr>
        <tr>
            <th><a href="#endcallbutton">endcallbutton</a></th>
            <td data-col="android" class="n"></td>
            <td data-col="ios" class="n"></td>
            <td data-col="win" class="n"></td>
        </tr>
        <tr>
            <th><a href="#volumedownbutton">volumedownbutton</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="n"></td>
            <td data-col="win" class="n"></td>
        </tr>
        <tr>
            <th><a href="#volumeupbutton">volumeupbutton</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="n"></td>
            <td data-col="win" class="n"></td>
        </tr>
        <tr>
            <th><a href="#activated">activated</a></th>
            <td data-col="android" class="n"></td>
            <td data-col="ios" class="n"></td>
            <td data-col="win" class="y"></td>
        </tr>
        <tr>
            <th><a href="#cordovacallbackerror">cordovacallbackerror</a></th>
            <td data-col="android" class="y"></td>
            <td data-col="ios" class="y"></td>
            <td data-col="win" class="y"></td>
        </tr>
    </tbody>
</table>
<!-- END HTML -->

<h2 id="deviceready">deviceready</h2>

<p>The deviceready event fires when Cordova is fully loaded. This event is
essential to any application. It signals that Cordova’s device APIs have
loaded and are ready to access.</p>

<p>Cordova consists of two code bases: native and JavaScript. While the
native code loads, a custom loading image displays. However,
JavaScript only loads once the DOM loads. This means the web app may
potentially call a Cordova JavaScript function before the
corresponding native code becomes available.</p>

<p>The <code class="language-plaintext highlighter-rouge">deviceready</code> event fires once Cordova has fully loaded. Once the
event fires, you can safely make calls to Cordova APIs.  Applications
typically attach an event listener with <code class="language-plaintext highlighter-rouge">document.addEventListener</code>
once the HTML document’s DOM has loaded.</p>

<p>The <code class="language-plaintext highlighter-rouge">deviceready</code> event behaves somewhat differently from others.  Any
event handler registered after the <code class="language-plaintext highlighter-rouge">deviceready</code> event fires has its
callback function called immediately.</p>

<h3 id="quick-example">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">deviceready</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onDeviceReady</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onDeviceReady</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Now safe to use device APIs</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="pause">pause</h2>

<p>The pause event fires when the native platform puts the application into the background,
typically when the user switches to a different application.</p>

<h3 id="quick-example-1">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">pause</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onPause</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onPause</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the pause event</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="ios-quirks">iOS Quirks</h3>

<p>In the <code class="language-plaintext highlighter-rouge">pause</code> handler, any calls to the Cordova API or to native
plugins that go through Objective-C do not work, along with any
interactive calls, such as alerts or <code class="language-plaintext highlighter-rouge">console.log()</code>. They are only
processed when the app resumes, on the next run loop.</p>

<p>The iOS-specific <code class="language-plaintext highlighter-rouge">resign</code> event is available as an alternative to
<code class="language-plaintext highlighter-rouge">pause</code>, and detects when users enable the <strong>Lock</strong> button to lock the
device with the app running in the foreground.  If the app (and
device) is enabled for multi-tasking, this is paired with a subsequent
<code class="language-plaintext highlighter-rouge">pause</code> event, but only under iOS 5. In effect, all locked apps in iOS
5 that have multi-tasking enabled are pushed to the background.  For
apps to remain running when locked under iOS 5, disable the app’s
multi-tasking by setting <a href="http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html">UIApplicationExitsOnSuspend</a>
to <code class="language-plaintext highlighter-rouge">YES</code>. To run when locked on iOS 4, this setting does not matter.</p>

<h2 id="resume">resume</h2>

<p>The <code class="language-plaintext highlighter-rouge">resume</code> event fires when the native platform pulls the application out from the background.</p>

<h3 id="quick-example-2">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">resume</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onResume</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onResume</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the resume event</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="ios-quirks-1">iOS Quirks</h3>

<p>Any interactive functions called from a <a href="#pause">pause</a> event handler execute
later when the app resumes, as signaled by the <code class="language-plaintext highlighter-rouge">resume</code> event. These
include alerts, <code class="language-plaintext highlighter-rouge">console.log()</code>, and any calls from plugins or the
Cordova API, which go through Objective-C.</p>

<ul>
  <li>
    <p><strong>active</strong> event</p>

    <p>The iOS-specific <code class="language-plaintext highlighter-rouge">active</code> event is available as an alternative to
<code class="language-plaintext highlighter-rouge">resume</code>, and detects when users disable the <strong>Lock</strong> button to unlock
the device with the app running in the foreground.  If the app (and
device) is enabled for multi-tasking, this is paired with a subsequent
<code class="language-plaintext highlighter-rouge">resume</code> event, but only under iOS 5. In effect, all locked apps in
iOS 5 that have multi-tasking enabled are pushed to the background.
For apps to remain running when locked under iOS 5, disable the app’s
multi-tasking by setting <a href="http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html">UIApplicationExitsOnSuspend</a>
to <code class="language-plaintext highlighter-rouge">YES</code>. To run when locked on iOS 4, this setting does not matter.</p>
  </li>
  <li>
    <p><strong>resume</strong> event</p>

    <p>When called from a <code class="language-plaintext highlighter-rouge">resume</code> event handler, interactive functions such
as <code class="language-plaintext highlighter-rouge">alert()</code> need to be wrapped in a <code class="language-plaintext highlighter-rouge">setTimeout()</code> call with a
timeout value of zero, or else the app hangs. For example:</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">resume</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onResume</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
  <span class="kd">function</span> <span class="nx">onResume</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="c1">// TODO: do your thing!</span>
          <span class="p">},</span> <span class="mi">0</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="android-quirks">Android Quirks</h3>

<p>Refer <a href="../../guide/platforms/android/index.html#lifecycle-guide">Android Life Cycle Guide</a> for details on android quirks with
the <code class="language-plaintext highlighter-rouge">resume</code> event.</p>

<h2 id="backbutton">backbutton</h2>

<p>The event fires when the user presses the back button. To override the default
back-button behavior, register an event listener for the <code class="language-plaintext highlighter-rouge">backbutton</code> event.
It is no longer necessary to call any other method to override the
back-button behavior.</p>

<h3 id="quick-example-3">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">backbutton</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onBackKeyDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onBackKeyDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the back button</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="windows-quirks">Windows Quirks</h3>

<p>Throw an error in a <code class="language-plaintext highlighter-rouge">backbutton</code> callback to force the default behavior, which is an app exit:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">backbutton</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">cordova</span><span class="p">.</span><span class="nx">platformId</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">windows</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">!==</span> <span class="nx">firstPageUrl</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">back</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Exit</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// This will suspend the app</span>
    <span class="p">}</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="menubutton">menubutton</h2>

<p>The event fires when the user presses the menu button. Applying an event handler
overrides the default menu button behavior.</p>

<h3 id="quick-example-4">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">menubutton</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onMenuKeyDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onMenuKeyDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the back button</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="searchbutton">searchbutton</h2>

<p>The event fires when the user presses the search button on Android. If you need to
override the default search button behavior on Android you can register an event
listener for the ‘searchbutton’ event.</p>

<h3 id="quick-example-5">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">searchbutton</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onSearchKeyDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onSearchKeyDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the search button</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="startcallbutton">startcallbutton</h2>

<p>The event fires when the user presses the start call button. If you need to override
the default start call behavior you can register an event listener for the <code class="language-plaintext highlighter-rouge">startcallbutton</code> event.</p>

<h3 id="quick-example-6">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">startcallbutton</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onStartCallKeyDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onStartCallKeyDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the start call button</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="endcallbutton">endcallbutton</h2>

<p>This event fires when the user presses the end call button. The event overrides the
default end call behavior.</p>

<h3 id="quick-example-7">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">endcallbutton</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onEndCallKeyDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onEndCallKeyDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the end call button</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="volumedownbutton">volumedownbutton</h2>

<p>The event fires when the user presses the volume down button. If you need to override
the default volume down behavior you can register an event listener for the <code class="language-plaintext highlighter-rouge">volumedownbutton</code> event.</p>

<h3 id="quick-example-8">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">volumedownbutton</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onVolumeDownKeyDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onVolumeDownKeyDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the volume down button</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="volumeupbutton">volumeupbutton</h2>

<p>The event fires when the user presses the volume up button. If you need to override
the default volume up behavior you can register an event listener for the <code class="language-plaintext highlighter-rouge">volumeupbutton</code> event.</p>

<h3 id="quick-example-9">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">volumeupbutton</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onVolumeUpKeyDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onVolumeUpKeyDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Handle the volume up button</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="activated">activated</h2>

<p>The event fires when Windows Runtime activation has occurred. See <a href="https://msdn.microsoft.com/en-us/library/windows/apps/br212679.aspx">MSDN docs</a> for further details and activation types.</p>

<h3 id="quick-example-10">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">activated</span><span class="dl">"</span><span class="p">,</span> <span class="nx">activated</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">activated</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">args</span> <span class="o">&amp;&amp;</span> <span class="nx">args</span><span class="p">.</span><span class="nx">kind</span> <span class="o">===</span> <span class="nx">Windows</span><span class="p">.</span><span class="nx">ApplicationModel</span><span class="p">.</span><span class="nx">Activation</span><span class="p">.</span><span class="nx">ActivationKind</span><span class="p">.</span><span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
       <span class="c1">// Using args.raw to get the native StorageFile object</span>
        <span class="nx">Windows</span><span class="p">.</span><span class="nx">Storage</span><span class="p">.</span><span class="nx">FileIO</span><span class="p">.</span><span class="nx">readTextAsync</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">detail</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
        <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="windows-quirks-1">Windows Quirks</h3>

<ul>
  <li>
    <p>Original activated event args are available in <code class="language-plaintext highlighter-rouge">args.raw.detail[0]</code> property and can be used to get a type information or invoke methods of one of the activation arguments,</p>
  </li>
  <li>
    <p>Original activated event args are also cloned to <code class="language-plaintext highlighter-rouge">args.detail[0]</code> and can be used as a fallback in case an inner args property has been lost.<br />
See https://issues.apache.org/jira/browse/CB-10653 for details.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">activated</code> event might be fired before <code class="language-plaintext highlighter-rouge">deviceready</code> so you should save the activation flag and args to the app context in case you need them - for example in the <a href="https://issues.apache.org/jira/browse/CB-11924">Share target case</a>.
The subscription to the <code class="language-plaintext highlighter-rouge">activated</code> event should be done before <code class="language-plaintext highlighter-rouge">deviceready</code> handler (in <code class="language-plaintext highlighter-rouge">app.bindEvents</code> in terms of the Cordova template).</p>
  </li>
</ul>

<h2 id="cordovacallbackerror">cordovacallbackerror</h2>

<p>This event fires when a native callback (success or error) throws an uncaught error.</p>

<p>This does not stop propagation of the error.  (eg. window.onerror event will also fire.)</p>

<p>It is slightly different from the other events.  You must listen on the <code class="language-plaintext highlighter-rouge">window</code> object, not the <code class="language-plaintext highlighter-rouge">document</code> object.</p>

<p>The <code class="language-plaintext highlighter-rouge">event</code> object has the following properties:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">error</code>: The original <code class="language-plaintext highlighter-rouge">Error</code> thrown in the callback.</li>
</ul>

<h3 id="quick-example-11">Quick Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">cordovacallbackerror</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// event.error contains the original error object</span>
<span class="p">});</span>
</code></pre></div></div>
