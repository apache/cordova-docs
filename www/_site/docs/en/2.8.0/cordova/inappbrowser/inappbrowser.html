<h1 id="inappbrowser">InAppBrowser</h1>

<blockquote>
  <p>The InAppBrowser is a web-browser that is shown in your app when you use the <code class="language-plaintext highlighter-rouge">[window.open](window.open.html)</code> call.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var ref = window.open('http://apache.org', '_blank', 'location=yes');
</code></pre></div></div>

<h2 id="description">Description</h2>

<p>The object returned from a call to <code class="language-plaintext highlighter-rouge">[window.open](window.open.html)</code>.</p>

<h2 id="methods">Methods</h2>

<ul>
  <li>addEventListener</li>
  <li>removeEventListener</li>
  <li>close</li>
  <li>executeScript</li>
  <li>insertCSS</li>
</ul>

<h2 id="permissions">Permissions</h2>

<h3 id="android">Android</h3>

<h4 id="appresxmlconfigxml">app/res/xml/config.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;plugin name="InAppBrowser" value="org.apache.cordova.InAppBrowser" /&gt;
</code></pre></div></div>

<h3 id="ios">iOS</h3>

<h4 id="configxml">config.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;plugin name="InAppBrowser" value="CDVInAppBrowser" /&gt;
</code></pre></div></div>

<h3 id="windows-phone-7--8">Windows Phone 7 + 8</h3>

<h4 id="configxml-1">config.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;plugin name="InAppBrowser" /&gt;
</code></pre></div></div>

<h1 id="addeventlistener">addEventListener</h1>

<blockquote>
  <p>Adds a listener for an event from the InAppBrowser.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ref.addEventListener(eventname, callback);
</code></pre></div></div>

<ul>
  <li><strong>ref:</strong> reference to the InAppBrowser window (<code class="language-plaintext highlighter-rouge">InAppBrowser</code>)</li>
  <li>
    <p><strong>eventname:</strong> the event to listen for (<code class="language-plaintext highlighter-rouge">String</code>)</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  loadstart - event fired when the InAppBrowser starts to load a URL
  loadstop - event fired when the InAppBrowser finished loading a URL
  loaderror - event fired when the InAppBrowser encounters an error loading a URL
  exit - event fired when the InAppBrowser window is closed
</code></pre></div>    </div>
  </li>
  <li><strong>callback:</strong> the function that is called when the event is fired.
The function is passed an <code class="language-plaintext highlighter-rouge">InAppBrowserEvent</code> object.</li>
</ul>

<h2 id="supported-platforms">Supported Platforms</h2>

<ul>
  <li>Android</li>
  <li>iOS</li>
  <li>Windows Phone 7 + 8</li>
</ul>

<h2 id="quick-example">Quick <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var ref = window.open('http://apache.org', '_blank', 'location=yes');
ref.addEventListener('loadstart', function() { alert(event.url); });
</code></pre></div></div>

<h2 id="full-example">Full <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;InAppBrowser.addEventListener Example&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="cordova-x.x.x.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is ready
    //
    function onDeviceReady() {
         var ref = window.open('http://apache.org', '_blank', 'location=yes');
         ref.addEventListener('loadstart', function(event) { alert('start: ' + event.url); });
         ref.addEventListener('loadstop', function(event) { alert('stop: ' + event.url); });
         ref.addEventListener('loaderror', function(event) { alert('error: ' + event.message); });
         ref.addEventListener('exit', function(event) { alert(event.type); });
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>

<h1 id="removeeventlistener">removeEventListener</h1>

<blockquote>
  <p>Removes a listener for an event from the InAppBrowser.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ref.removeEventListener(eventname, callback);
</code></pre></div></div>

<ul>
  <li><strong>ref:</strong> reference to the InAppBrowser window (<code class="language-plaintext highlighter-rouge">InAppBrowser</code>)</li>
  <li>
    <p><strong>eventname:</strong> the event to stop listening for (<code class="language-plaintext highlighter-rouge">String</code>)</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  loadstart - event fired when the InAppBrowser starts to load a URL
  loadstop - event fired when the InAppBrowser finished loading a URL
  loaderror - event fired when the InAppBrowser encounters an error loading a URL
  exit - event fired when the InAppBrowser window is closed
</code></pre></div>    </div>
  </li>
  <li><strong>callback:</strong> the function that was to be called when the event is fired.
The function is passed an <code class="language-plaintext highlighter-rouge">InAppBrowserEvent</code> object.</li>
</ul>

<h2 id="supported-platforms-1">Supported Platforms</h2>

<ul>
  <li>Android</li>
  <li>iOS</li>
  <li>Windows Phone 7 + 8</li>
</ul>

<h2 id="quick-example-1">Quick <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var ref = window.open('http://apache.org', '_blank', 'location=yes');
var myCallback = function() { alert(event.url); }
ref.addEventListener('loadstart', myCallback);
ref.removeEventListener('loadstart', myCallback);
</code></pre></div></div>

<h2 id="full-example-1">Full <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;InAppBrowser.removeEventListener Example&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="cordova-x.x.x.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Global InAppBrowser reference
    var iabRef = null;

    function iabLoadStart(event) {
        alert(event.type + ' - ' + event.url);
    }

    function iabLoadStop(event) {
        alert(event.type + ' - ' + event.url);
    }

    function iabLoadError(event) {
        alert(event.type + ' - ' + event.message);
    }

    function iabClose(event) {
         alert(event.type);
         iabRef.removeEventListener('loadstart', iabLoadStart);
         iabRef.removeEventListener('loadstop', iabLoadStop);
         iabRef.removeEventListener('loaderror', iabLoadError);
         iabRef.removeEventListener('exit', iabClose);
    }

    // Cordova is ready
    //
    function onDeviceReady() {
         iabRef = window.open('http://apache.org', '_blank', 'location=yes');
         iabRef.addEventListener('loadstart', iabLoadStart);
         iabRef.addEventListener('loadstop', iabLoadStop);
         iabRef.removeEventListener('loaderror', iabLoadError);
         iabRef.addEventListener('exit', iabClose);
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>

<h1 id="close">close</h1>

<blockquote>
  <p>Closes the InAppBrowser window.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ref.close();
</code></pre></div></div>

<ul>
  <li><strong>ref:</strong> reference to the InAppBrowser window (<code class="language-plaintext highlighter-rouge">InAppBrowser</code>)</li>
</ul>

<h2 id="supported-platforms-2">Supported Platforms</h2>

<ul>
  <li>Android</li>
  <li>iOS</li>
  <li>Windows Phone 7 + 8</li>
  <li>BlackBerry 10</li>
</ul>

<h2 id="quick-example-2">Quick <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var ref = window.open('http://apache.org', '_blank', 'location=yes');
ref.close();
</code></pre></div></div>

<h2 id="full-example-2">Full <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;InAppBrowser.close Example&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="cordova-x.x.x.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is ready
    //
    function onDeviceReady() {
         var ref = window.open('http://apache.org', '_blank', 'location=yes');
         // close InAppBrowser after 5 seconds
         setTimeout(function() {
             ref.close();
         }, 5000);
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>

<h1 id="executescript">executeScript</h1>

<blockquote>
  <p>Injects JavaScript code into the InAppBrowser window</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ref.executeScript(details, callback);
</code></pre></div></div>

<ul>
  <li><strong>ref:</strong> reference to the InAppBrowser window (<code class="language-plaintext highlighter-rouge">InAppBrowser</code>)</li>
  <li><strong>injectDetails:</strong> details of the script ot run (<code class="language-plaintext highlighter-rouge">Object</code>)
    <ul>
      <li>
        <p>Supported keys:  (exactly one of “file” or “code” should be present)</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  "file" - URL of the script to inject
  "code" - Text of the script to inject
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>callback:</strong> the function that is to be called in the Cordova application after the JavaScript code is injected.
    <ul>
      <li>If the injected script is of type “code”, then the callback will be called with a single argument, which is
the return value of the script, wrapped in an Array. (For multi-line scripts, this is the return value of the
last statement, or the last expression evaluated.)</li>
    </ul>
  </li>
</ul>

<h2 id="supported-platforms-3">Supported Platforms</h2>

<ul>
  <li>Android</li>
  <li>iOS</li>
</ul>

<h2 id="quick-example-3">Quick <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var ref = window.open('http://apache.org', '_blank', 'location=yes');
ref.addEventListener('loadstop', function() {
    ref.executeSript({file: "myscript.js"});
});
</code></pre></div></div>

<h2 id="full-example-3">Full <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;InAppBrowser.executeScript Example&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Global InAppBrowser reference
    var iabRef = null;

    // Inject our custom JavaScript into the InAppBrowser window
    //
    function replaceHeaderImage() {
        iabRef.executeScript({
            code: "var img=document.querySelector('#header img'); img.src='http://cordova.apache.org/images/cordova_bot.png';"
        }, function() {
            alert("Image Element Successfully Hijacked");
        }
    }

    function iabClose(event) {
         iabRef.removeEventListener('loadstop', replaceHeaderImage);
         iabRef.removeEventListener('exit', iabClose);
    }

    // Cordova is ready
    //
    function onDeviceReady() {
         iabRef = window.open('http://apache.org', '_blank', 'location=yes');
         iabRef.addEventListener('loadstop', replaceHeaderImage);
         iabRef.addEventListener('exit', iabClose);
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>

<h1 id="insertcss">insertCSS</h1>

<blockquote>
  <p>Injects CSS into the InAppBrowser window</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ref.insertCSS(details, callback);
</code></pre></div></div>

<ul>
  <li><strong>ref:</strong> reference to the InAppBrowser window (<code class="language-plaintext highlighter-rouge">InAppBrowser</code>)</li>
  <li><strong>injectDetails:</strong> details of the script to run (<code class="language-plaintext highlighter-rouge">Object</code>)
    <ul>
      <li>
        <p>Supported keys:  (exactly one of “file” or “code” should be present)</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  "file" - URL of the stylesheet to inject
  "code" - Text of the stylesheet to inject
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>callback:</strong> the function that is to be called in the Cordova application after the CSS is injected.</li>
</ul>

<h2 id="supported-platforms-4">Supported Platforms</h2>

<ul>
  <li>Android</li>
  <li>iOS</li>
</ul>

<h2 id="quick-example-4">Quick <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var ref = window.open('http://apache.org', '_blank', 'location=yes');
ref.addEventListener('loadstop', function() {
    ref.insertCSS({file: "mystyles.css"});
});
</code></pre></div></div>

<h2 id="full-example-4">Full <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;InAppBrowser.insertCSS Example&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Global InAppBrowser reference
    var iabRef = null;

    // Inject our custom CSS into the InAppBrowser window
    //
    function changeBackgroundColor() {
        iabRef.insertCSS({
            code: "body { background: #ffff00"
        }, function() {
            alert("Styles Altered");
        }
    }

    function iabClose(event) {
         iabRef.removeEventListener('loadstop', changeBackgroundColor);
         iabRef.removeEventListener('exit', iabClose);
    }

    // Cordova is ready
    //
    function onDeviceReady() {
         iabRef = window.open('http://apache.org', '_blank', 'location=yes');
         iabRef.addEventListener('loadstop', changeBackgroundColor);
         iabRef.addEventListener('exit', iabClose);
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>

<h1 id="inappbrowserevent">InAppBrowserEvent</h1>

<p>The object that is passed to the callback function from an addEventListener call on an InAppBrowser object.</p>

<h2 id="properties">Properties</h2>

<ul>
  <li><strong>type:</strong> the eventname (<code class="language-plaintext highlighter-rouge">String</code>) - one of loadstart, loadstop, loaderror or exit</li>
  <li><strong>url:</strong> the URL that was loaded (<code class="language-plaintext highlighter-rouge">String</code>)</li>
  <li><strong>code:</strong> the error code (<code class="language-plaintext highlighter-rouge">Number</code>) - only in the case of loaderror</li>
  <li><strong>message:</strong> the error message (<code class="language-plaintext highlighter-rouge">String</code>) - only in the case of loaderror</li>
</ul>
