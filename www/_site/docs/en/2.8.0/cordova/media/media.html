<h1 id="media">Media</h1>

<blockquote>
  <p>The <code class="language-plaintext highlighter-rouge">Media</code> object provides the ability to record and play back audio files on a device.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var media = new Media(src, mediaSuccess, [mediaError], [mediaStatus]);
</code></pre></div></div>

<p>Note: The current implementation does not adhere to a W3C specification for media capture, and is provided for convenience only.  A future implementation will adhere to the latest W3C specification and may deprecate the current APIs.</p>

<h2 id="parameters">Parameters</h2>

<ul>
  <li><strong>src</strong>: A URI containing the audio content. <em>(DOMString)</em></li>
  <li><strong>mediaSuccess</strong>: (Optional) The callback that is invoked after a Media object has completed the current play/record or stop action. <em>(Function)</em></li>
  <li><strong>mediaError</strong>: (Optional) The callback that is invoked if there was an error. <em>(Function)</em></li>
  <li><strong>mediaStatus</strong>: (Optional) The callback that is invoked to indicate status changes. <em>(Function)</em></li>
</ul>

<h2 id="constants">Constants</h2>

<p>The following constants are reported as the only parameter to the <strong>mediaStatus</strong> callback function.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Media.MEDIA_NONE</code>     = 0;</li>
  <li><code class="language-plaintext highlighter-rouge">Media.MEDIA_STARTING</code> = 1;</li>
  <li><code class="language-plaintext highlighter-rouge">Media.MEDIA_RUNNING</code>  = 2;</li>
  <li><code class="language-plaintext highlighter-rouge">Media.MEDIA_PAUSED</code>   = 3;</li>
  <li><code class="language-plaintext highlighter-rouge">Media.MEDIA_STOPPED</code>  = 4;</li>
</ul>

<h2 id="methods">Methods</h2>

<ul>
  <li><a href="media.getCurrentPosition.html">media.getCurrentPosition</a>: Returns the current position within an audio file.</li>
  <li><a href="media.getDuration.html">media.getDuration</a>: Returns the duration of an audio file.</li>
  <li><a href="media.play.html">media.play</a>: Start or <a href="../events/events.resume.html">resume</a> playing audio file.</li>
  <li><a href="media.pause.html">media.pause</a>: Pause playing audio file.</li>
  <li><a href="media.release.html">media.release</a>: Releases the underlying OSâ€™es audio resources.</li>
  <li><a href="media.seekTo.html">media.seekTo</a>: Moves the position within the audio file.</li>
  <li><a href="media.setVolume.html">media.setVolume</a>: Set the volume for audio playback.</li>
  <li><a href="media.startRecord.html">media.startRecord</a>: Start recording audio file.</li>
  <li><a href="media.stopRecord.html">media.stopRecord</a>: Stop recording audio file.</li>
  <li><a href="media.stop.html">media.stop</a>: Stop playing audio file.</li>
</ul>

<h2 id="additional-readonly-parameters">Additional ReadOnly Parameters</h2>

<ul>
  <li><strong>position</strong>: The position within the audio playback in seconds.
    <ul>
      <li>Not automatically updated during play, call <code class="language-plaintext highlighter-rouge">getCurrentPosition</code> to update.</li>
    </ul>
  </li>
  <li><strong>duration</strong>: The duration of the media in seconds.</li>
</ul>

<h2 id="supported-platforms">Supported Platforms</h2>

<ul>
  <li>Android</li>
  <li>BlackBerry WebWorks (OS 5.0 and higher)</li>
  <li>iOS</li>
  <li>Windows Phone 7.5</li>
  <li>Tizen</li>
  <li>Windows 8</li>
</ul>

<h2 id="permissions">Permissions</h2>

<h3 id="android">Android</h3>

<h4 id="appresxmlconfigxml">app/res/xml/config.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;plugin name="Media" value="org.apache.cordova.AudioHandler" /&gt;
</code></pre></div></div>

<h4 id="appandroidmanifestxml">app/AndroidManifest.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;uses-permission android:name="android.permission.RECORD_AUDIO" /&gt;
&lt;uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" /&gt;
&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
</code></pre></div></div>

<h3 id="bada">Bada</h3>

<h4 id="manifestxml">manifest.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;Privilege&gt;
    &lt;Name&gt;RECORDING&lt;/Name&gt;
&lt;/Privilege&gt;
</code></pre></div></div>

<h3 id="blackberry-webworks">BlackBerry WebWorks</h3>

<h4 id="wwwpluginsxml">www/plugins.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;plugin name="Capture" value="org.apache.cordova.media.MediaCapture" /&gt;
</code></pre></div></div>

<h3 id="ios">iOS</h3>

<h4 id="configxml">config.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;plugin name="Media" value="CDVSound" /&gt;
</code></pre></div></div>

<h3 id="webos">webOS</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>No permissions are required.
</code></pre></div></div>

<h3 id="windows-phone">Windows Phone</h3>

<h4 id="propertieswpappmanifestxml">Properties/WPAppManifest.xml</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;Capabilities&gt;
    &lt;Capability Name="ID_CAP_MEDIALIB" /&gt;
    &lt;Capability Name="ID_CAP_MICROPHONE" /&gt;
    &lt;Capability Name="ID_HW_FRONTCAMERA" /&gt;
    &lt;Capability Name="ID_CAP_ISV_CAMERA" /&gt;
    &lt;Capability Name="ID_CAP_CAMERA" /&gt;
&lt;/Capabilities&gt;
</code></pre></div></div>

<p>Reference: <a href="http://msdn.microsoft.com/en-us/library/ff769509%28v=vs.92%29.aspx">Application Manifest for Windows Phone</a></p>

<h3 id="tizen">Tizen</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>No permissions are required.
</code></pre></div></div>

<h3 id="windows-phone-quirks">Windows Phone Quirks</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Only one media file can be played back at a time.
</code></pre></div></div>

<p>There are strict restrictions as to how your application interacts with other media. See the <a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh184838(v=vs.92).aspx">Microsoft documentation for details</a>.</p>

