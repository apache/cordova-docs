<h1 id="accelerometerwatchacceleration">accelerometer.watchAcceleration</h1>

<p>At a regular interval, get the acceleration along the <em>x</em>, <em>y</em>, and <em>z</em> axis.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var watchID = navigator.accelerometer.watchAcceleration(accelerometerSuccess,
                                                       accelerometerError,
                                                       [accelerometerOptions]);
</code></pre></div></div>

<h2 id="description">Description</h2>

<p>The accelerometer is a motion sensor that detects the change (delta)
in movement relative to the current position. The accelerometer can
detect 3D movement along the <em>x</em>, <em>y</em>, and <em>z</em> axis.</p>

<p>The <code class="language-plaintext highlighter-rouge">accelerometer.watchAcceleration</code> method retrieves the device’s
current <code class="language-plaintext highlighter-rouge">[Acceleration](acceleration/acceleration.html)</code> at a regular interval, executing the
<code class="language-plaintext highlighter-rouge">[accelerometerSuccess](parameters/accelerometerSuccess.html)</code> callback function each time. Specify the
interval in milliseconds via the <code class="language-plaintext highlighter-rouge">acceleratorOptions</code> object’s
<code class="language-plaintext highlighter-rouge">frequency</code> parameter.</p>

<p>The returned watch ID references the accelerometer’s watch interval,
and can be used with <code class="language-plaintext highlighter-rouge">[accelerometer.clearWatch](accelerometer.clearWatch.html)</code> to stop watching the
accelerometer.</p>

<h2 id="supported-platforms">Supported Platforms</h2>

<ul>
  <li>Android</li>
  <li>BlackBerry WebWorks (OS 5.0 and higher)</li>
  <li>iOS</li>
  <li>Tizen</li>
  <li>Windows Phone 7 and 8</li>
  <li>Windows 8</li>
</ul>

<h2 id="quick-example">Quick <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function onSuccess(acceleration) {
    alert('Acceleration X: ' + acceleration.x + '\n' +
          'Acceleration Y: ' + acceleration.y + '\n' +
          'Acceleration Z: ' + acceleration.z + '\n' +
          'Timestamp: '      + acceleration.timestamp + '\n');
};

function onError() {
    alert('onError!');
};

var options = { frequency: 3000 };  // Update every 3 seconds

var watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
</code></pre></div></div>

<h2 id="full-example">Full <a href="../storage/storage.opendatabase.html">Example</a></h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Acceleration Example&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="cordova.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // The watch id references the current `watchAcceleration`
    var watchID = null;

    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // device APIs are available
    //
    function onDeviceReady() {
        startWatch();
    }

    // Start watching the acceleration
    //
    function startWatch() {

        // Update acceleration every 3 seconds
        var options = { frequency: 3000 };

        watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
    }

    // Stop watching the acceleration
    //
    function stopWatch() {
        if (watchID) {
            navigator.accelerometer.clearWatch(watchID);
            watchID = null;
        }
    }

    // onSuccess: Get a snapshot of the current acceleration
    //
    function onSuccess(acceleration) {
        var element = document.getElementById('accelerometer');
        element.innerHTML = 'Acceleration X: ' + acceleration.x         + '&lt;br /&gt;' +
                            'Acceleration Y: ' + acceleration.y         + '&lt;br /&gt;' +
                            'Acceleration Z: ' + acceleration.z         + '&lt;br /&gt;' +
                            'Timestamp: '      + acceleration.timestamp + '&lt;br /&gt;';
    }

    // onError: Failed to get the acceleration
    //
    function onError() {
        alert('onError!');
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="accelerometer"&gt;Waiting for accelerometer...&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>

<h2 id="ios-quirks">iOS Quirks</h2>

<p>The API calls the success callback function at the interval requested,
but restricts the range of requests to the device between 40ms and
1000ms. For example, if you request an interval of 3 seconds,
(3000ms), the API requests data from the device every 1 second, but
only executes the success callback every 3 seconds.</p>
