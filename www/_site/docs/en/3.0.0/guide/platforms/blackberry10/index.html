<h1 id="blackberry-10-platform-guide">BlackBerry 10 Platform Guide</h1>

<p>This guide shows how to set up your development environment to build
and deploy Cordova apps for BlackBerry 10 devices.  For previous
versions of BlackBerry, you need to use a different set of
command-line tools, described in <a href="../blackberry/index.html">BlackBerry Platform Guide</a>.</p>

<h2 id="requirements">Requirements</h2>

<p>The development environment is available on Windows, Mac and Linux.</p>

<p>Developers should use the <code class="language-plaintext highlighter-rouge">cordova</code> utility in conjunction with the
BlackBerry Native SDK.  See <a href="../../cli/index.html">The Command-line Interface</a> for information
how to install <code class="language-plaintext highlighter-rouge">cordova</code>, add projects, then build and deploy for each
platform.</p>

<h2 id="install-the-blackberry-native-sdk">Install the BlackBerry Native SDK</h2>

<p>The BlackBerry Native SDK is available from
<a href="http://developer.blackberry.com/native/download/">developer.blackberry.com</a>.
Following installation, you need to add its command-line tools to your
system path.</p>

<p>On Windows:</p>

<ul>
  <li>
    <p>Go to <strong>My Computer → Properties → Advanced → Environment Variables</strong>.</p>
  </li>
  <li>
    <p>Append the Native SDK’s install directory to the PATH, for example:</p>

    <p>;C:\bbndk\host_10_1_0_132\darwin\x86\usr\bin\</p>
  </li>
</ul>

<p>On Mac and Linux:</p>

<ul>
  <li>
    <p>Edit the <code class="language-plaintext highlighter-rouge">~/.bash_profile</code> file, adding a line such as the
following, depending on where the Native SDK was installed:</p>

    <p>$ export PATH=${PATH}:/Applications/bbndk/host_10_1_0_132/darwin/x86/usr/bin/</p>

    <p>or for the 10.2 Native SDK:</p>

    <p>$ export PATH=${PATH}:/Applications/Momentics.app/host_10_2_0_15/darwin/x86/usr/bin/</p>
  </li>
  <li>
    <p>Run the following to apply the change in the current session:</p>

    <p>$ source ~/.bash_profile</p>
  </li>
</ul>

<h2 id="set-up-for-signing">Set up for Signing</h2>

<p>If you wish to test on a device or distribute apps through BlackBerry
World, your system must be setup for code signing.</p>

<p>To obtain a signing key, go to the BlackBerry website and make sure to
retain the password you specify. Then run the <code class="language-plaintext highlighter-rouge">blackberry-signer</code>
utility that is included with the BlackBerry Native SDK.</p>

<p>Detailed instuctions can be found here:</p>

<ul>
  <li>
    <p><a href="https://www.blackberry.com/SignedKeys/codesigning.html">Register for your code signing key.</a></p>
  </li>
  <li>
    <p><a href="https://developer.blackberry.com/html5/documentation/signing_setup_bb10_apps_2008396_11.html">Set up your system for code signing.</a></p>
  </li>
</ul>

<h2 id="create-a-project">Create a Project</h2>

<p>Use the <code class="language-plaintext highlighter-rouge">cordova</code> utility to set up a new project, as described in The
Command-line Interface. For example, in a source-code directory:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cordova create hello com.example.hello
$ cd hello
$ cordova platform add blackberry10
$ cordova build
</code></pre></div></div>

<h2 id="deploy-to-emulator">Deploy to Emulator</h2>

<p>If you wish to run a device emulator, download and install the
BlackBerry 10 Simulator.</p>

<ul>
  <li><a href="http://developer.blackberry.com/native/download/">Download</a></li>
  <li><a href="http://developer.blackberry.com/devzone/develop/simulator/blackberry_10_simulator_start.html">Getting Started</a></li>
</ul>

<p>Before testing an app on either an emulator or a device, you need to
add a <em>target</em> to your project. Each is identified with a unique name,
and associated with an IP address. You need to get the IP address from
the emulator before you use it to view apps.</p>

<p>Launch the emulator image, then choose <strong>Settings</strong> from the home screen:</p>

<p><img src="/static/img/guide/platforms/blackberry10/bb_home.png" alt="" /></p>

<p>Navigate to the <strong>Security and Privacy → Development Mode</strong>
section, enable the option, and obtain the IP address:</p>

<p><img src="/static/img/guide/platforms/blackberry10/bb_devel.png" alt="" /></p>

<p>An additional set of command-line utilities are included when you set
up the BlackBerry 10 platform for your project.  The following
command, in this case invoked from the project top-level directory,
associates a target named <em>emu</em> with the IP address displayed above.</p>

<ul>
  <li>
    <p>On Windows:</p>

    <p>$ platforms\blackberry10\cordova\target.bat add emu 169.254.0.1 -t simulator</p>
  </li>
  <li>
    <p>On Mac/Linux:</p>

    <p>$ platforms/blackberry10/cordova/target add emu 169.254.0.1 -t simulator</p>
  </li>
</ul>

<p>Then, run the <code class="language-plaintext highlighter-rouge">emulate</code> command to view the app:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cordova emulate blackberry10
</code></pre></div></div>

<h2 id="deploy-to-device">Deploy to Device</h2>

<p>To deploy to a device, make sure it is plugged into your computer.
Enable development mode and obtain the IP address as desribed in the
emulator section above. You will also need to obtain the PIN from the
the <strong>Settings</strong> application under <strong>About → Hardware</strong>:</p>

<p><img src="/static/img/guide/platforms/blackberry10/bb_pin.png" alt="" /></p>

<p>Run the target command-line utility to associate a name with an IP
address, device password and PIN.</p>

<ul>
  <li>
    <p>On Windows:</p>

    <p>$ platforms\blackberry10\cordova\target.bat add mydevice 169.254.0.1 -t device –password 123456 –pin FFFF972E</p>
  </li>
  <li>
    <p>On Mac/Linux:</p>

    <p>$ platforms/blackberry10/cordova/target add mydevice 169.254.0.1 -t device –password 123456 –pin FFFF972E</p>
  </li>
</ul>

<p>where:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--password</code> refers to the password to unlock the device.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">--pin</code> refers to the device PIN obtained from the <strong>Settings</strong> application.</p>
  </li>
</ul>

<p>Then, run the <code class="language-plaintext highlighter-rouge">run</code> command to view the app:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cordova run blackberry10
</code></pre></div></div>

<p>If a debug token is not yet set up for the device, an error message
prompts you to use the platform run script with the password you
provided when registering for signing keys.</p>

<ul>
  <li>
    <p>On Windows:</p>

    <p>$ platforms\blackberry10\cordova\run.bat –device –keystorepass mysecret</p>
  </li>
  <li>
    <p>On Mac/Linux:</p>

    <p>$ platforms/blackberry10/cordova/run –device –keystorepass mysecret</p>
  </li>
</ul>

<h2 id="debugging-with-webinspector">Debugging with WebInspector</h2>

<p>When debugging on the device or an emulator, you may run WebInspector
remotely to view the application’s internal state.  A prompt displays
the URL that allows you to connect to your app with a standard web
browser.  For more information, see
<a href="http://developer.blackberry.com/html5/documentation/web_inspector_overview_1553586_11.html">Debugging using WebInspector</a>.</p>

<h2 id="building-a-release-version">Building a Release Version</h2>

<p>By default, running the <code class="language-plaintext highlighter-rouge">cordova build</code> command creates an unsigned
<em>.bar</em> package file suitable for testing on a device or simulator.</p>

<p>You need to run a different <code class="language-plaintext highlighter-rouge">build</code> command to create a release
version suitable for distribution through BlackBerry World.  It does
not rely on the <code class="language-plaintext highlighter-rouge">cordova</code> CLI tool, and instead uses the following
syntax:</p>

<ul>
  <li>
    <p>On Windows:</p>

    <p>$ platforms\blackberry10\cordova\build.bat –release –keystorepass mysecret</p>
  </li>
  <li>
    <p>On Mac/Linux:</p>

    <p>$ platforms/blackberry10/cordova/build –release –keystorepass mysecret</p>
  </li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">--keystorepass</code> option specifies the password you defined when
configuring your computer to sign applications.</p>
