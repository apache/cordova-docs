<!-- WARNING: This file is generated. See fetch_docs.js. -->

<!---
# license: Licensed to the Apache Software Foundation (ASF) under one
#         or more contributor license agreements.  See the NOTICE file
#         distributed with this work for additional information
#         regarding copyright ownership.  The ASF licenses this file
#         to you under the Apache License, Version 2.0 (the
#         "License"); you may not use this file except in compliance
#         with the License.  You may obtain a copy of the License at
#
#           http://www.apache.org/licenses/LICENSE-2.0
#
#         Unless required by applicable law or agreed to in writing,
#         software distributed under the License is distributed on an
#         "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#         KIND, either express or implied.  See the License for the
#         specific language governing permissions and limitations
#         under the License.
-->

<h1 id="cordova-plugin-camera">cordova-plugin-camera</h1>

<p><a href="https://github.com/apache/cordova-plugin-camera/actions/workflows/android.yml"><img src="https://github.com/apache/cordova-plugin-camera/actions/workflows/android.yml/badge.svg" alt="Android Testsuite" /></a> <a href="https://github.com/apache/cordova-plugin-camera/actions/workflows/chrome.yml"><img src="https://github.com/apache/cordova-plugin-camera/actions/workflows/chrome.yml/badge.svg" alt="Chrome Testsuite" /></a> <a href="https://github.com/apache/cordova-plugin-camera/actions/workflows/ios.yml"><img src="https://github.com/apache/cordova-plugin-camera/actions/workflows/ios.yml/badge.svg" alt="iOS Testsuite" /></a> <a href="https://github.com/apache/cordova-plugin-camera/actions/workflows/lint.yml"><img src="https://github.com/apache/cordova-plugin-camera/actions/workflows/lint.yml/badge.svg" alt="Lint Test" /></a></p>

<p>This plugin defines a global <code class="language-plaintext highlighter-rouge">navigator.camera</code> object, which provides an API for taking pictures and for choosing images from
the system’s image library.</p>

<p>Although the object is attached to the global scoped <code class="language-plaintext highlighter-rouge">navigator</code>, it is not available until after the <code class="language-plaintext highlighter-rouge">deviceready</code> event.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>document.addEventListener("deviceready", onDeviceReady, false);
function onDeviceReady() {
    console.log(navigator.camera);
}
</code></pre></div></div>

<h2 id="installation">Installation</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cordova plugin add cordova-plugin-camera
</code></pre></div></div>

<p>It is also possible to install via repo url directly ( unstable )</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cordova plugin add https://github.com/apache/cordova-plugin-camera.git
</code></pre></div></div>

<h2 id="plugin-variables">Plugin variables</h2>

<p>The plugin uses the <code class="language-plaintext highlighter-rouge">ANDROIDX_CORE_VERSION</code> variable to configure <code class="language-plaintext highlighter-rouge">androidx.core:core</code> dependency. This allows to avoid conflicts with other plugins that have the dependency hardcoded.
If no value is passed, it will use <code class="language-plaintext highlighter-rouge">1.6.+</code> as the default value.</p>

<p>The variable is configured on install time</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cordova plugin add cordova-plugin-camera --variable ANDROIDX_CORE_VERSION=1.8.0
</code></pre></div></div>

<h2 id="how-to-contribute">How to Contribute</h2>

<p>Contributors are welcome! And we need your contributions to keep the project moving forward. You can[report bugs, improve the documentation, or <a href="https://github.com/apache/cordova-plugin-camera/pulls">contribute code</a>.</p>

<p>There is a specific <a href="http://wiki.apache.org/cordova/ContributorWorkflow">contributor workflow</a> we recommend. Start reading there. More information is available on <a href="http://wiki.apache.org/cordova">our wiki</a>.</p>

<p><strong>Have a solution?</strong> Send a <a href="https://github.com/apache/cordova-plugin-camera/pulls">Pull Request</a>.</p>

<p>In order for your changes to be accepted, you need to sign and submit an Apache <a href="http://www.apache.org/licenses/#clas">ICLA</a> (Individual Contributor License Agreement). Then your name will appear on the list of CLAs signed by <a href="https://people.apache.org/committer-index.html#unlistedclas">non-committers</a> or <a href="http://people.apache.org/committers-by-project.html#cordova">Cordova committers</a>.</p>

<p><strong>And don’t forget to test and document your code.</strong></p>

<h3 id="ios-quirks">iOS Quirks</h3>

<p>Since iOS 10 it’s mandatory to provide an usage description in the <code class="language-plaintext highlighter-rouge">info.plist</code> if trying to access privacy-sensitive data. When the system prompts the user to allow access, this usage description string will displayed as part of the permission dialog box, but if you didn’t provide the usage description, the app will crash before showing the dialog. Also, Apple will reject apps that access private data but don’t provide an usage description.</p>

<p>This plugins requires the following usage descriptions:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">NSCameraUsageDescription</code> specifies the reason for your app to access the device’s camera.</li>
  <li><code class="language-plaintext highlighter-rouge">NSPhotoLibraryUsageDescription</code> specifies the reason for your app to access the user’s photo library.</li>
  <li><code class="language-plaintext highlighter-rouge">NSLocationWhenInUseUsageDescription</code> specifies the reason for your app to access the user’s location information while your app is in use. (Set it if you have <code class="language-plaintext highlighter-rouge">CameraUsesGeolocation</code> preference set to <code class="language-plaintext highlighter-rouge">true</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">NSPhotoLibraryAddUsageDescription</code> specifies the reason for your app to get write-only access to the user’s photo library</li>
</ul>

<p>To add these entries into the <code class="language-plaintext highlighter-rouge">info.plist</code>, you can use the <code class="language-plaintext highlighter-rouge">edit-config</code> tag in the <code class="language-plaintext highlighter-rouge">config.xml</code> like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;edit-config target="NSCameraUsageDescription" file="*-Info.plist" mode="merge"&gt;
    &lt;string&gt;need camera access to take pictures&lt;/string&gt;
&lt;/edit-config&gt;
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;edit-config target="NSPhotoLibraryUsageDescription" file="*-Info.plist" mode="merge"&gt;
    &lt;string&gt;need photo library access to get pictures from there&lt;/string&gt;
&lt;/edit-config&gt;
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;edit-config target="NSLocationWhenInUseUsageDescription" file="*-Info.plist" mode="merge"&gt;
    &lt;string&gt;need location access to find things nearby&lt;/string&gt;
&lt;/edit-config&gt;
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;edit-config target="NSPhotoLibraryAddUsageDescription" file="*-Info.plist" mode="merge"&gt;
    &lt;string&gt;need photo library access to save pictures there&lt;/string&gt;
&lt;/edit-config&gt;
</code></pre></div></div>

<hr />

<h1 id="api-reference-">API Reference <a name="reference"></a></h1>

<ul>
  <li><a href="#module_camera">camera</a>
    <ul>
      <li><a href="#module_camera.getPicture">.getPicture(successCallback, errorCallback, options)</a></li>
      <li><a href="#module_camera.cleanup">.cleanup()</a></li>
      <li><a href="#module_camera.onError">.onError</a> : <code>function</code></li>
      <li><a href="#module_camera.onSuccess">.onSuccess</a> : <code>function</code></li>
      <li><a href="#module_camera.CameraOptions">.CameraOptions</a> : <code>Object</code></li>
    </ul>
  </li>
  <li><a href="#module_Camera">Camera</a>
    <ul>
      <li><a href="#module_Camera.DestinationType">.DestinationType</a> : <code>enum</code></li>
      <li><a href="#module_Camera.EncodingType">.EncodingType</a> : <code>enum</code></li>
      <li><a href="#module_Camera.MediaType">.MediaType</a> : <code>enum</code></li>
      <li><a href="#module_Camera.PictureSourceType">.PictureSourceType</a> : <code>enum</code></li>
      <li><a href="#module_Camera.PopoverArrowDirection">.PopoverArrowDirection</a> : <code>enum</code></li>
      <li><a href="#module_Camera.Direction">.Direction</a> : <code>enum</code></li>
    </ul>
  </li>
  <li><a href="#module_CameraPopoverHandle">CameraPopoverHandle</a></li>
  <li><a href="#module_CameraPopoverOptions">CameraPopoverOptions</a></li>
</ul>

<hr />

<p><a name="module_camera"></a></p>

<h2 id="camera">camera</h2>
<p><a name="module_camera.getPicture"></a></p>

<h3 id="cameragetpicturesuccesscallback-errorcallback-options">camera.getPicture(successCallback, errorCallback, options)</h3>
<p>Takes a photo using the camera, or retrieves a photo from the device’s
image gallery. The result is provided in the first parameter of the <code class="language-plaintext highlighter-rouge">successCallback</code> as a string.</p>

<p>As of v8.0.0, the result is formatted as URIs. The scheme will vary depending on settings and platform.</p>

<table>
  <thead>
    <tr>
      <th>Platform</th>
      <th>Destination Type</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Android</td>
      <td>FILE_URI</td>
      <td>An URI scheme such as <code class="language-plaintext highlighter-rouge">file://...</code> or <code class="language-plaintext highlighter-rouge">content://...</code></td>
    </tr>
    <tr>
      <td> </td>
      <td>DATA_URL</td>
      <td>Base 64 encoded with the proper data URI header</td>
    </tr>
    <tr>
      <td>iOS</td>
      <td>FILE_URI</td>
      <td><code class="language-plaintext highlighter-rouge">file://</code> schemed paths</td>
    </tr>
    <tr>
      <td> </td>
      <td>DATA_URL</td>
      <td>Base 64 encoded with the proper data URI header</td>
    </tr>
    <tr>
      <td>Browser</td>
      <td>FILE_URI</td>
      <td>Not supported</td>
    </tr>
    <tr>
      <td> </td>
      <td>DATA_URL</td>
      <td>Base 64 encoded with the proper data URI header</td>
    </tr>
  </tbody>
</table>

<p>v7 and earlier versions, the return format is as follows:</p>

<table>
  <thead>
    <tr>
      <th>Platform</th>
      <th>Destination Type</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Android</td>
      <td>FILE_URI</td>
      <td>Raw file path (unprefixed)</td>
    </tr>
    <tr>
      <td> </td>
      <td>DATA_URL</td>
      <td>Base 64 encoded, without the <code class="language-plaintext highlighter-rouge">data:</code> prefix</td>
    </tr>
    <tr>
      <td>iOS</td>
      <td>FILE_URI</td>
      <td><code class="language-plaintext highlighter-rouge">file://</code> schemed paths</td>
    </tr>
    <tr>
      <td> </td>
      <td>DATA_URL</td>
      <td>Base 64 encoded, without the <code class="language-plaintext highlighter-rouge">data:</code> prefix</td>
    </tr>
    <tr>
      <td>Browser</td>
      <td>FILE_URI</td>
      <td>Not supported</td>
    </tr>
    <tr>
      <td> </td>
      <td>DATA_URL</td>
      <td>Base 64 encoded, without the <code class="language-plaintext highlighter-rouge">data:</code> prefix</td>
    </tr>
  </tbody>
</table>

<p>For this reason, upgrading to v8 is strongly recommended as it greatly streamlines the return data.</p>

<p>The <code class="language-plaintext highlighter-rouge">camera.getPicture</code> function opens the device’s default camera
application that allows users to snap pictures by default - this behavior occurs,
when <code class="language-plaintext highlighter-rouge">Camera.sourceType</code> equals <a href="#module_Camera.PictureSourceType"><code class="language-plaintext highlighter-rouge">Camera.PictureSourceType.CAMERA</code></a>.
Once the user snaps the photo, the camera application closes and the application is restored.</p>

<p>If <code class="language-plaintext highlighter-rouge">Camera.sourceType</code> is <code class="language-plaintext highlighter-rouge">Camera.PictureSourceType.PHOTOLIBRARY</code> or
<code class="language-plaintext highlighter-rouge">Camera.PictureSourceType.SAVEDPHOTOALBUM</code>, then a dialog displays
that allows users to select an existing image.</p>

<p>The return value is sent to the <a href="#module_camera.onSuccess"><code class="language-plaintext highlighter-rouge">cameraSuccess</code></a> callback function, in
one of the following formats, depending on the specified
<code class="language-plaintext highlighter-rouge">cameraOptions</code>. You can do whatever you want with content:</p>

<ul>
  <li>Render the content in an <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;video&gt;</code> tag</li>
  <li>Copy the data to a persistent location</li>
  <li>Post the data to a remote server</li>
</ul>

<p><strong>NOTE</strong>: Photo resolution on newer devices is quite good. Photos
selected from the device’s gallery are not downscaled to a lower
quality, even if a <code class="language-plaintext highlighter-rouge">quality</code> parameter is specified.  To avoid common
memory problems, set <code class="language-plaintext highlighter-rouge">Camera.destinationType</code> to <code class="language-plaintext highlighter-rouge">FILE_URI</code> rather
than <code class="language-plaintext highlighter-rouge">DATA_URL</code>.</p>

<p><strong>NOTE</strong>: To use <code class="language-plaintext highlighter-rouge">saveToPhotoAlbum</code> option on Android 9 (API 28) and lower, the <code class="language-plaintext highlighter-rouge">WRITE_EXTERNAL_STORAGE</code> permission must be declared.</p>

<p>To do this, add the following in your <code class="language-plaintext highlighter-rouge">config.xml</code>:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;config-file</span> <span class="na">target=</span><span class="s">"AndroidManifest.xml"</span> <span class="na">parent=</span><span class="s">"/*"</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.WRITE_EXTERNAL_STORAGE"</span> <span class="na">android:maxSdkVersion=</span><span class="s">"28"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/config-file&gt;</span>
</code></pre></div></div>

<p>Android 10 (API 29) and later devices does not require <code class="language-plaintext highlighter-rouge">WRITE_EXTERNAL_STORAGE</code> permission. If your application only supports Android 10 or later, then this step is not necessary.</p>

<h4 id="file_uri-usage">FILE_URI Usage</h4>

<p>When <code class="language-plaintext highlighter-rouge">FILE_URI</code> is used, the returned path is not directly usable. The file path needs to be resolved into
a DOM-usable URL using the <a href="https://github.com/apache/cordova-plugin-file">Cordova File Plugin</a>.</p>

<p>Additionally, the file URIs returned is a temporary read access grant. The OS reserves the right to revoke permission to access the resource, which typically occurs after the app has been closed. For images captured using the camera, the image is stored in a temporary location which can be cleared at any time, usually after the app exits. It’s the application’s decision to decide how the content should be used depending on their use cases.</p>

<p>For persistent access to the content, the resource should be copied to your app’s storage container. An example use case is an app allowing an user to select a profile picture from their gallery or camera. The application will need
consistent access to that resource, so it’s not suitable to retain the temporary access path. So the appplication should copy the resource to a persistent location.</p>

<p>For use cases that involve temporary use, it is valid and safe to use the temporary file path to display the content. An example of this could be an image editing application, rendering the data into a canvas.</p>

<p><strong>NOTE</strong>: The returned schemes is an implementation detail. Do not assume that it will always be a <code class="language-plaintext highlighter-rouge">file://</code> URI.</p>

<p><strong>Supported Platforms</strong></p>

<ul>
  <li>Android</li>
  <li>Browser</li>
  <li>iOS</li>
</ul>

<p>More examples <a href="#camera-getPicture-examples">here</a>. Quirks <a href="#camera-getPicture-quirks">here</a>.</p>

<p><strong>Kind</strong>: static method of <code>[camera](#module_camera)</code></p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>successCallback</td>
      <td><code>[onSuccess](#module_camera.onSuccess)</code></td>
      <td> </td>
    </tr>
    <tr>
      <td>errorCallback</td>
      <td><code>[onError](#module_camera.onError)</code></td>
      <td> </td>
    </tr>
    <tr>
      <td>options</td>
      <td><code>[CameraOptions](#module_camera.CameraOptions)</code></td>
      <td>CameraOptions</td>
    </tr>
  </tbody>
</table>

<p><strong>Example</strong></p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">getPicture</span><span class="p">(</span><span class="nx">cameraSuccess</span><span class="p">,</span> <span class="nx">cameraError</span><span class="p">,</span> <span class="nx">cameraOptions</span><span class="p">);</span>
</code></pre></div></div>
<p><a name="module_camera.cleanup"></a></p>

<h3 id="cameracleanup">camera.cleanup()</h3>
<p>Removes intermediate image files that are kept in temporary storage
after calling <a href="#module_camera.getPicture"><code class="language-plaintext highlighter-rouge">camera.getPicture</code></a>. Applies only when the value of
<code class="language-plaintext highlighter-rouge">Camera.sourceType</code> equals <code class="language-plaintext highlighter-rouge">Camera.PictureSourceType.CAMERA</code> and the
<code class="language-plaintext highlighter-rouge">Camera.destinationType</code> equals <code class="language-plaintext highlighter-rouge">Camera.DestinationType.FILE_URI</code>.</p>

<p><strong>Supported Platforms</strong></p>

<ul>
  <li>iOS</li>
</ul>

<p><strong>Kind</strong>: static method of <code>[camera](#module_camera)</code>
<strong>Example</strong></p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">cleanup</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onFail</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onSuccess</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Camera cleanup success.</span><span class="dl">"</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onFail</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">Failed because: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">message</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p><a name="module_camera.onError"></a></p>

<h3 id="cameraonerror--function">camera.onError : <code>function</code></h3>
<p>Callback function that provides an error message.</p>

<p><strong>Kind</strong>: static typedef of <code>[camera](#module_camera)</code></p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td><code>string</code></td>
      <td>The message is provided by the device’s native code.</td>
    </tr>
  </tbody>
</table>

<p><a name="module_camera.onSuccess"></a></p>

<h3 id="cameraonsuccess--function">camera.onSuccess : <code>function</code></h3>
<p>Callback function that provides the image data.</p>

<p><strong>Kind</strong>: static typedef of <code>[camera](#module_camera)</code></p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>imageData</td>
      <td><code>string</code></td>
      <td>Data URI, <em>or</em> the image file URI, depending on <a href="#module_camera.CameraOptions"><code class="language-plaintext highlighter-rouge">cameraOptions</code></a> in effect.</td>
    </tr>
  </tbody>
</table>

<p><strong>Example</strong></p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Show image captured with FILE_URI</span>
<span class="kd">function</span> <span class="nx">cameraCallback</span><span class="p">(</span><span class="nx">imageData</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">resolveLocalFileSystemURL</span><span class="p">(</span><span class="nx">uri</span><span class="p">,</span> <span class="p">(</span><span class="nx">entry</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">image</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">myImage</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">image</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">toURL</span><span class="p">();</span>
    <span class="p">},</span> <span class="nx">onError</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Show image captured with DATA_URL</span>
<span class="kd">function</span> <span class="nx">cameraCallback</span><span class="p">(</span><span class="nx">imageData</span><span class="p">)</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">myImage</span><span class="dl">'</span><span class="p">);</span>
   <span class="nx">image</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">imageData</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><a name="module_camera.CameraOptions"></a></p>

<h3 id="cameracameraoptions--object">camera.CameraOptions : <code>Object</code></h3>
<p>Optional parameters to customize the camera settings.</p>
<ul>
  <li><a href="#CameraOptions-quirks">Quirks</a></li>
</ul>

<p><strong>Kind</strong>: static typedef of <code>[camera](#module_camera)</code>
<strong>Properties</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>quality</td>
      <td><code>number</code></td>
      <td><code>50</code></td>
      <td>Quality of the saved image, expressed as a range of 0-100, where 100 is typically full resolution with no loss from file compression. (Note that information about the camera’s resolution is unavailable.)</td>
    </tr>
    <tr>
      <td>destinationType</td>
      <td><code>[DestinationType](#module_Camera.DestinationType)</code></td>
      <td><code>FILE_URI</code></td>
      <td>Choose the format of the return value.</td>
    </tr>
    <tr>
      <td>sourceType</td>
      <td><code>[PictureSourceType](#module_Camera.PictureSourceType)</code></td>
      <td><code>CAMERA</code></td>
      <td>Set the source of the picture.</td>
    </tr>
    <tr>
      <td><del>allowEdit</del></td>
      <td><code>Boolean</code></td>
      <td><code>false</code></td>
      <td><strong>Deprecated</strong>. Allow simple editing of image before selection.</td>
    </tr>
    <tr>
      <td>encodingType</td>
      <td><code>[EncodingType](#module_Camera.EncodingType)</code></td>
      <td><code>JPEG</code></td>
      <td>Choose the  returned image file’s encoding.</td>
    </tr>
    <tr>
      <td>targetWidth</td>
      <td><code>number</code></td>
      <td> </td>
      <td>Width in pixels to scale image. Must be used with <code class="language-plaintext highlighter-rouge">targetHeight</code>. Aspect ratio remains constant.</td>
    </tr>
    <tr>
      <td>targetHeight</td>
      <td><code>number</code></td>
      <td> </td>
      <td>Height in pixels to scale image. Must be used with <code class="language-plaintext highlighter-rouge">targetWidth</code>. Aspect ratio remains constant.</td>
    </tr>
    <tr>
      <td>mediaType</td>
      <td><code>[MediaType](#module_Camera.MediaType)</code></td>
      <td><code>PICTURE</code></td>
      <td>Set the type of media to select from.  Only works when <code class="language-plaintext highlighter-rouge">PictureSourceType</code> is <code class="language-plaintext highlighter-rouge">PHOTOLIBRARY</code> or <code class="language-plaintext highlighter-rouge">SAVEDPHOTOALBUM</code>.</td>
    </tr>
    <tr>
      <td>correctOrientation</td>
      <td><code>Boolean</code></td>
      <td> </td>
      <td>Rotate the image to correct for the orientation of the device during capture.</td>
    </tr>
    <tr>
      <td>saveToPhotoAlbum</td>
      <td><code>Boolean</code></td>
      <td> </td>
      <td>Save the image to the photo album on the device after capture.<br />See <a href="#cameragetpicturesuccesscallback-errorcallback-options">Android Quirks</a>.</td>
    </tr>
    <tr>
      <td>popoverOptions</td>
      <td><code>[CameraPopoverOptions](#module_CameraPopoverOptions)</code></td>
      <td> </td>
      <td>iOS-only options that specify popover location in iPad.</td>
    </tr>
    <tr>
      <td>cameraDirection</td>
      <td><code>[Direction](#module_Camera.Direction)</code></td>
      <td><code>BACK</code></td>
      <td>Choose the camera to use (front- or back-facing).</td>
    </tr>
  </tbody>
</table>

<hr />

<p><a name="module_Camera"></a></p>

<h2 id="camera-1">Camera</h2>
<p><a name="module_Camera.DestinationType"></a></p>

<h3 id="cameradestinationtype--enum">Camera.DestinationType : <code>enum</code></h3>
<p>Defines the output format of <code class="language-plaintext highlighter-rouge">Camera.getPicture</code> call.</p>

<p><strong>Kind</strong>: static enum property of <code>[Camera](#module_Camera)</code>
<strong>Properties</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DATA_URL</td>
      <td><code>number</code></td>
      <td><code>0</code></td>
      <td>Return data uri. DATA_URL can be very memory intensive and cause app crashes or out of memory errors. Use FILE_URI if possible</td>
    </tr>
    <tr>
      <td>FILE_URI</td>
      <td><code>number</code></td>
      <td><code>1</code></td>
      <td>Return file uri (content://media/external/images/media/2 for Android)</td>
    </tr>
  </tbody>
</table>

<p><a name="module_Camera.EncodingType"></a></p>

<h3 id="cameraencodingtype--enum">Camera.EncodingType : <code>enum</code></h3>
<p><strong>Kind</strong>: static enum property of <code>[Camera](#module_Camera)</code>
<strong>Properties</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>JPEG</td>
      <td><code>number</code></td>
      <td><code>0</code></td>
      <td>Return JPEG encoded image</td>
    </tr>
    <tr>
      <td>PNG</td>
      <td><code>number</code></td>
      <td><code>1</code></td>
      <td>Return PNG encoded image</td>
    </tr>
  </tbody>
</table>

<p><a name="module_Camera.MediaType"></a></p>

<h3 id="cameramediatype--enum">Camera.MediaType : <code>enum</code></h3>
<p><strong>Kind</strong>: static enum property of <code>[Camera](#module_Camera)</code>
<strong>Properties</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PICTURE</td>
      <td><code>number</code></td>
      <td><code>0</code></td>
      <td>Allow selection of still pictures only. DEFAULT. Will return format specified via DestinationType</td>
    </tr>
    <tr>
      <td>VIDEO</td>
      <td><code>number</code></td>
      <td><code>1</code></td>
      <td>Allow selection of video only, ONLY RETURNS URL</td>
    </tr>
    <tr>
      <td>ALLMEDIA</td>
      <td><code>number</code></td>
      <td><code>2</code></td>
      <td>Allow selection from all media types</td>
    </tr>
  </tbody>
</table>

<p><a name="module_Camera.PictureSourceType"></a></p>

<h3 id="camerapicturesourcetype--enum">Camera.PictureSourceType : <code>enum</code></h3>
<p>Defines the output format of <code class="language-plaintext highlighter-rouge">Camera.getPicture</code> call.</p>

<p><strong>Kind</strong>: static enum property of <code>[Camera](#module_Camera)</code>
<strong>Properties</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PHOTOLIBRARY</td>
      <td><code>number</code></td>
      <td><code>0</code></td>
      <td>Choose image from the device’s photo library (same as SAVEDPHOTOALBUM for Android)</td>
    </tr>
    <tr>
      <td>CAMERA</td>
      <td><code>number</code></td>
      <td><code>1</code></td>
      <td>Take picture from camera</td>
    </tr>
    <tr>
      <td>SAVEDPHOTOALBUM</td>
      <td><code>number</code></td>
      <td><code>2</code></td>
      <td>Choose image only from the device’s Camera Roll album (same as PHOTOLIBRARY for Android)</td>
    </tr>
  </tbody>
</table>

<p><a name="module_Camera.PopoverArrowDirection"></a></p>

<h3 id="camerapopoverarrowdirection--enum">Camera.PopoverArrowDirection : <code>enum</code></h3>
<p>Matches iOS UIPopoverArrowDirection constants to specify arrow location on popover.</p>

<p><strong>Kind</strong>: static enum property of <code>[Camera](#module_Camera)</code>
<strong>Properties</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ARROW_UP</td>
      <td><code>number</code></td>
      <td><code>1</code></td>
    </tr>
    <tr>
      <td>ARROW_DOWN</td>
      <td><code>number</code></td>
      <td><code>2</code></td>
    </tr>
    <tr>
      <td>ARROW_LEFT</td>
      <td><code>number</code></td>
      <td><code>4</code></td>
    </tr>
    <tr>
      <td>ARROW_RIGHT</td>
      <td><code>number</code></td>
      <td><code>8</code></td>
    </tr>
    <tr>
      <td>ARROW_ANY</td>
      <td><code>number</code></td>
      <td><code>15</code></td>
    </tr>
  </tbody>
</table>

<p><a name="module_Camera.Direction"></a></p>

<h3 id="cameradirection--enum">Camera.Direction : <code>enum</code></h3>
<p><strong>Kind</strong>: static enum property of <code>[Camera](#module_Camera)</code>
<strong>Properties</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>BACK</td>
      <td><code>number</code></td>
      <td><code>0</code></td>
      <td>Use the back-facing camera</td>
    </tr>
    <tr>
      <td>FRONT</td>
      <td><code>number</code></td>
      <td><code>1</code></td>
      <td>Use the front-facing camera</td>
    </tr>
  </tbody>
</table>

<hr />

<p><a name="module_CameraPopoverOptions"></a></p>

<h2 id="camerapopoveroptions">CameraPopoverOptions</h2>
<p>iOS-only parameters that specify the anchor element location and arrow
direction of the popover when selecting images from an iPad’s library
or album.
Note that the size of the popover may change to adjust to the
direction of the arrow and orientation of the screen.  Make sure to
account for orientation changes when specifying the anchor element
location.</p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>[x]</td>
      <td><code>Number</code></td>
      <td><code>0</code></td>
      <td>x pixel coordinate of screen element onto which to anchor the popover.</td>
    </tr>
    <tr>
      <td>[y]</td>
      <td><code>Number</code></td>
      <td><code>32</code></td>
      <td>y pixel coordinate of screen element onto which to anchor the popover.</td>
    </tr>
    <tr>
      <td>[width]</td>
      <td><code>Number</code></td>
      <td><code>320</code></td>
      <td>width, in pixels, of the screen element onto which to anchor the popover.</td>
    </tr>
    <tr>
      <td>[height]</td>
      <td><code>Number</code></td>
      <td><code>480</code></td>
      <td>height, in pixels, of the screen element onto which to anchor the popover.</td>
    </tr>
    <tr>
      <td>[arrowDir]</td>
      <td><code>[PopoverArrowDirection](#module_Camera.PopoverArrowDirection)</code></td>
      <td><code>ARROW_ANY</code></td>
      <td>Direction the arrow on the popover should point.</td>
    </tr>
    <tr>
      <td>[popoverWidth]</td>
      <td><code>Number</code></td>
      <td><code>0</code></td>
      <td>width of the popover (0 or not specified will use apple’s default width).</td>
    </tr>
    <tr>
      <td>[popoverHeight]</td>
      <td><code>Number</code></td>
      <td><code>0</code></td>
      <td>height of the popover (0 or not specified will use apple’s default height).</td>
    </tr>
  </tbody>
</table>

<hr />

<p><a name="module_CameraPopoverHandle"></a></p>

<h2 id="camerapopoverhandle">CameraPopoverHandle</h2>
<p>A handle to an image picker popover.</p>

<p><strong>Supported Platforms</strong></p>

<ul>
  <li>iOS</li>
</ul>

<p><strong>Example</strong></p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">getPicture</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onFail</span><span class="p">,</span>
<span class="p">{</span>
    <span class="na">destinationType</span><span class="p">:</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">DestinationType</span><span class="p">.</span><span class="nx">FILE_URI</span><span class="p">,</span>
    <span class="na">sourceType</span><span class="p">:</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">PictureSourceType</span><span class="p">.</span><span class="nx">PHOTOLIBRARY</span><span class="p">,</span>
    <span class="na">popoverOptions</span><span class="p">:</span> <span class="k">new</span> <span class="nx">CameraPopoverOptions</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">PopoverArrowDirection</span><span class="p">.</span><span class="nx">ARROW_ANY</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Reposition the popover if the orientation changes.</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">onorientationchange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cameraPopoverHandle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CameraPopoverHandle</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">cameraPopoverOptions</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CameraPopoverOptions</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">PopoverArrowDirection</span><span class="p">.</span><span class="nx">ARROW_ANY</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
    <span class="nx">cameraPopoverHandle</span><span class="p">.</span><span class="nx">setPosition</span><span class="p">(</span><span class="nx">cameraPopoverOptions</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<hr />

<h2 id="cameragetpicture-errata"><code class="language-plaintext highlighter-rouge">camera.getPicture</code> Errata</h2>

<h4 id="example-">Example <a name="camera-getPicture-examples"></a></h4>

<p>Take a photo and retrieve the image’s file location:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Don't forget to install cordova-plugin-file for resolveLocalFileSystemURL!</span>

<span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">getPicture</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onFail</span><span class="p">,</span> <span class="p">{</span> <span class="na">quality</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
    <span class="na">destinationType</span><span class="p">:</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">DestinationType</span><span class="p">.</span><span class="nx">FILE_URI</span> <span class="p">});</span>

<span class="kd">function</span> <span class="nx">onSuccess</span><span class="p">(</span><span class="nx">imageURI</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">resolveLocalFileSystemURL</span><span class="p">(</span><span class="nx">uri</span><span class="p">,</span> <span class="p">(</span><span class="nx">entry</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">img</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">image</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">toURL</span><span class="p">();</span>
    <span class="p">},</span> <span class="nx">onFail</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onFail</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">Failed because: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">message</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Take a photo and retrieve it as a Base64-encoded image:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * Warning: Using DATA_URL is not recommended! The DATA_URL destination
 * type is very memory intensive, even with a low quality setting. Using it
 * can result in out of memory errors and application crashes. Use FILE_URI
 * instead.
 */</span>
<span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">getPicture</span><span class="p">(</span><span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onFail</span><span class="p">,</span> <span class="p">{</span> <span class="na">quality</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
    <span class="na">destinationType</span><span class="p">:</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">DestinationType</span><span class="p">.</span><span class="nx">DATA_URL</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">onSuccess</span><span class="p">(</span><span class="nx">imageData</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">myImage</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">image</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">imageData</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onFail</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">Failed because: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">message</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="preferences-ios">Preferences (iOS)</h4>

<ul>
  <li>
    <p><strong>CameraUsesGeolocation</strong> (boolean, defaults to false). For capturing JPEGs, set to true to get geolocation data in the EXIF header. This will trigger a request for geolocation permissions if set to true.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;preference name="CameraUsesGeolocation" value="false" /&gt;
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="android-quirks">Android Quirks</h4>

<p>Android uses intents to launch the camera activity on the device to capture
images, and on phones with low memory, the Cordova activity may be killed.  In this
scenario, the result from the plugin call will be delivered via the resume event.
See <a href="http://cordova.apache.org/docs/en/dev/guide/platforms/android/lifecycle.html">the Android Lifecycle guide</a>
for more information. The <code class="language-plaintext highlighter-rouge">pendingResult.result</code> value will contain the value that
would be passed to the callbacks (either the URI/URL or an error message). Check
the <code class="language-plaintext highlighter-rouge">pendingResult.pluginStatus</code> to determine whether or not the call was
successful.</p>

<h4 id="browser-quirks">Browser Quirks</h4>

<p>Can only return photos as data URI image.</p>

<h4 id="ios-quirks-1">iOS Quirks</h4>

<p>Including a JavaScript <code class="language-plaintext highlighter-rouge">alert()</code> in either of the callback functions
can cause problems.  Wrap the alert within a <code class="language-plaintext highlighter-rouge">setTimeout()</code> to allow
the iOS image picker or popover to fully close before the alert
displays:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do your thing here!</span>
<span class="p">},</span> <span class="mi">0</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="cameraoptions-errata-"><code class="language-plaintext highlighter-rouge">CameraOptions</code> Errata <a name="CameraOptions-quirks"></a></h2>

<h4 id="android-quirks-1">Android Quirks</h4>

<ul>
  <li>
    <p>Any <code class="language-plaintext highlighter-rouge">cameraDirection</code> value results in a back-facing photo. (= You can only use the back camera)</p>
  </li>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">allowEdit</code> is unpredictable on Android and it should not be used!</strong> The Android implementation of this plugin tries to find and use an application on the user’s device to do image cropping. The plugin has no control over what application the user selects to perform the image cropping and it is very possible that the user could choose an incompatible option and cause the plugin to fail. This sometimes works because most devices come with an application that handles cropping in a way that is compatible with this plugin (Google Photos), but it is unwise to rely on that being the case. If image editing is essential to your application, consider seeking a third party library or plugin that provides its own image editing utility for a more robust solution.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Camera.PictureSourceType.PHOTOLIBRARY</code> and <code class="language-plaintext highlighter-rouge">Camera.PictureSourceType.SAVEDPHOTOALBUM</code> both display the same photo album.</p>
  </li>
  <li>
    <p>Ignores the <code class="language-plaintext highlighter-rouge">encodingType</code> parameter if the image is unedited (i.e. <code class="language-plaintext highlighter-rouge">quality</code> is 100, <code class="language-plaintext highlighter-rouge">correctOrientation</code> is false, and no <code class="language-plaintext highlighter-rouge">targetHeight</code> or <code class="language-plaintext highlighter-rouge">targetWidth</code> are specified). The <code class="language-plaintext highlighter-rouge">CAMERA</code> source will always return the JPEG file given by the native camera and the <code class="language-plaintext highlighter-rouge">PHOTOLIBRARY</code> and <code class="language-plaintext highlighter-rouge">SAVEDPHOTOALBUM</code> sources will return the selected file in its existing encoding.</p>
  </li>
</ul>

<h2 id="sample-take-pictures-select-pictures-from-the-picture-library-and-get-thumbnails-">Sample: Take Pictures, Select Pictures from the Picture Library, and Get Thumbnails <a name="sample"></a></h2>

<p>The Camera plugin allows you to do things like open the device’s Camera app and take a picture, or open the file picker and select one. The code snippets in this section demonstrate different tasks including:</p>

<ul>
  <li>Open the Camera app and <a href="#takePicture">take a Picture</a></li>
  <li>Take a picture and <a href="#getThumbnails">return thumbnails</a> (resized picture)</li>
  <li>Take a picture and <a href="#convert">generate a FileEntry object</a></li>
  <li><a href="#selectFile">Select a file</a> from the picture library</li>
  <li>Select a JPEG image and <a href="#getFileThumbnails">return thumbnails</a> (resized image)</li>
  <li>Select an image and <a href="#convert">generate a FileEntry object</a></li>
</ul>

<h2 id="take-a-picture-">Take a Picture <a name="takePicture"></a></h2>

<p>Before you can take a picture, you need to set some Camera plugin options to pass into the Camera plugin’s <code class="language-plaintext highlighter-rouge">getPicture</code> function. Here is a common set of recommendations. In this example, you create the object that you will use for the Camera options, and set the <code class="language-plaintext highlighter-rouge">sourceType</code> dynamically to support both the Camera app and the file picker.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">setOptions</span><span class="p">(</span><span class="nx">srcType</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">// Some common settings are 20, 50, and 100</span>
        <span class="na">quality</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
        <span class="na">destinationType</span><span class="p">:</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">DestinationType</span><span class="p">.</span><span class="nx">FILE_URI</span><span class="p">,</span>
        <span class="c1">// In this app, dynamically set the picture source, Camera or photo gallery</span>
        <span class="na">sourceType</span><span class="p">:</span> <span class="nx">srcType</span><span class="p">,</span>
        <span class="na">encodingType</span><span class="p">:</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">EncodingType</span><span class="p">.</span><span class="nx">JPEG</span><span class="p">,</span>
        <span class="na">mediaType</span><span class="p">:</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">MediaType</span><span class="p">.</span><span class="nx">PICTURE</span><span class="p">,</span>
        <span class="na">allowEdit</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">correctOrientation</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">options</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Typically, you want to use a FILE_URI instead of a DATA_URL to avoid most memory issues. JPEG is the recommended encoding type for Android.</p>

<p>You take a picture by passing in the options object to <code class="language-plaintext highlighter-rouge">getPicture</code>, which takes a CameraOptions object as the third argument. When you call <code class="language-plaintext highlighter-rouge">setOptions</code>, pass <code class="language-plaintext highlighter-rouge">Camera.PictureSourceType.CAMERA</code> as the picture source.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">openCamera</span><span class="p">(</span><span class="nx">selection</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">srcType</span> <span class="o">=</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">PictureSourceType</span><span class="p">.</span><span class="nx">CAMERA</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">setOptions</span><span class="p">(</span><span class="nx">srcType</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">createNewFileEntry</span><span class="p">;</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">getPicture</span><span class="p">(</span><span class="kd">function</span> <span class="nx">cameraSuccess</span><span class="p">(</span><span class="nx">imageUri</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">displayImage</span><span class="p">(</span><span class="nx">imageUri</span><span class="p">);</span>
        <span class="c1">// You may choose to copy the picture, save it somewhere, or upload.</span>
        <span class="nx">func</span><span class="p">(</span><span class="nx">imageUri</span><span class="p">);</span>

    <span class="p">},</span> <span class="kd">function</span> <span class="nx">cameraError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="dl">"</span><span class="s2">Unable to obtain picture: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">error</span><span class="p">,</span> <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">);</span>

    <span class="p">},</span> <span class="nx">options</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Once you take the picture, you can display it or do something else. In this example, call the app’s <code class="language-plaintext highlighter-rouge">displayImage</code> function from the preceding code.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">displayImage</span><span class="p">(</span><span class="nx">imgUri</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">imageFile</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">elem</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">imgUri</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="take-a-picture-and-return-thumbnails-resize-the-picture-">Take a Picture and Return Thumbnails (Resize the Picture) <a name="getThumbnails"></a></h2>

<p>To get smaller images, you can return a resized image by passing both <code class="language-plaintext highlighter-rouge">targetHeight</code> and <code class="language-plaintext highlighter-rouge">targetWidth</code> values with your CameraOptions object. In this example, you resize the returned image to fit in a 100px by 100px box (the aspect ratio is maintained, so 100px is either the height or width, whichever is greater in the source).</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">openCamera</span><span class="p">(</span><span class="nx">selection</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">srcType</span> <span class="o">=</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">PictureSourceType</span><span class="p">.</span><span class="nx">CAMERA</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">setOptions</span><span class="p">(</span><span class="nx">srcType</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">createNewFileEntry</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">selection</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">camera-thmb</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">targetHeight</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">targetWidth</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">getPicture</span><span class="p">(</span><span class="kd">function</span> <span class="nx">cameraSuccess</span><span class="p">(</span><span class="nx">imageUri</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// Do something</span>

    <span class="p">},</span> <span class="kd">function</span> <span class="nx">cameraError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="dl">"</span><span class="s2">Unable to obtain picture: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">error</span><span class="p">,</span> <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">);</span>

    <span class="p">},</span> <span class="nx">options</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="select-a-file-from-the-picture-library-">Select a File from the Picture Library <a name="selectFile"></a></h2>

<p>When selecting a file using the file picker, you also need to set the CameraOptions object. In this example, set the <code class="language-plaintext highlighter-rouge">sourceType</code> to <code class="language-plaintext highlighter-rouge">Camera.PictureSourceType.SAVEDPHOTOALBUM</code>. To open the file picker, call <code class="language-plaintext highlighter-rouge">getPicture</code> just as you did in the previous example, passing in the success and error callbacks along with CameraOptions object.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">openFilePicker</span><span class="p">(</span><span class="nx">selection</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">srcType</span> <span class="o">=</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">PictureSourceType</span><span class="p">.</span><span class="nx">SAVEDPHOTOALBUM</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">setOptions</span><span class="p">(</span><span class="nx">srcType</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">createNewFileEntry</span><span class="p">;</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">getPicture</span><span class="p">(</span><span class="kd">function</span> <span class="nx">cameraSuccess</span><span class="p">(</span><span class="nx">imageUri</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// Do something</span>

    <span class="p">},</span> <span class="kd">function</span> <span class="nx">cameraError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="dl">"</span><span class="s2">Unable to obtain picture: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">error</span><span class="p">,</span> <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">);</span>

    <span class="p">},</span> <span class="nx">options</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="select-an-image-and-return-thumbnails-resized-images-">Select an Image and Return Thumbnails (resized images) <a name="getFileThumbnails"></a></h2>

<p>Resizing a file selected with the file picker works just like resizing using the Camera app; set the <code class="language-plaintext highlighter-rouge">targetHeight</code> and <code class="language-plaintext highlighter-rouge">targetWidth</code> options.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">openFilePicker</span><span class="p">(</span><span class="nx">selection</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">srcType</span> <span class="o">=</span> <span class="nx">Camera</span><span class="p">.</span><span class="nx">PictureSourceType</span><span class="p">.</span><span class="nx">SAVEDPHOTOALBUM</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">setOptions</span><span class="p">(</span><span class="nx">srcType</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">createNewFileEntry</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">selection</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">picker-thmb</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// To downscale a selected image,</span>
        <span class="c1">// Camera.EncodingType (e.g., JPEG) must match the selected image type.</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">targetHeight</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">targetWidth</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nb">navigator</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">getPicture</span><span class="p">(</span><span class="kd">function</span> <span class="nx">cameraSuccess</span><span class="p">(</span><span class="nx">imageUri</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// Do something with image</span>

    <span class="p">},</span> <span class="kd">function</span> <span class="nx">cameraError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="dl">"</span><span class="s2">Unable to obtain picture: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">error</span><span class="p">,</span> <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">);</span>

    <span class="p">},</span> <span class="nx">options</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="take-a-picture-and-get-a-fileentry-object-">Take a picture and get a FileEntry Object <a name="convert"></a></h2>

<p>If you want to do something like copy the image to another location, or upload it somewhere, an <code class="language-plaintext highlighter-rouge">FileEntry</code> is needed for the returned picture. To do this, call <code class="language-plaintext highlighter-rouge">window.resolveLocalFileSystemURL</code> on the file URI returned by the Camera app. If you need to use a FileEntry object, set the <code class="language-plaintext highlighter-rouge">destinationType</code> to <code class="language-plaintext highlighter-rouge">Camera.DestinationType.FILE_URI</code> in your CameraOptions object (this is also the default value).</p>

<p><strong>NOTE:</strong> You need the <a href="https://www.npmjs.com/package/cordova-plugin-file">File plugin</a> to call <code class="language-plaintext highlighter-rouge">window.resolveLocalFileSystemURL</code>.</p>

<p>Here is the call to <code class="language-plaintext highlighter-rouge">window.resolveLocalFileSystemURL</code>. The image URI is passed to this function from the success callback of <code class="language-plaintext highlighter-rouge">getPicture</code>. The success handler of <code class="language-plaintext highlighter-rouge">resolveLocalFileSystemURL</code> receives the FileEntry object.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getFileEntry</span><span class="p">(</span><span class="nx">imgUri</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">resolveLocalFileSystemURL</span><span class="p">(</span><span class="nx">imgUri</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">success</span><span class="p">(</span><span class="nx">fileEntry</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// Example 1: Copy to app data directory</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">resolveLocalFileSystemURL</span><span class="p">(</span><span class="nx">cordova</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">dataDirectory</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">dataDirectoryEntry</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fileEntry</span><span class="p">.</span><span class="nx">copyTo</span><span class="p">(</span><span class="nx">dataDirectoryEntry</span><span class="p">,</span> <span class="dl">"</span><span class="s2">profilePic</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onError</span><span class="p">);</span>
        <span class="p">},</span> <span class="nx">onError</span><span class="p">);</span>

        <span class="c1">// Example 2: Upload it!</span>
        <span class="nx">fileEntry</span><span class="p">.</span><span class="nx">file</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>

            <span class="nx">reader</span><span class="p">.</span><span class="nx">onloadend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
                <span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">https://myserver.com/upload</span><span class="dl">'</span><span class="p">);</span>
                <span class="nx">xhr</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="c1">// All done!</span>
                <span class="p">};</span>
                <span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">};</span>

            <span class="nx">reader</span><span class="p">.</span><span class="nx">readAsArrayBuffer</span><span class="p">(</span><span class="nx">file</span><span class="p">);</span>
        <span class="p">},</span> <span class="nx">onError</span><span class="p">);</span>
    <span class="p">},</span> <span class="nx">onError</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
