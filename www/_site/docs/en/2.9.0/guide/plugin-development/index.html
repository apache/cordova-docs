<h1 id="plugin-development-guide">Plugin Development Guide</h1>

<p>A Cordova plugin bridges a bit of functionality between the WebView
powering a Cordova application and the native platform the Cordova
application is running on. Plugins are composed of a single JavaScript
interface used across all platforms, and native implementations
following platform-specific Plugin interfaces that the JavaScript
calls into. All of the core Cordova APIs are implemented using this
architecture.</p>

<p>This guide steps the process of writing a simple Echo Plugin that
passes a string from JavaScript and sends it into the native
environment for the supported platforms. The native code then returns
the same string back to the callbacks inside the plugin’s JavaScript.</p>

<p>This guide provides enough overview on which you can build to write
more complex plugins.</p>

<h2 id="javascript">JavaScript</h2>

<p>The entry point for any plugin is JavaScript. The reason developers use
Cordova is so they can use and write JavaScript, not Objective-C,
not Java, not C#. The JavaScript interface for your plugin is the
front-facing and arguably most important part of your Cordova plugin.</p>

<p>You can structure your plugin’s JavaScript however you like. The one
thing you <em>must</em> use to communicate between the Cordova JavaScript
 and native environments is the <code class="language-plaintext highlighter-rouge">cordova.exec</code> function. Here is an example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cordova.exec(function(winParam) {}, function(error) {}, "service",
             "action", ["firstArgument", "secondArgument", 42,
             false]);
</code></pre></div></div>

<p>The parameters are detailed below:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">function(winParam) {}</code> - Success function callback. Assuming your
<code class="language-plaintext highlighter-rouge">exec</code> call completes successfully, this function is invoked
 (optionally with any parameters you pass back to it).</li>
  <li><code class="language-plaintext highlighter-rouge">function(error) {}</code> - Error function callback. If the operation does
not complete successfully, this function is invoked (optionally
with an error parameter).</li>
  <li><code class="language-plaintext highlighter-rouge">"service"</code> - The service name to call into on the native side. This
is mapped to a native class, about which more information is
available in the native guides listed below.</li>
  <li><code class="language-plaintext highlighter-rouge">"action"</code> - The action name to call into. This is picked up by the
native class receiving the <code class="language-plaintext highlighter-rouge">exec</code> call, and, depending on the
platform, essentially maps to a class’s method.
The native guides listed below provide details.</li>
  <li><code class="language-plaintext highlighter-rouge">[/* arguments */]</code> - Arguments to pass into the native environment.</li>
</ol>

<h3 id="echo-plugin-javascript-example">Echo Plugin JavaScript Example</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>window.echo = function(str, callback) {
    cordova.exec(callback, function(err) {
        callback('Nothing to echo.');
    }, "Echo", "echo", [str]);
};
</code></pre></div></div>

<p>Let’s dive into this. The plugin attaches itself to <code class="language-plaintext highlighter-rouge">window</code>,
specifically to the <code class="language-plaintext highlighter-rouge">echo</code> function. Plugin users would then use it as
follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>window.echo("echome", function(echoValue) {
    alert(echoValue == "echome"); // should alert true.
});
</code></pre></div></div>

<p>First, let’s take a look at the last three arguments to the <code class="language-plaintext highlighter-rouge">exec</code>
function. We will be calling the <code class="language-plaintext highlighter-rouge">Echo</code> “service”, requesting the <code class="language-plaintext highlighter-rouge">echo</code>
“action”, and passing an array of arguments containing the echo string,
which is the first parameter into the <code class="language-plaintext highlighter-rouge">window.echo</code> function.</p>

<p>The success callback passed into <code class="language-plaintext highlighter-rouge">exec</code> is simply a reference to the
callback function that <code class="language-plaintext highlighter-rouge">window.echo</code> takes. We do a bit more for the
error callback: if the native side fires off the error callback, we
simply invoke the success callback and pass into it a “default”
string.</p>

<h2 id="native">Native</h2>

<p>Once you define JavaScript for your plugin, you need to complement it
with at least one native implementation. Details to do so for each
platform are listed below.  These guides continue to build on the
simple Echo Plugin example discussed above.</p>

<ul>
  <li><a href="android/index.html">Developing a Plugin on Android</a></li>
  <li><a href="blackberry/index.html">Developing a Plugin on BlackBerry</a></li>
  <li><a href="blackberry/index.html">Developing a Plugin on BlackBerry</a> 10</li>
  <li><a href="ios/index.html">Developing a Plugin on iOS</a></li>
  <li><a href="windows-phone/index.html">Developing a Plugin on Windows Phone</a></li>
</ul>

<p>The webOS and Tizen platforms currently do not support plugins.</p>
