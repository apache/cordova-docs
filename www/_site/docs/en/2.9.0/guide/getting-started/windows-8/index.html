<h1 id="windows-8-platform-guide">Windows 8 Platform Guide</h1>

<p>This guide describes how to set up your Cordova development
environment and run a sample application.  Note that Cordova used to
be called PhoneGap, so some of the sites still use the old PhoneGap
name.</p>

<p>Microsoft deprecated the name <em>Metro-style apps</em> in Windows 8 and
Windows RT. MSDN now refers to this type of app as a <em>Windows Store</em>
app, and this guide follows that convention. Also, in this guide
<em>Windows 8</em> signifies both Windows 8 and Windows RT.</p>

<ol>
  <li>
    <h2 id="requirements">Requirements</h2>
  </li>
</ol>

<ul>
  <li>
    <p>Windows 8</p>
  </li>
  <li>
    <p>Visual Studio 2012 Professional or better, or Visual Studio 2012 Express for Windows 8</p>
  </li>
</ul>

<p>Follow the instructions <a href="http://www.windowsstore.com/">here</a> to submit your apps Windows Store.</p>

<ol>
  <li>
    <h2 id="install-sdk--cordova">Install SDK + Cordova</h2>
  </li>
</ol>

<ul>
  <li>Set up your preferred variant of Visual Studio 2012. All of the product’s paid versions (Professional, etc.) let you build Windows Store apps. You need <strong>Express for Windows 8</strong> to build Windows Store apps using the <a href="http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-products">Express editions</a>.</li>
  <li>Download and extract the latest copy of <a href="http://phonegap.com/download">Cordova</a>. You will be working in the <code class="language-plaintext highlighter-rouge">lib\windows-8</code> subfolder.</li>
</ul>

<ol>
  <li>
    <h2 id="set-up-new-project">Set up New Project</h2>
  </li>
</ol>

<p>You can already build Windows 8 apps using the <em>HTML/JavaScript track</em>
available in Windows Store apps. Use Cordova in Windows Store apps to
expose the same APIs as on other Cordova-supported platforms.</p>

<ul>
  <li>Open Visual Studio 2012 and choose <strong>New Project</strong>.</li>
  <li>
    <p>Select <strong>Installed → Template → Other Languages → JavaScript → Windows Store</strong> from the tree, and then <strong>Blank App</strong> from the projects list. Enter whatever project name you like, such as <strong>CordovaWin8Foo</strong> as in this example.</p>

    <p><img src="/static/img/guide/platforms/win8/wsnewproject.png" alt="" /></p>
  </li>
  <li>
    <p>Microsoft continues to use <code class="language-plaintext highlighter-rouge">default.html</code> as the default home page, but most web developers use <code class="language-plaintext highlighter-rouge">index.html</code>. (Plus it’s likely that in the other platform variants of your project you are using <code class="language-plaintext highlighter-rouge">index.html</code> as the name of your default page.) To fix this, in Solution Explorer rename the <code class="language-plaintext highlighter-rouge">default.html</code> file to <code class="language-plaintext highlighter-rouge">index.html</code>. Then double-click the <code class="language-plaintext highlighter-rouge">package.appxmanifest</code> file and change the <strong>Start page</strong> value to <code class="language-plaintext highlighter-rouge">index.html</code>.</p>

    <p><img src="/static/img/guide/platforms/win8/wschangemanifest.png" alt="" /></p>
  </li>
  <li>
    <p>To include <code class="language-plaintext highlighter-rouge">cordova.js</code> in your project, right-click on the <strong>js</strong> folder in Solution Explorer and select <strong>Add → New Item</strong>. Locate the <code class="language-plaintext highlighter-rouge">cordova.js</code> file in the <strong>lib\windows-8</strong> folder noted above.</p>
  </li>
  <li>Edit the code for <code class="language-plaintext highlighter-rouge">index.html</code>. Add a reference to <code class="language-plaintext highlighter-rouge">cordova.js</code>. You can do this manually, or by dragging the file from Solution Explorer.</li>
</ul>

<h3 id="adding-the-reference">Adding the reference…</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;!-- WinJS references --&gt;
    &lt;link href="//Microsoft.WinJS.1.0/css/ui-dark.css" rel="stylesheet" /&gt;
    &lt;script src="//Microsoft.WinJS.1.0/js/base.js"&gt;&lt;/script&gt;
    &lt;script src="//Microsoft.WinJS.1.0/js/ui.js"&gt;&lt;/script&gt;

    &lt;!-- Cordova --&gt;
    &lt;script src="/js/cordova.js"&gt;&lt;/script&gt;

    &lt;!-- CordovaWin8Foo references --&gt;
    &lt;link href="/css/default.css" rel="stylesheet" /&gt;
    &lt;script src="/js/default.js"&gt;&lt;/script&gt;
</code></pre></div></div>

<ul>
  <li>Next, add some code that demonstrates Cordova is working.</li>
</ul>

<h3 id="adding-a-deviceready-handler">Adding a ‘deviceready’ handler…</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;body&gt;
    &lt;p&gt;Content goes here&lt;/p&gt;

    &lt;script type="text/javascript"&gt;

        console.log("Subscribing...");
        document.addEventListener("[deviceready](../../../cordova/events/events.deviceready.html)", function () {

            navigator.notification.alert("The device is ready!");

        });

    &lt;/script&gt;

&lt;/body&gt;
</code></pre></div></div>

<ol>
  <li>
    <h2 id="test-the-project">Test the Project</h2>
  </li>
</ol>

<ul>
  <li>
    <p>Run the project from Visual Studio. You’ll see the message box appear:</p>

    <p><img src="/static/img/guide/platforms/win8/wsalert.png" alt="" /></p>
  </li>
</ul>

<h2 id="done">Done!</h2>

<p>That’s it! You’re now ready to build Windows Store apps with Cordova.</p>

