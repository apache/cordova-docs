<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
        
            
                Windows Phone Plugins - Apache Cordova
            
        
    </title>

    <link rel="SHORTCUT ICON" href="../../../../../../favicon.ico"/>

    

    
    

    <link rel="canonical" href="https://cordova.apache.org/docs/it/latest/guide/platforms/wp8/plugin.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="../../../../../../static/css/main.css">
    <link rel="stylesheet" type="text/css" href="../../../../../../static/css/lib/syntax.css">
    <!-- Algolia Search CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" />

    <!-- Fonts -->
    <!-- For attribution information, see www/attributions.html -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:700,400,300,700italic,400italic,300italic' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
        var disqus_developer = 1; // this would set it to developer mode
    </script>

    <!-- JS -->
    <script defer type="text/javascript" src="../../../../../../static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="../../../../../../static/js/lib/bootstrap.min.js"></script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-64283057-1', 'auto');
    ga('send', 'pageview');
</script>

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://cordova.apache.org/"><img id="logo_top" src="../../../../../../static/img/cordova-logo-newbrand.svg"/></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_center">
                    <ul class="nav navbar-nav">
                        <li >
                            <a href="https://cordova.apache.org/docs/en/latest/">Latest Documentation</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                    <input id="header-search-field" type="text" placeholder="Search '3.5.0' docs..." class="form-control hidden-xs" autocomplete="off">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>















<div class="docs">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="../../../index.html">
                
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../overview/index.html">
                Panoramica
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../support/index.html">
                Supporto di piattaforma
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../cli/index.html">
                L'interfaccia della riga di comando
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../index.html">
                Piattaforma guide
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../../plugin_ref/plugman.html">
                L'utilizzo di Plugman per gestire i plugin
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../../config_ref/index.html">
                Il File config. Xml
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../../config_ref/images.html">
                Icone e Splash screen
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../hybrid/webviews/index.html">
                Incorporamento visualizzazioni Web
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../hybrid/plugins/index.html">
                Guida allo sviluppo di plugin
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../appdev/privacy/index.html">
                Guida sulla privacy
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../appdev/whitelist/index.html">
                Guida di whitelist
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../../cordova/storage/storage.html">
                Archiviazione
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../../cordova/events/events.html">
                Eventi
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="../../../cordova/plugins/pluginapis.html">
                Plugin API
            </a>
            
        

        
        

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="page-content-container">
        <div class="page-content">
            <div class="content-header">

                <!-- ToC Dropdown (for XS and SM sizes only) -->
                <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                    <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        Sommario
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        

<li>
    <a class="" href="../../../index.html">
        
    </a>
</li>




<li>
    <a class="" href="../../overview/index.html">
        Panoramica
    </a>
</li>




<li>
    <a class="" href="../../support/index.html">
        Supporto di piattaforma
    </a>
</li>




<li>
    <a class="" href="../../cli/index.html">
        L'interfaccia della riga di comando
    </a>
</li>




<li>
    <a class="" href="../index.html">
        Piattaforma guide
    </a>
</li>




<li>
    <a class="" href="../../../plugin_ref/plugman.html">
        L'utilizzo di Plugman per gestire i plugin
    </a>
</li>




<li>
    <a class="" href="../../../config_ref/index.html">
        Il File config. Xml
    </a>
</li>




<li>
    <a class="" href="../../../config_ref/images.html">
        Icone e Splash screen
    </a>
</li>




<li>
    <a class="" href="../../hybrid/webviews/index.html">
        Incorporamento visualizzazioni Web
    </a>
</li>




<li>
    <a class="" href="../../hybrid/plugins/index.html">
        Guida allo sviluppo di plugin
    </a>
</li>




<li>
    <a class="" href="../../appdev/privacy/index.html">
        Guida sulla privacy
    </a>
</li>




<li>
    <a class="" href="../../appdev/whitelist/index.html">
        Guida di whitelist
    </a>
</li>




<li>
    <a class="" href="../../../cordova/storage/storage.html">
        Archiviazione
    </a>
</li>




<li>
    <a class="" href="../../../cordova/events/events.html">
        Eventi
    </a>
</li>




<li>
    <a class="" href="../../../cordova/plugins/pluginapis.html">
        Plugin API
    </a>
</li>




                    </ul>
                </div>

                
                

                    
                    
                    
                    
                    

                    
                    

                        
                        

                        </div><!-- Show warnings for special versions -->
            <!-- dev warning -->
            

            <!-- outdated warning -->
            
                <div class="alert docs-alert alert-danger" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    Questa non è la versione più recente della documentazione!
                    <a href="https://cordova.apache.org/docs/it/latest/guide/platforms/wp8/plugin.html">
                        Click here for the latest released version.
                    </a>
                </div>
            

            <!-- plugin version warning -->
            

            <div id="page-toc-source">
                <h1>Windows Phone Plugins</h1>

<p>In questa sezione vengono fornite informazioni dettagliate per come implementare il codice plugin nativo sulla piattaforma Windows Phone. Prima di leggere questo, vedere applicazione plugin per una panoramica della struttura del plugin e la sua interfaccia JavaScript comune. Questa sezione continua a dimostrare il plugin di esempio <em>eco</em> che comunica da Cordova webview alla piattaforma nativa e ritorno.</p>

<p>Scrivere un plugin per Cordova su Windows Phone richiede una conoscenza base dell&#39;architettura di Cordova. Cordova-WP7 è costituito da un <code>WebBrowser</code> che ospita il codice dell&#39;applicazione JavaScript e gestisce le chiamate API native. È possibile estendere un C# <code>BaseCommand</code> classe ( <code>WP7CordovaClassLib.Cordova.Commands.BaseCommand</code> ), che viene fornito con la maggior parte delle funzionalità necessarie:</p>

<ol>
<li><p>Selezionare il progetto e fare clic destro per scegliere <strong>Aggiungi → nuovo elemento...</strong> Se lo si desidera, è possibile aggiungerlo alla <code>Plugins</code> cartella.</p></li>
<li><p>Selezionare la <strong>classe</strong> e il nome <code>Echo.cs</code> . Questa classe nome deve <em>esattamente</em> corrispondere quello che tu chiami specificare come il servizio nel <code>cordova.exec()</code> chiamare sul lato JavaScript.</p></li>
<li><p>Includono l&#39;implementazione di classi di base:</p>
<div class="highlight"><pre><code class="language-" data-lang="">usando WPCordovaClassLib.Cordova;
usando WPCordovaClassLib.Cordova.Commands;
usando WPCordovaClassLib.Cordova.JSON;
</code></pre></div></li>
<li><p>Estendere la classe da <code>BaseCommand</code> :</p>
<div class="highlight"><pre><code class="language-" data-lang="">classe pubblica Echo: BaseCommand {/ /...}
</code></pre></div></li>
<li><p>Aggiungere un <code>echo</code> Metodo chiamabile da JavaScript:</p>
<div class="highlight"><pre><code class="language-" data-lang="">classe pubblica Echo: BaseCommand {public void eco (opzioni di stringa) {/ / tutti i metodi JS plugin richiamabile devono avere questa firma!
        / / pubblico, tornando a vuoto, 1 argomento che è una stringa}}
</code></pre></div></li>
</ol>

<p>Vedere la classe <a href="https://github.com/apache/cordova-wp7/blob/master/templates/standalone/cordovalib/Commands/BaseCommand.cs">BaseCommand.cs</a> per i metodi disponibili per il plugin eseguire l&#39;override. Ad esempio, il plugin può acquisire eventi &#39;<a href="../../../cordova/events/events.pause.html">pausa</a>&#39; e &#39;riprendere&#39;.</p>

<h2>Spazi dei nomi</h2>

<p>Lo spazio dei nomi predefinito per i comandi non qualificati è:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    namespace Cordova.Extension.Commands
    {
        // ...
    }
</code></pre></div>
<p>Se si desidera specificare il proprio spazio dei nomi, è necessario effettuare una chiamata completo a <code>cordova.exec</code> . Per esempio, se si desidera definire una classe c# come questo:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    namespace com.mydomain.cordovaExtensions
    {
        public class Echo : BaseCommand
        {
            // ...
        }
    }
</code></pre></div>
<p>Il JavaScript avrebbe bisogno di chiamare <code>exec</code> come questo:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    Cordova.exec (vittoria, fail, "com.mydomain.cordovaExtensions.Echo",...);
</code></pre></div>
<h2>Interpretare gli argomenti in C</h2>

<p>Nell&#39;esempio discusso in applicazione plugin, i tuo plugin riceve dati sono una stringa, ma che cosa se volete passare un array di stringhe? Supponiamo che il JavaScript <code>cordova.exec</code> chiamata viene specificato come questo:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    Cordova.exec (vincere, fallire, "Echo", "eco", ["stringa di input"]);
</code></pre></div>
<p>Il valore di <code>options</code> stringa passata al <code>Echo.echo</code> metodo è JSON:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    "[\"input string\ "]"
</code></pre></div>
<p>Tutti i JavaScript <code>exec</code> argomenti sono JSON-codificati prima di essere passato in c# e quindi bisogno di essere decodificato:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    string optVal = JsonHelper.Deserialize&lt;string[]&gt;(options)[0];
    // optVal now has the value of "input string"
</code></pre></div>
<h2>Risultati passando da c# a JavaScript</h2>

<p>La <code>BaseCommand</code> classe fornisce metodi per passare dati a gestori di callback JavaScript. Se si desidera semplicemente per segnalare il successo con nessun risultato di accompagnamento, è possibile semplicemente chiamare:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    DispatchCommandResult();
    // calls back with an empty plugin result, considered a success callback
</code></pre></div>
<p>Per passare dati indietro, è necessario chiamare <code>DispatchCommandResult</code> in modo diverso:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    DispatchCommandResult (nuovo PluginResult (PluginResult.Status.OK, "tutto è andato come previsto, questo è un risultato che viene passato al gestore successo."));
</code></pre></div>
<p>Utilizzare una stringa codificata JSON per passare dati oggetto strutturato a JavaScript:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    DispatchCommandResult(new PluginResult(PluginResult.Status.OK, "{result:\"super awesome!\"}"));
</code></pre></div>
<p>Per segnalare un errore, chiamare <code>DispatchCommandResult</code> con un <code>PluginResult</code> oggetto il cui status è <code>ERROR</code> :</p>
<div class="highlight"><pre><code class="language-" data-lang="">    DispatchCommandResult (nuovo PluginResult (PluginResult.Status.ERROR, "Echo segnalato un errore"));
</code></pre></div>
<h2>Gestione degli errori di serializzazione</h2>

<p>Nell&#39;interpretare i tuoi argomenti, <code>try</code> / <code>catch</code> blocchi aiutano escludere ingresso male. Questo modello apparirà in tutto il codice c# Cordova:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    string optVal = null;

    try
    {
        optVal = JsonHelper.Deserialize&lt;string[]&gt;(options)[0];
    }
    catch(Exception)
    {
        // simply catch the exception, we handle null values and exceptions together
    }

    if (optVal == null)
    {
        DispatchCommandResult(new PluginResult(PluginResult.Status.JSON_EXCEPTION));
    }
    else
    {
        // ... continue on to do our work
    }
</code></pre></div>
<h2>Plugin XML</h2>

<p>Le seguenti viene illustrato come utilizzare il <code>plugin.xml</code> file per specificare il file di origine di un plugin sulla piattaforma Windows Phone. Per dettagli sulle opzioni disponibili, vedere applicazione plugin per una panoramica e specifiche di Plugin.</p>

<ul>
<li><p>Il <code>&lt;source-file&gt;</code> elemento definisce tutte le risorse di plugin, come <em>cs</em>, <em>XAML</em>, <em>. xaml.cs</em>e <em>. dll</em> file e risorse di immagine.</p></li>
<li><p>Il <code>&lt;config-file&gt;</code> elemento definisce gli elementi da iniettare in un file di configurazione. Questo esempio aggiunge un plugin per la piattaforma <code>config.xml</code> file:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;config-file target="config.xml" parent="/*"&gt;
    &lt;feature name="PluginName"&gt;
        &lt;param name="wp-package" value="PluginName"/&gt;
    &lt;/feature&gt;
&lt;/config-file&gt;
</code></pre></div>
<p>Questo esempio aggiunge la possibilità di contatti per la <code>WMAppManifest.xml</code> file:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;config-file target="Properties/WMAppManifest.xml" parent="/Deployment/App/Capabilities"&gt;
    &lt;Capability Name="ID_CAP_CONTACTS" /&gt;
&lt;/config-file&gt;
</code></pre></div></li>
</ul>

<h2>Plugin debug</h2>

<p>Utilizzare il debugger di Visual Studio per eseguire il debug componente c# di un plugin. È possibile impostare un punto di interruzione in uno qualsiasi dei metodi esposti dalla classe.</p>

<p>JavaScript è più difficile eseguire il debug di Windows Phone. È necessario utilizzare <code>console.log</code> per stato del plugin di output o per informarsi degli errori.</p>

<h2>Trabocchetti comuni</h2>

<ul>
<li><p>Fare attenzione a non passare al lato nativo che sono difficili per la deserializzazione JSON argomenti da JavaScript. La maggior parte delle piattaforme per dispositivi aspettano l&#39;argomento passato a <code>cordova.exec()</code> essere una matrice, ad esempio il seguente:</p>
<div class="highlight"><pre><code class="language-" data-lang="">Cordova.exec (vittoria, fail, "Nomeservizio", "MethodName", ["questa è una stringa", 54, {literal: 'trouble'}]);
</code></pre></div>
<p>Questo può determinare un valore di stringa troppo complesse per c# decodificare:</p>
<div class="highlight"><pre><code class="language-" data-lang="">"[\"this is a string\", 54, { literal:'trouble' }]"
</code></pre></div>
<p>Invece, prendere in considerazione <em>tutti i</em> parametri di conversione di stringhe prima di chiamare <code>exec()</code> e decodifica ciascuno separatamente:</p>
<div class="highlight"><pre><code class="language-" data-lang="">cordova.exec(win, fail, "ServiceName", "MethodName", ["this is a string", "54", "{literal:'trouble'}"]);
string[] optValues = JsonHelper.Deserialize&lt;string[]&gt;(options);
</code></pre></div></li>
<li><p>È solitamente meglio verificare i parametri nel JavaScript prima di chiamare <code>exec()</code> . In questo modo consente di riutilizzare il codice più e tirare inutili funzionalità del plugin varie implementazioni native.</p></li>
</ul>


            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://projects.apache.org/project.html?cordova">Apache Project Page</a>
                    </li>
                    <li>
                        <a href="http://www.apache.org/dyn/closer.cgi/cordova">Source Distribution</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">License</a>
                    </li>
                    <li>
                        <a href="https://cordova.apache.org/artwork">Artwork</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://github.com/apache?utf8=%E2%9C%93&amp;q=cordova-">Source Code</a></li>
                    <li><a target="_blank" href="https://issues.apache.org/jira/browse/CB/">Issue Tracker</a></li>
                    <li><a target="_blank" href="http://stackoverflow.com/questions/tagged/cordova">Stack Overflow</a></li>
                    <li><a href="https://cordova.apache.org/contact">Mailing List</a></li>
                    <li><a href="https://cordova.apache.org/contribute/nightly_builds.html">Nightly builds</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Apache Software Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="http://www.apache.org/">About ASF</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/foundation/thanks.html">Thanks</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/security/">Security</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help Cordova move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="https://cordova.apache.org/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/apachecordova" class="twitter-follow-button" data-show-count="false">Follow @apachecordova</a></p>
        <script async defer src="https://slack-cordova-io.herokuapp.com/slackin.js"></script>
    </div>
</div>
<p class="copyright_text">
    Copyright &copy; 2021 The Apache Software Foundation, Licensed under the <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
    Apache and the Apache feather logos are <a target="_blank" href="http://www.apache.org/foundation/marks/list/">trademarks</a> of The Apache Software Foundation.
    <br/>
    "Raleway" font used under license. For details see the <a href="https://cordova.apache.org/attributions/">attributions page</a>.
</p>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="../../../../../../static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="../../../../../../static/js/docs.js"></script>

    <script defer type="text/javascript" src="../../../../../../static/js/index.js"></script>
    <script defer type="text/javascript" src="../../../../../../static/js/twitter.js"></script>
    



<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: '0a916ab198bd93d031aa70611271e42e',
        indexName: 'cordova',
        inputSelector: '#header-search-field',
        algoliaOptions: { 'facetFilters': ["version:  3.5.0", "language: it"] }
    });
</script>

</body>
</html>
