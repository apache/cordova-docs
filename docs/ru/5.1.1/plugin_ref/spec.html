<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
        
            
                Спецификация расширений - Apache Cordova
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="https://cordova.apache.org/docs/ru/latest/plugin_ref/spec.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/css/main.css">
    <link rel="stylesheet" type="text/css" href="/static/css/lib/syntax.css">
    <!-- Algolia Search CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" />

    <!-- Fonts -->
    <!-- For attribution information, see www/attributions.html -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:700,400,300,700italic,400italic,300italic' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
        var disqus_developer = 1; // this would set it to developer mode
    </script>

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-64283057-1', 'auto');
    ga('send', 'pageview');
</script>

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/cordova-logo-newbrand.svg"/></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_center">
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="/docs/en/latest/">Documentation</a>
                        </li>
                        <li >
                            <a href="/plugins">Plugins</a>
                        </li>
                        <li >
                            <a href="/blog" id="blog_button">Blog<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li >
                            <a href="/contribute">Contribute</a>
                        </li>
                        <li >
                            <a href="/contribute/team.html">Team</a>
                        </li>
                        <li>
                            <a href="/#getstarted">Get Started</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                    <input id="header-search-field" type="text" placeholder="Search '5.1.1' docs..." class="form-control hidden-xs" autocomplete="off">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>















<div class="docs">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/">
                
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/overview/index.html">
                Введение
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/support/index.html">
                Поддерживаемые Платформы
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/cli/index.html">
                Интерфейс командной строки
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/platforms/index.html">
                Руководство по поддерживаемым платформам
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/plugin_ref/plugman.html">
                Использование Plugman для управления расширениями
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/config_ref/index.html">
                Файл config.xml
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/config_ref/images.html">
                Иконки и заставки
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/hybrid/webviews/index.html">
                Интеграция WebViews
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/hybrid/plugins/index.html">
                Руководство по разработке плагинов
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/appdev/privacy/index.html">
                Руководство по конфиденциальности
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/appdev/security/index.html">
                Руководство по безопасности
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/platform_plugin_versioning_ref/index.html">
                Управление версиями платформ и плагинов
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/appdev/whitelist/index.html">
                Инструкция по доступу к внешним ресурсам
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/cordova/storage/storage.html">
                Хранилище
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/appdev/hooks/index.html">
                Руководство по хукам
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/guide/next/index.html">
                Последующие шаги
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/cordova/events/events.html">
                События
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/ru/5.1.1/cordova/plugins/pluginapis.html">
                API плагинов
            </a>
            
        

        
        

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="page-content-container">
        <div class="page-content">
            <div class="content-header">

                <!-- ToC Dropdown (for XS and SM sizes only) -->
                <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                    <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        Содержание
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        

<li>
    <a class="" href="/docs/ru/5.1.1/">
        
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/overview/index.html">
        Введение
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/support/index.html">
        Поддерживаемые Платформы
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/cli/index.html">
        Интерфейс командной строки
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/platforms/index.html">
        Руководство по поддерживаемым платформам
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/plugin_ref/plugman.html">
        Использование Plugman для управления расширениями
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/config_ref/index.html">
        Файл config.xml
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/config_ref/images.html">
        Иконки и заставки
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/hybrid/webviews/index.html">
        Интеграция WebViews
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/hybrid/plugins/index.html">
        Руководство по разработке плагинов
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/appdev/privacy/index.html">
        Руководство по конфиденциальности
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/appdev/security/index.html">
        Руководство по безопасности
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/platform_plugin_versioning_ref/index.html">
        Управление версиями платформ и плагинов
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/appdev/whitelist/index.html">
        Инструкция по доступу к внешним ресурсам
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/cordova/storage/storage.html">
        Хранилище
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/appdev/hooks/index.html">
        Руководство по хукам
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/guide/next/index.html">
        Последующие шаги
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/cordova/events/events.html">
        События
    </a>
</li>




<li>
    <a class="" href="/docs/ru/5.1.1/cordova/plugins/pluginapis.html">
        API плагинов
    </a>
</li>




                    </ul>
                </div>

                
                

                    
                    
                    
                    
                    

                    
                    

                        
                        

                        <a class="edit" href="https://github.com/apache/cordova-docs/tree/master/www/docs/ru/5.1.1/plugin_ref/spec.md"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </a>
                    
                

                <!-- Language dropdown -->
                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="languageDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        Русский
                        <span class="caret"></span>
                    </button>

                    <!-- List all languages -->
                    <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/de/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    Deutsch
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/en/5.1.1/plugin_ref/spec.html" class="">
                                
                                    English
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/es/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    Español
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/fr/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    Français
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/it/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    Italiano
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/ja/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    日本語
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/ko/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    한국어
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/pl/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    Polski
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/ru/5.1.1/plugin_ref/spec.html" class="">
                                
                                    <span class="selected">
                                        Русский
                                    </span>
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/sl/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    Slovene
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/zh-cn/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    简体中文
                                
                            </a>
                        </li>
                        

                        
                        
                        
                        

                        

                        
                        

                        <li>
                            <a href="/docs/zh-tw/5.1.1/plugin_ref/spec.html" class="missing-page">
                                
                                    繁體中文
                                
                            </a>
                        </li>
                        
                    </ul>
                </div>

                <!-- Version dropdown -->
                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="versionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        5.1.1
                        
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="versionDropdown">

                        <!-- List versions available in this language -->
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/dev/plugin_ref/spec.html" class="">
                                
                                    
                                dev
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/latest/plugin_ref/spec.html" class="">
                                
                                    
                                10.x
                                
                                    (Последняя)
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/9.x/plugin_ref/spec.html" class="">
                                
                                    
                                9.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/8.x/plugin_ref/spec.html" class="">
                                
                                    
                                8.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/7.x/plugin_ref/spec.html" class="">
                                
                                    
                                7.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/6.x/plugin_ref/spec.html" class="">
                                
                                    
                                6.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/5.4.0/plugin_ref/spec.html" class="">
                                
                                    
                                5.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/5.1.1/plugin_ref/spec.html" class="">
                                
                                    <span class="selected">
                                        
                                5.1.1
                                
                            
                                    </span>
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/5.0.0/plugin_ref/spec.html" class="">
                                
                                    
                                5.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/3.5.0/plugin_ref/spec.html" class="">
                                
                                    
                                3.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/3.4.0/plugin_ref/spec.html" class="">
                                
                                    
                                3.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/ru/3.1.0/plugin_ref/spec.html" class="">
                                
                                    
                                3.1.0
                                
                            
                                
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>

            
            
            

            
            

            <!-- Show warnings for special versions -->
            <!-- dev warning -->
            

            <!-- outdated warning -->
            
                <div class="alert docs-alert alert-danger" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    Эта версия документации устарела!
                    <a href="/docs/ru/latest/plugin_ref/spec.html">
                        Нажмите здесь для последней выпущенной версии.
                    </a>
                </div>
            

            <!-- plugin version warning -->
            

            <div id="page-toc-source">
                <style type="text/css">
    /* Workaround for the spacing on the Russian /docs/ru/version/index.html pages */
    .docs .home .summary {
        height: 100px;
    }
    .docs #old-home ul li {
        height: 160px;
    }
</style>

<h1>Спецификация расширений</h1>

<p>Файл <code>plugin.xml</code> представляет собой документ XML c пространством имен <code>plugins</code>: <code>http://apache.org/cordova/ns/plugins/1.0</code>. Он содержит узел верхнего уровня <code>plugin</code>, который определяет сам плагин, и дочерние узлы, которые определяют структуру плагина.</p>

<p>Простой пример элемента plugin:</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;plugin</span> <span class="na">xmlns=</span><span class="s">"http://apache.org/cordova/ns/plugins/1.0"</span>
    <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">id=</span><span class="s">"com.alunny.foo"</span>
    <span class="na">version=</span><span class="s">"1.0.2"</span><span class="nt">&gt;</span>
</code></pre></div>
<h2>Элемент <em>plugin</em></h2>

<p>Элементом <code>plugin</code> является элементом верхнего уровня в файле манифеста плагина. Он имеет следующие атрибуты:</p>

<ul>
<li><p><code>xmlns</code> (обязательно): пространство имен, <code>http://apache.org/cordova/ns/plugins/1.0</code>. Если документ содержит XML из других пространств имен, таких как теги, которые будут добавлены к <code>AndroidManifest.xml</code> файл, эти пространства имен также должны быть включены в элемент верхнего уровня.</p></li>
<li><p><code>id</code> (обязательный): уникальный идентификатор плагина, записывается в обратном формате доменных имен, например <code>com.alunny.foo</code></p></li>
<li><p><code>version</code> (обязательно): номер версии плагина, который соответствует условиям следующего регулярного выражения:</p>
<div class="highlight"><pre><code class="language-" data-lang="">^\d+[.]\d+[.]\d+$
</code></pre></div></li>
</ul>

<h2>Элементы <em>engines</em> и <em>engine</em></h2>

<p>Дочерние элементы для элемента <code>&lt;engines&gt;</code> определяют основанный на Apache Cordova фреймоворк, который поддерживается данным плагином. Пример:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;engines&gt;
    &lt;engine name="cordova" version="1.7.0" /&gt;
    &lt;engine name="cordova" version="1.8.1" /&gt;
    &lt;engine name="worklight" version="1.0.0" platform="android" scriptSrc="worklight_version"/&gt;
&lt;/engines&gt;
</code></pre></div>
<p>Аналогично атрибуту <code>version</code> элемента <code>&lt;plugin&gt;</code>, указанная версия должна соответствовать регулярному выражению:</p>
<div class="highlight"><pre><code class="language-" data-lang="">    ^\d+[.]\d+[.]\d+$
</code></pre></div>
<p>Элементы engine также могут указывать нечеткие параметры совпадения версий, чтобы избежать повторений или по упрощению поддержки, во время обновления платформы. Инструментарий проверяющий совместимость должен поддерживать как минимум определения содержащие <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code> и <code>&lt;=</code> , например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;engines&gt;
    &lt;engine name="cordova" version="&gt;=1.7.0" /&gt;
    &lt;engine name="cordova" version="&lt;1.8.1" /&gt;
&lt;/engines&gt;
</code></pre></div>
<p>Теги <code>&lt;engine&gt;</code> также поддерживаются на всех платформах, на которых работает Cordova. Указание имени <code>cordova</code> для тега engine означает, что все версии Cordova на любой платформе должны соответствовать версии указанной в атрибуте version. Для того, чтобы переопределить включающий в себя все платформы тег engine со значением <code>cordova</code>, вы можете указывать индивидуальные платформы и их версии:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;engines&gt;
    &lt;engine name="cordova" version="&gt;=1.7.0" /&gt;
    &lt;engine name="cordova-android" version="&gt;=1.8.0" /&gt;
    &lt;engine name="cordova-ios" version="&gt;=1.7.1" /&gt;
&lt;/engines&gt;
</code></pre></div>
<p>Вот список платформ, который тег &#39;<engine>&#39; поддерживает: </p>

<ul>
<li>&#39;cordova&#39; </li>
<li>&#39;cordova-plugman&#39; </li>
<li>&#39;cordova-amazon-fireos&#39; </li>
<li>&#39;cordova-android&#39; </li>
<li>&#39;cordova-ios&#39; </li>
<li>&#39;cordova-blackberry10&#39; </li>
<li>&#39;cordova-wp8&#39; </li>
<li>&#39;cordova-windows8&#39;<br></li>
<li>&#39;android-sdk&#39; // возвращает наивысший установленный уровень Android API </li>
<li>&#39;apple-xcode&#39; // возвращает версию xcode </li>
<li>&#39;apple-ios&#39; // возвращает наивысшую, установленную версию iOS </li>
<li>&#39;apple-osx&#39; // возвращает версию OSX </li>
<li>&#39;blackberry-ndk&#39; // возвращает версию нативную BlackBerry SDK</li>
</ul>

<p>Указание пользовательских фреймвёрков на основе Apache Cordova должны быть перечислены с использованием тега engine следующим образом:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;engines&gt;
    &lt;engine name="my_custom_framework" version="1.0.0" platform="android" scriptSrc="path_to_my_custom_framework_version"/&gt;
    &lt;engine name="another_framework" version="&gt;0.2.0" platform="ios|android" scriptSrc="path_to_another_framework_version"/&gt;
    &lt;engine name="even_more_framework" version="&gt;=2.2.0" platform="*" scriptSrc="path_to_even_more_framework_version"/&gt;
&lt;/engines&gt;
</code></pre></div>
<p>При указании пользовательского фреймвёрка основанного на Apache Cordova обязательно, чтобы элемент engine включал в себя следующие атрибуты: <code>name</code>, <code>version</code>, <code>scriptSrc</code> и <code>platform</code>.</p>

<ul>
<li><p><code>name</code> (обязательно): Отображаемое пользователю имя вашего фреймвёрка.</p></li>
<li><p><code>version</code> (обязательно): минимальная версия вашего фреймвёрка, которая требуется для установки плагина.</p></li>
<li><p><code>scriptSrc</code> (обязательно): файл сценария, который говорит plugman, какая версия пользовательского фреймвёрка установлена. В идеале этот файл должен быть в каталоге верхнего уровня каталога plugin.</p></li>
<li><p><code>platform</code> (обязательно): какие платформы, поддерживает ваш фреймвёрк. Вы можете использовать подстановочный знак <code>*</code> для указания того что поддерживаются все платформы, или укажите имена платформ разделенные символом |, например <code>android|ios|blackberry10</code> или просто одну платформу, например: <code>android</code>.</p></li>
</ul>

<p>plugman завершает выполнение с ненулевым кодом ошибки для любого плагина, который будет добавляться в проект, параметры которого не соответствует ограничениям необходимого фреймвёрка для данного плагина.</p>

<p>Если теги <code>&lt;engine&gt;</code> не указаны, plugman пытается установить плагин в каталог проекта Cordova без проверки ограничений.</p>

<h2>Элемент <em>name</em></h2>

<p>Текст содержащий название плагина, в том виде как оно будет отображаться пользователям. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;name&gt;Foo&lt;/name&gt;
</code></pre></div>
<p>Этот элемент (пока) не поддерживает локализацию.</p>

<h2>Элемент <em>description</em></h2>

<p>Текст содержащий описание плагина, в том виде как оно будет отображаться пользователям. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;description&gt;Foo plugin description&lt;/description&gt;
</code></pre></div>
<p>Этот элемент (пока) не поддерживает локализацию.</p>

<h2>Элемент <em>author</em></h2>

<p>Имя автора плагина. Текстовое содержимое элемента содержит имя автора плагина. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;author&gt;Foo plugin description&lt;/author&gt;
</code></pre></div>
<h2>Элемент <em>keywords</em></h2>

<p>Ключевые слова для плагина. Текстовое содержимое элемента содержит разделенные запятыми ключевые слова характеризующие плагин. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;keywords&gt;foo,bar&lt;/keywords&gt;
</code></pre></div>
<h2>Элемент <em>license</em></h2>

<p>Лицензия на использование плагина. Текстовое содержимое элемента содержит лицензию для плагина. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;license&gt;Apache 2.0 License&lt;/license&gt;
</code></pre></div>
<h2>Элемент <em>asset</em></h2>

<p>Один или несколько элементов указывающие файлы или каталоги, которые будут копироваться в каталог <code>www</code> приложения Cordova. Примеры:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;!-- a single file, to be copied in the root directory --&gt;
&lt;asset src="www/foo.js" target="foo.js" /&gt;
&lt;!-- a directory, also to be copied in the root directory --&gt;
&lt;asset src="www/foo" target="foo" /&gt;
</code></pre></div>
<p>Все теги <code>&lt;asset&gt;</code> должны содержать атрибуты <code>src</code> и <code>target</code>. Веб-плагины состоят в основном из элементов <code>&lt;asset&gt;</code>. Любые теги <code>&lt;asset&gt;</code>, вложенные в теги <code>&lt;platform&gt;</code> определяют ресурсы, которые специфичны для определенной платформы, как описано ниже. Атрибуты включают в себя:</p>

<ul>
<li><p><code>src</code>(обязательно): расположение файла или каталога, в пакете плагина, относительно документа <code>plugin.xml</code>. Если файл не существует в указанном в <code>src</code> расположении, plugman останавливается и отменяет процесс установки, выдает уведомление о конфликте и выходит с ненулевым кодом.</p></li>
<li><p><code>target</code>(обязательно):</p>

<p>Месторасположение файла или каталога, в приложении Cordova, где должны располагаться ресурсы указанные в теге src. Месторасположение указывается относительно каталога <code>www</code>. Ресурсы могут быть перемещены в подкаталогах, например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;asset src="www/new-foo.js" target="js/experimental/foo.js" /&gt;
</code></pre></div>
<p>создает каталог <code>js/experimental</code> в пределах каталога <code>www</code>, если только этот каталогу уже не существует, затем копирует <code>new-foo.js</code> файл и переименовывает его в <code>foo.js</code> . Если файл уже существует в целевом расположении, plugman останавливается и отменяет процесс установки, выдает уведомление о конфликте и выходит с ненулевым кодом.</p></li>
</ul>

<h2>Элемент <em>js-module</em></h2>

<p>Большинство плагинов включают один или несколько файлов JavaScript. Каждый элемент <code>&lt;js-module&gt;</code> соответствует файлу JavaScript и устраняет необходимость в добавлении тега <code>&lt;script&gt;</code> для каждого файла, в файле index.html. В то время как теги <code>&lt;asset&gt;</code> просто копируют файл из подкаталога плагина в каталог <code>www</code>, теги <code>&lt;js-module&gt;</code> являются гораздо более сложными конструкциями. Они выглядят так:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;js-module src="socket.js" name="Socket"&gt;
    &lt;clobbers target="chrome.socket" /&gt;
&lt;/js-module&gt;
</code></pre></div>
<p>При установке плагина в примере указанном выше, <code>socket.js</code> копируется в <code>www/plugins/my.plugin.id/socket.js</code> и для этого файла добавляется запись в файле <code>www/cordova_plugins.js</code> . Во время загрузки, код в <code>cordova.js</code> использует XHR для считывания каждого файла, зарегистрированного в www/cordova_plugins.js и добавляет тег <code>&lt;script&gt;</code> в HTML, для каждого такого файла. Он добавляет сопоставление, описывающее необходимо добавить содержимое файла в общее пространство имен, или расширить уже существующее описание JS объекта, как описано ниже.</p>

<p><em>Не</em> оборачивайте файл с использованием <code>cordova.define</code>, так как это будет осуществляться автоматически. Модуль упаковывается в замыкания(closure), с параметрами <code>module</code> , <code>exports</code> , и <code>require</code> в области видимости, как это принято для AMD модулей.</p>

<p>Подробная информация о теге <code>&lt;js-module&gt;</code>:</p>

<ul>
<li><p><code>src</code>: Ссылается на файл в каталоге плагина относительно файла <code>plugin.xml</code>.</p></li>
<li><p><code>name</code>: Определяет последнюю часть имени модуля, определенного в данном файле. Как правило, может быть, все, что вам нравится. Это значение важно только в том случае если вы хотите использовать <code>cordova.require</code> для импорта других частей вашего плагина в коде JavaScript. Полное имя AMD модуля для <code>&lt;js-module&gt;</code> это <code>id</code> вашего плагин со следующим значением <code>name</code> . Из примера указанного выше, для плагина с <code>id</code> - <code>chrome.socket</code> , полное имя модуля<code>chrome.socket.Socket</code>.</p></li>
<li><p>Три теги разрешены внутри <code>&lt;js-module&gt;</code> :</p>

<ul>
<li>  <code>&lt;clobbers target=&quot;some.value&quot;/&gt;</code> Указывает, что значение <code>module.exports</code> добавляется в объект <code>window</code> таким образом, что становится доступно как <code>window.some.value</code> . Вы можете иметь столько <code>&lt;clobbers&gt;</code> сколько вам нравится. Любой объект, отсутствующий в объекте <code>window</code> будет создан при необходимости.</li>
<li>  <code>&lt;merges target=&quot;some.value&quot;/&gt;</code> Указывает, что модуль должны быть объединены с любым уже существующим значением в <code>window.some.value</code> . Если какой либо ключ уже существует в объекте window, объект указанный в модуле переопределяет оригинал. Вы можете иметь столько <code>&lt;merges&gt;</code> сколько вам нравится. Любой объект, отсутствующий в объекте <code>window</code> будет создан при необходимости.</li>
<li>  <code>&lt;runs/&gt;</code>означает, что ваш код должен быть указан с <code>cordova.require</code> , но не добавлен к объекту <code>window</code>. Это полезно при инициализации модуля, присоединения обработчиков событий или в других случаях. Вы можете иметь не более одного тега <code>&lt;runs/&gt;</code>. Обратите внимание, что использование <code>&lt;runs/&gt;</code> совместно с <code>&lt;clobbers/&gt;</code> или <code>&lt;merges/&gt;</code> является излишним, так как эти директивы тоже загружают ваш модуль с помощью <code>cordova.require</code>.</li>
<li>  Пустой <code>&lt;js-module&gt;</code> также загружается и может быть доступен в других модулях с помощью <code>cordova.require</code>.</li>
</ul></li>
</ul>

<p>Если <code>src</code> не указывает на существующий файл, plugman останавливается и отменяет установку, выдает уведомление о проблеме и выходит с ненулевым кодом.</p>

<p>Вложение тега <code>&lt;js-module&gt;</code> внутри элемента <code>&lt;platform&gt;</code> объявляет JavaScript модуль, специфический для выбранной платформы.</p>

<h2>Элемент <em>dependency</em></h2>

<p>Тег <code>&lt;dependency&gt;</code> позволяет указать другие плагины, от которых зависит текущий плагин. В то время как будущих версий будет доступ к ним из репозиториев плагинов, в краткосрочной перспективе плагины прямо упоминается по URL в тегах <code>&lt;dependency&gt;</code>. Они выглядят следующим образом:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;dependency id="com.plugin.id" url="https://github.com/myuser/someplugin" commit="428931ada3891801" subdir="some/path/here" /&gt;
</code></pre></div>
<ul>
<li><p><code>id</code>: определяет идентификатор плагина. Он должен быть глобально уникальным и выраженной в обратном формате доменных имен. Хотя ни одно из этих ограничений в настоящее время не применяется, это может произойти в будущем.</p></li>
<li><p><code>url</code>: URL-адрес для плагина. Этот адрес должен указывать на репозиторий git, который plugman будет пытаться клонировать.</p></li>
<li><p><code>commit</code>: Это любая ссылка git, понятная для <code>git checkout</code> : имя ветки или тега (например, <code>master</code> , <code>0.3.1</code> ), или хеша коммита (например,<code>975ddb228af811dd8bb37ed1dfd092a3d05295f9</code>).</p></li>
<li><p><code>subdir</code>: Указывает, что зависимость целевого плагина существует как подкаталог git-репозитория. Это полезно, потому что она позволяет определять репозиторий содержащий несколько связанных плагинов, и указывать каждый из них индивидуально.</p></li>
</ul>

<p>В будущем будут введены ограничения версии, и репозиторий плагинов будет существовать для поддержки выбора плагина по имени вместо явного URL-адреса.</p>

<h3>Относительные пути для зависимостей</h3>

<p>Если задать <code>url</code> для тега<code>&lt;dependency&gt;</code> как <code>&quot;.&quot;</code> и указать <code>subdir</code>, зависимый плагин будет установлен из того же локального или удаленного репозитория что и основной плагин, который определил тег <code>&lt;dependency&gt;</code>.</p>

<p>Обратите внимание, что <code>subdir</code> всегда указывает путь относительно <em>корня</em> git-репозитория, а не папки основного плагина. Это верно, даже если вы установили плагин с указанием локального пути к нему. Plugman находит корень репозитория git, а затем находит там же другой плагин.</p>

<h2>Элемент <em>platform</em></h2>

<p><code>&lt;platform&gt;</code> Тег определяет платформы, которые имеют связанные исходные файлы или требуют изменения в их конфигурационных файлах. Инструменты, с помощью этой спецификации могут определить поддерживаемые платформы и установить код в проекты Cordova.</p>

<p>Плагины без тегов <code>&lt;platform&gt;</code> считаются содержащими только JavaScript и поэтому устанавливаются на любых платформах.</p>

<p>Образец тега platform:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;platform name="android"&gt;
    &lt;!-- android-specific elements --&gt;
&lt;/platform&gt;
&lt;platform name="ios"&gt;
    &lt;!-- ios-specific elements --&gt;
&lt;/platform&gt;
</code></pre></div>
<p>Обязательный атрибут <code>name</code> поддерживаемую платформу, связывая дочерние элементы с этой платформой.</p>

<p>Имена платформ должны быть в нижнем регистре. Перечислены имена платформ, в произвольном порядке:</p>

<ul>
<li>  amazon-fireos</li>
<li>  android</li>
<li>  blackberry10</li>
<li>  ios</li>
<li>  wp8</li>
<li>  Windows8</li>
</ul>

<h2>Элемент <em>source-file</em></h2>

<p>Элемент <code>&lt;source-file&gt;</code> определяет исполняемый файл исходного кода, который должен быть установлен в проект. Примеры:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;!-- android --&gt;
&lt;source-file src="src/android/Foo.java"
                target-dir="src/com/alunny/foo" /&gt;
&lt;!-- ios --&gt;
&lt;source-file src="src/ios/CDVFoo.m" /&gt;
&lt;source-file src="src/ios/someLib.a" framework="true" /&gt;
&lt;source-file src="src/ios/someLib.a" compiler-flags="-fno-objc-arc" /&gt;
</code></pre></div>
<p>Он поддерживает следующие атрибуты:</p>

<ul>
<li><p><code>src</code>(обязательно): расположение файла относительно <code>plugin.xml</code> . Если <code>src</code> файл не найден, plugman останавливается и отменяет установку, выдает уведомление об этой проблеме и выходит с ненулевым кодом.</p></li>
<li><p><code>target-dir</code>: Каталог, в который должны быть скопированы файлы, относительно корня проекта Cordova. На практике это наиболее важно для платформ на базе Java, где файл в пакете <code>com.alunny.foo</code> должен быть расположен в каталоге <code>com/alunny/foo</code>. Для платформ, где исходный каталог не имеет значения этот атрибут должен быть опущен.</p>

<p>Как и в случае с ресурсами, если <code>target</code> из <code>source-file</code> будет перезаписывать существующий файл, plugman остановится и отменит установку. После чего выдаст уведомление об этой проблеме и выйдет с ненулевым кодом.</p></li>
<li><p><code>framework</code>(только для iOS-устройств): Если значение <code>true</code> , также добавляет указанный файл в качестве фреймвёрка в проект.</p></li>
<li><p><code>compiler-flags</code>(только для iOS-устройств): Если установлено, присваивает указанный флаги компилятора для конкретного исходного файла.</p></li>
</ul>

<h2>Элемент <em>config-file</em></h2>

<p>Идентифицирует XML файл конфигурации который будет изменен, где в этом документе необходимо произвести изменения, и что следует изменить.</p>

<p>Два типа файлов, которые были протестированы на модификацию с использованием этого элемента, <code>xml</code> и <code>plist</code> файлы.</p>

<p>Элемент <code>config-file</code> позволяет только добавить новые дочерние элементы в XML-дерево документа. Дочерние элементы это XML-литералы которые должны быть вставлены в целевой документ.</p>

<p>Пример для XML:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;config-file target="AndroidManifest.xml" parent="/manifest/application"&gt;
    &lt;activity android:name="com.foo.Foo" android:label="@string/app_name"&gt;
        &lt;intent-filter&gt;
        &lt;/intent-filter&gt;
    &lt;/activity&gt;
&lt;/config-file&gt;
</code></pre></div>
<p>Пример для <code>plist</code> :</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;config-file target="*-Info.plist" parent="CFBundleURLTypes"&gt;
    &lt;array&gt;
        &lt;dict&gt;
            &lt;key&gt;PackageName&lt;/key&gt;
            &lt;string&gt;$PACKAGE_NAME&lt;/string&gt;
        &lt;/dict&gt;
    &lt;/array&gt;
&lt;/config-file&gt;
</code></pre></div>
<p>Элемент поддерживает следующие атрибуты:</p>

<ul>
<li><p><code>target</code>:</p>

<p>Файл который будет изменен и путь к нему относительно корня проекта Cordova.</p>

<p>Целевой объект может включать подстановочный знак (<code>*</code>) для элементов. В этом случае plugman рекурсивно просматривает структуру каталогов проекта и использует первое совпадение.</p>

<p>На iOS, расположение файлов конфигурации относительно корневого каталога проекта не известно, поэтому указание приёмника для <code>config.xml</code> определяется как <code>cordova-ios-project/MyAppName/config.xml</code>.</p>

<p>Если указанный файл не существует, инструмент игнорирует изменения конфигурации и продолжает установку.</p></li>
<li><p><code>parent</code>: Селектор XPath, ссылающийся на на родительский элемент, для добавляемых в конфигурационный файл элементов. Если вы используете абсолютные селекторы, можно использовать подстановочный знак (<code>*</code>) для указания корневого элемента, например,<code>/*/plugins</code>.</p>

<p>Для <code>plist</code> файлов, <code>parent</code> определяет, в каком родительском ключе следует добавить указанные XML-данные.</p>

<p>Если селектор не находит элемент в указанном документе, инструмент останавливается и процесс установки отменяется, после чего выдает предупреждение и выходит с ненулевым кодом.</p></li>
<li><p><code>after</code>: Приоритетный список принятых братьев и сестер, после которого нужно добавить XML-фрагмент. Полезно для задания изменения в файлах, которые требуют строгий порядок элементов XML как <a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff769509%28v=vs.105%29.aspx#BKMK_EXTENSIONSelement">http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff769509%28v=vs.105%29.aspx#BKMK _EXTENSIONSelement</a></p></li>
</ul>

<p>Платформа Windows поддерживает два дополнительных атрибута (оба необязательных) затрагивающих meta-name <code>package.appxmanifest</code>:</p>

<p>Атрибут <code>device-target</code> указывает, что следует включить только при построении для указанного типа целевого устройства. Поддерживаемыми значениями являются <code>win</code>, <code>phone</code>или <code>all</code>.</p>

<p>Атрибут <code>versions</code> указывает, что манифесты приложений для определенных версий Windows следует изменить только для версий, которые соответствуют указанной строке версии. Значение может быть любое допустимое значение для строки семантической диапазона версий.</p>

<p>Примеры использования этих атрибутов Windows:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;config-file target="package.appxmanifest" parent="/Package/Capabilities" versions="&lt;8.1.0"&gt;
    &lt;Capability Name="picturesLibrary" /&gt;
    &lt;DeviceCapability Name="webcam" /&gt;
&lt;/config-file&gt;
&lt;config-file target="package.appxmanifest" parent="/Package/Capabilities" versions="&gt;=8.1.0" device-target="phone"&gt;
    &lt;DeviceCapability Name="webcam" /&gt;
&lt;/config-file&gt;
</code></pre></div>
<p>Приведенный выше пример установит pre-8.1 платформы (Windows 8, в частности) и запросит общие возможности устройства <code>webcam</code> и <code>picturesLibrary</code>, затем применит возможности устройства <code>webcam</code> только для проектов Windows 8.1 которые собираются для Windows Phone. Настольные системы Windows 8.1 остаются неизмененными.</p>

<h2>Элемент <em>plugins-plist</em></h2>

<p>Это <em>устаревший</em> элемент, как он применяется только к cordova-ios 2.2.0 и ниже. Используйте тег <code>&lt;config-file&gt;</code> для новых версий Cordova.</p>

<p>Пример:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;config-file target="config.xml" parent="/widget/plugins"&gt;
    &lt;feature name="ChildBrowser"&gt;
        &lt;param name="ios-package" value="ChildBrowserCommand"/&gt;
    &lt;/feature&gt;
&lt;/config-file&gt;
</code></pre></div>
<p>Указывает ключ и значение для добавления в корректный файл <code>AppInfo.plist</code> в проекте Cordova iOS. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;plugins-plist key="Foo" string="CDVFoo" /&gt;
</code></pre></div>
<h2>Элементы <em>resource-file</em> и <em>header-file</em></h2>

<p>Как и исходные файлы (source-file), но специально для платформ, таких как iOS, которые делают различия между исходными файлами, заголовками и ресурсами. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;resource-file src="CDVFoo.bundle" /&gt;
&lt;resource-file src="CDVFooViewController.xib" /&gt;
&lt;header-file src="CDVFoo.h" /&gt;
</code></pre></div>
<p>Пример для Android:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;resource-file src="FooPluginStrings.xml" target="res/values/FooPluginStrings.xml" /&gt;
</code></pre></div>
<h2>Элемент <em>lib-file</em></h2>

<p>Также как исходные файлы, файлы ресурсов и заголовков, но специально для платформ, таких как BlackBerry 10 которые использут созданные пользователем библиотеки. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;lib-file src="src/BlackBerry10/native/device/libfoo.so" arch="device" /&gt;
&lt;lib-file src="src/BlackBerry10/native/simulator/libfoo.so" arch="simulator" /&gt;
</code></pre></div>
<p>Поддерживаемые атрибуты:</p>

<ul>
<li><p><code>src</code>(обязательно): расположение файла относительно <code>plugin.xml</code>. Если <code>src</code> не удается найти, plugman останавливается и отменяет установку, выдает предупреждение о проблеме и выходит с ненулевым кодом.</p></li>
<li><p><code>arch</code>: Архитектура для которой <code>.so</code> файл был построен, либо <code>device</code> или<code>simulator</code>.</p></li>
</ul>

<p>Для платформы Windows элемент <code>&lt;lib-file&gt;</code> позволяет включение <code>&lt;SDKReference&gt;</code> в создаваемых файлах проекта Windows.</p>

<p>Поддерживаемые атрибуты:</p>

<ul>
<li><p><code>src</code> (обязательно): имя пакета SDK для включения (который будет использоваться как значение атрибута <code>Include</code> создаваемого элемента <code>&lt;SDKReference&gt;</code> ).</p></li>
<li><p><code>arch</code>: указывает, что <code>&lt;SDKReference&gt;</code> следует включить только при построении для заданной архитектуры. Поддерживаются следующие значения <code>x86</code>, <code>x64</code> или <code>ARM</code>.</p></li>
<li><p><code>device-target</code>: указывает, что <code>&lt;SDKReference&gt;</code> следует включить только при построении для указанного типа целевого устройства. Поддерживаются следующие значения <code>win</code> (или <code>windows</code>), <code>phone</code> или <code>all</code>.</p></li>
<li><p><code>versions</code>: указывает, что <code>&lt;SDKReference&gt;</code> следует включить только при построении версий, которые соответствуют заданной строке версии. Значение может быть любое допустимое значение для строки семантической диапазона версий.</p></li>
</ul>

<p>Примеры:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;lib-file src="Microsoft.WinJS.2.0, Version=1.0" arch="x86" /&gt;
&lt;lib-file src="Microsoft.WinJS.2.0, Version=1.0" versions="&gt;=8.1" /&gt;
&lt;lib-file src="Microsoft.WinJS.2.0, Version=1.0" target="phone" /&gt;
&lt;lib-file src="Microsoft.WinJS.2.0, Version=1.0" target="win" versions="8.0" arch="x86" /&gt;
</code></pre></div>
<h2>Элемент <em>framework</em></h2>

<p>Определяет фреймвёрк (обычно часть OS/платформы) от которого зависит плагин.</p>

<p>Необязательный атрибут <code>custom</code> – это логическое значение, указывающее, входит ли фреймворк в состав файлов плагина (таким образом это не системный фреймворк).</p>

<h3><em>framework</em> для iOS</h3>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;framework src="libsqlite3.dylib" /&gt;
&lt;framework src="social.framework" weak="true" /&gt;
&lt;framework src="relative/path/to/my.framework" custom="true" /&gt;
</code></pre></div>
<p>Необязательный атрибут <code>weak</code> – это логическое значение, указывающее, должен ли фреймвёрк быть слабо связан с результирующим исполняемым файлом проекта. Значение по умолчанию<code>false</code>.</p>

<h3><em>framework</em> для Android</h3>

<p>На Android (начиная с cordova-android@4.0.0) теги <em>framework</em> используются для включения зависимостей Maven, или включения встроеных проектов библиотек.</p>

<p>Примеры:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;!-- В зависимости от GCM из play services --&gt;
&lt;framework src="com.google.android.gms:play-services-gcm:+" /&gt;
&lt;!-- Зависит на v21 библиотеки поддержки appcompat-v7 --&gt;
&lt;framework src="com.android.support:appcompat-v7:21+" /&gt;
&lt;!-- Зависит от проекта библиотеки включенной в плагин --&gt;
&lt;framework src="relative/path/FeedbackLib" custom="true" /&gt;
</code></pre></div>
<p><em>framework</em> также может быть использован для добавления пользовательских файлов .gradle, включенных в главный файл .gradle проекта:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;framework src="relative/path/rules.gradle" custom="true" type="gradleReference" /&gt;
</code></pre></div>
<p>Для android до android@4.0.0 (проекты на основе ANT):</p>

<p>Необязательный атрибут <code>type</code> является строкой, указывающая тип фреймворка для добавления. В настоящее время только <code>projectReference</code> поддерживается и только для Windows. Использование <code>custom=&#39;true&#39;</code> и <code>type=&#39;projectReference&#39;</code> будет добавлять ссылку на проект, который будет добавляться к этапам компиляции + линковки проекта Cordova. По сути, это единственный способ в настоящее время указать что что «custom» фреймворк может ориентироваться на нескольких архитектур, так как как явно они построены как зависимость в ссылающемся cordova-приложении.</p>

<p>Необязательный атрибут <code>parent</code> задает относительный путь к директории, содержащей подпроект, на который необходимо добавить ссылку. Значение по умолчанию — <code>.</code>, то есть проект приложения. Она позволяет добавлять ссылки между под-проектами как в этом примере:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;framework src="extras/android/support/v7/appcompat" custom="false" parent="FeedbackLib" /&gt;
</code></pre></div>
<h3><em>framework</em> для Windows</h3>

<p>Платформа Windows поддерживает три дополнительные атрибуты (все необязательные) для уточнения когда фреймворк должны быть включен:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;framework src="path/to/project/LibProj.csproj" custom="true" type="projectReference"/&gt;
</code></pre></div>
<p>Атрибут <code>arch</code> указывает, что фреймворк следует включить только при создании для заданной архитектуры. Поддерживаются следующие значения <code>x86</code>, <code>x64</code> или <code>ARM</code>.</p>

<p>Атрибут <code>device-target</code> указывает, что следует включить только при построении для указанного типа целевого устройства. Поддерживаются следующие значения <code>win</code> (или <code>windows</code>), <code>phone</code> или <code>all</code>.</p>

<p>Атрибут <code>versions</code> указывает, что фреймворк следует включить только при построении для версий, которые соответствуют заданной строке версии. Значение может быть любое допустимое значение для строки семантической диапазона версий.</p>

<p>Примеры использования этих атрибутов Windows:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;framework src="src/windows/example.dll" arch="x64" /&gt;
&lt;framework src="src/windows/example.dll" versions="&gt;=8.0" /&gt;
&lt;framework src="src/windows/example.vcxproj" type="projectReference" target="win" /&gt;
&lt;framework src="src/windows/example.vcxproj" type="projectReference" target="all" versions="8.1" arch="x86" /&gt;
</code></pre></div>
<h2>Элемент <em>info</em></h2>

<p>Дополнительная информация для пользователей. Это полезно, когда требуется дополнительные шаги, которые не могут быть легко автоматизированы или выходят за рамки работы plugman. Примеры:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;info&gt;
Вам нужно установить __Google Play Services__ из раздела`Android Extras` используя Android SDK manager (выполните `android`).

Вам нужно добавить следующую строку в `local.properties`:

android.library.reference.1=PATH_TO_ANDROID_SDK/sdk/extras/google/google_play_services/libproject/google-play-services_lib
&lt;/info&gt;
</code></pre></div>
<h2>Элемент <em>hook</em></h2>

<p>Представляет ваш пользовательский сценарий, который будет вызываться Cordova при возникновении определенных действий (например, после того, как плагин добавлен или логика подготовки платформы вызвана). Это полезно, когда вам нужно расширить функциональность Cordova по умолчанию. Смотрите &quot;<a href="../guide/appdev/hooks/index.html">Руководство по хукам</a>&quot; для детальной информации.</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;hook type="after_plugin_install" src="scripts/afterPluginInstall.js" /&gt;
</code></pre></div>
<h2>Переменные</h2>

<p>В некоторых случаях плагин может потребоваться внести изменения в конфигурацию в зависимости от целевого приложения. Например, чтобы зарегистрироваться для C2DM на Android, приложение чей идентификатор пакета <code>com.alunny.message</code> потребует разрешения, такие как:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;uses-permission android:name="com.alunny.message.permission.C2D_MESSAGE"/&gt;
</code></pre></div>
<p>В таких случаях, когда добавляемое содержание из файл <code>plugin.xml</code> не известно заранее, можно указывать переменные с использованием знака доллара, за которым следует серия заглавных букв, цифр или знаками подчеркивания. Для приведенного выше примера файл <code>plugin.xml</code> будет включать следующий тег:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;uses-permission android:name="$PACKAGE_NAME.permission.C2D_MESSAGE"/&gt;
</code></pre></div>
<p>plugman заменяет ссылки на переменные указанным значением, или пустая строка, если значение переменной не найдено. Значение переменной могут быть обнаружено (в данном случае, из <code>AndroidManifest.xml</code> файла) или указанно пользователем инструмента; точный процесс зависит от конкретного инструмента.</p>

<p>plugman может запросить пользователя указать переменные необходимые плагину. Например можно указать ключи API для C2M и Карт Google как аргумент командной строки:</p>
<div class="highlight"><pre><code class="language-" data-lang="">plugman --platform android --project /path/to/project --plugin name|git-url|path --variable API_KEY=!@CFATGWE%^WGSFDGSDFW$%^#$%YTHGsdfhsfhyer56734
</code></pre></div>
<p>Чтобы сделать переменную обязательной, тег <code>&lt;platform&gt;</code> должен содержать тег <code>&lt;preference&gt;</code>. Например:</p>
<div class="highlight"><pre><code class="language-" data-lang="">&lt;preference name="API_KEY" /&gt;
</code></pre></div>
<p>plugman проверяет, переданы ли ему эти необходимые настройки. Если нет, то он должен предупредить пользователя как указать переменную и выйти с ненулевым кодом.</p>

<p>Некоторые имена переменных должны быть зарезервированы, как указано ниже.</p>

<h2>$PACKAGE_NAME</h2>

<p>Уникальный идентификатор в обратном стиле доменных имен, соответствующий пакету <code>CFBundleIdentifier</code> на iOS или атрибут <code>package</code> корневого элемента <code>manifest</code> в файле <code>AndroidManifest.xml</code> файл.</p>


            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://projects.apache.org/project.html?cordova">Apache Project Page</a>
                    </li>
                    <li>
                        <a href="http://www.apache.org/dyn/closer.cgi/cordova">Source Distribution</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">License</a>
                    </li>
                    <li>
                        <a href="/artwork">Artwork</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://github.com/apache?utf8=%E2%9C%93&amp;q=cordova-">Source Code</a></li>
                    <li><a target="_blank" href="https://issues.apache.org/jira/browse/CB/">Issue Tracker</a></li>
                    <li><a target="_blank" href="http://stackoverflow.com/questions/tagged/cordova">Stack Overflow</a></li>
                    <li><a href="/contact">Mailing List</a></li>
                    <li><a href="/contribute/nightly_builds.html">Nightly builds</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Apache Software Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="http://www.apache.org/">About ASF</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/foundation/thanks.html">Thanks</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.apache.org/security/">Security</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help Cordova move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/apachecordova" class="twitter-follow-button" data-show-count="false">Follow @apachecordova</a></p>
        <script async defer src="https://slack-cordova-io.herokuapp.com/slackin.js"></script>
    </div>
</div>
<p class="copyright_text">
    Copyright &copy; 2021 The Apache Software Foundation, Licensed under the <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
    Apache and the Apache feather logos are <a target="_blank" href="http://www.apache.org/foundation/marks/list/">trademarks</a> of The Apache Software Foundation.
    <br/>
    "Raleway" font used under license. For details see the <a href="/attributions/">attributions page</a>.
</p>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="/static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="/static/js/docs.js"></script>

    <script defer type="text/javascript" src="/static/js/index.js"></script>
    <script defer type="text/javascript" src="/static/js/twitter.js"></script>
    



<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: '0a916ab198bd93d031aa70611271e42e',
        indexName: 'cordova',
        inputSelector: '#header-search-field',
        algoliaOptions: { 'facetFilters': ["version:  5.1.1", "language: ru"] }
    });
</script>

</body>
</html>
