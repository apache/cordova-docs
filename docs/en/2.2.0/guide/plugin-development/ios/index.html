<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
        
            
                Developing a Plugin on iOS - Apache Cordova
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="https://cordova.apache.org/docs/en/2.2.0/guide/plugin-development/ios/">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/css/main.css">
    <link rel="stylesheet" type="text/css" href="/static/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="/static/css/lib/syntax.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>

    <!-- Matomo -->
<script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://analytics.apache.org/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '16']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->
  

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/cordova-logo-newbrand.svg"/></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_center">
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="/docs/en/latest/">Documentation</a>
                        </li>
                        <li >
                            <a href="/plugins">Plugins</a>
                        </li>
                        <li >
                            <a href="/blog" id="blog_button">Blog<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li >
                            <a href="/contribute">Contribute</a>
                        </li>
                        <li >
                            <a href="/contribute/team.html">Team</a>
                        </li>
                        <li>
                            <a href="/#getstarted">Get Started</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>

















<div class="docs">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/">
                
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/accelerometer/accelerometer.html">
                Accelerometer
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/camera/camera.html">
                Camera
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/media/capture/capture.html">
                Capture
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/compass/compass.html">
                Compass
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/connection/connection.html">
                Connection
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/contacts/contacts.html">
                Contacts
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/device/device.html">
                Device
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/events/events.html">
                Events
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/file/file.html">
                File
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/geolocation/geolocation.html">
                Geolocation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/globalization/globalization.html">
                Globalization
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/media/media.html">
                Media
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/notification/notification.html">
                Notification
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/splashscreen/splashscreen.html">
                Splashscreen
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/cordova/storage/storage.html">
                Storage
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/guide/getting-started/index.html">
                Getting Started Guides
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/guide/command-line/index.html">
                Command-Line Usage
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/guide/upgrading/index.html">
                Upgrading Guides
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/guide/project-settings/index.html">
                Project Settings
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/guide/plugin-development/index.html">
                Plugin Development Guide
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/guide/whitelist/index.html">
                Domain Whitelist Guide
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/2.2.0/guide/cordova-webview/index.html">
                Embedding WebView
            </a>
            
        

        
        

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="page-content-container">
        <div class="page-content">
            <div class="content-header">

                <!-- ToC Dropdown (for XS and SM sizes only) -->
                <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                    <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        Table of Contents
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        

<li>
    <a class="" href="/docs/en/2.2.0/">
        
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/accelerometer/accelerometer.html">
        Accelerometer
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/camera/camera.html">
        Camera
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/media/capture/capture.html">
        Capture
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/compass/compass.html">
        Compass
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/connection/connection.html">
        Connection
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/contacts/contacts.html">
        Contacts
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/device/device.html">
        Device
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/events/events.html">
        Events
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/file/file.html">
        File
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/geolocation/geolocation.html">
        Geolocation
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/globalization/globalization.html">
        Globalization
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/media/media.html">
        Media
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/notification/notification.html">
        Notification
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/splashscreen/splashscreen.html">
        Splashscreen
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/cordova/storage/storage.html">
        Storage
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/guide/getting-started/index.html">
        Getting Started Guides
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/guide/command-line/index.html">
        Command-Line Usage
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/guide/upgrading/index.html">
        Upgrading Guides
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/guide/project-settings/index.html">
        Project Settings
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/guide/plugin-development/index.html">
        Plugin Development Guide
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/guide/whitelist/index.html">
        Domain Whitelist Guide
    </a>
</li>




<li>
    <a class="" href="/docs/en/2.2.0/guide/cordova-webview/index.html">
        Embedding WebView
    </a>
</li>




                    </ul>
                </div>

                
                

                    
                    
                    
                    
                    

                    
                    

                        
                        

                        <a class="edit" href="https://github.com/apache/cordova-docs/tree/master/www/docs/en/2.2.0/guide/plugin-development/ios/index.md"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </a>
                    
                

                <!-- Version dropdown -->
                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="versionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        2.2.0
                        
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="versionDropdown">

                        <!-- List versions available in this language -->
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/dev/" class="missing-page">
                                
                                    
                                dev
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/latest/" class="missing-page">
                                
                                    
                                12.x-2025.01
                                
                                    (Latest)
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/12.x/" class="missing-page">
                                
                                    
                                12.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/11.x/" class="missing-page">
                                
                                    
                                11.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/10.x/" class="missing-page">
                                
                                    
                                10.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/9.x/" class="missing-page">
                                
                                    
                                9.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/8.x/" class="missing-page">
                                
                                    
                                8.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/7.x/" class="missing-page">
                                
                                    
                                7.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/6.x/" class="missing-page">
                                
                                    
                                6.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.4.0/" class="missing-page">
                                
                                    
                                5.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.1.1/" class="missing-page">
                                
                                    
                                5.1.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.0.0/" class="missing-page">
                                
                                    
                                5.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/4.0.0/" class="missing-page">
                                
                                    
                                4.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.6.0/" class="missing-page">
                                
                                    
                                3.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.5.0/" class="missing-page">
                                
                                    
                                3.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.4.0/" class="missing-page">
                                
                                    
                                3.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.3.0/" class="missing-page">
                                
                                    
                                3.3.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.2.0/" class="missing-page">
                                
                                    
                                3.2.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.1.0/" class="missing-page">
                                
                                    
                                3.1.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.0.0/" class="missing-page">
                                
                                    
                                3.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.9.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.9.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.8.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.8.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.7.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.7.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.6.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.5.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.4.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.3.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.3.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.2.0/guide/plugin-development/ios/index.html" class="">
                                
                                    <span class="selected">
                                        
                                2.2.0
                                
                            
                                    </span>
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.1.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.1.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.0.0/guide/plugin-development/ios/index.html" class="">
                                
                                    
                                2.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.9.0/" class="missing-page">
                                
                                    
                                1.9.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.8.1/" class="missing-page">
                                
                                    
                                1.8.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.8.0/" class="missing-page">
                                
                                    
                                1.8.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.7.0/" class="missing-page">
                                
                                    
                                1.7.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.6.1/" class="missing-page">
                                
                                    
                                1.6.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.6.0/" class="missing-page">
                                
                                    
                                1.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.5.0/" class="missing-page">
                                
                                    
                                1.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>

            
            
            

            
            

            <!-- Show warnings for special versions -->
            <!-- dev warning -->
            

            <!-- outdated warning -->
            
                <div class="alert docs-alert alert-danger" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    This version of the documentation is outdated!
                    <a href="/docs/en/latest/">
                        Click here for the latest released version.
                    </a>
                </div>
            

            <!-- plugin version warning -->
            

            <div id="page-toc-source">
                <h1>Developing a Plugin on iOS</h1>

<p>A plugin is an Objective-C class that extends the <code>CDVPlugin</code> class.</p>

<p>Each plugin class must be registered using the Cordova.plist file, under the Plugins key.</p>

<h2>Plugin Class Mapping</h2>

<p>The JavaScript portion of a plugin always uses the <code>cordova.exec</code> method as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exec(&lt;successFunction&gt;, &lt;failFunction&gt;, &lt;service&gt;, &lt;action&gt;, [&lt;args&gt;]);
</code></pre></div></div>

<p>This will marshall a request from the UIWebView to the iOS native side, more or less boiling down to calling the <code>action</code> method on the <code>service</code> class, with the arguments passed in the <code>args</code> Array.</p>

<p>Plugins with long-running requests, background activity (e.g. playing media), listeners or internal state should implement the <code>onReset</code> method and stop or clean up those activities. This method is run when the <code>UIWebView</code> navigates to a new page or refreshes, which reloads the Javascript.</p>

<p>The plugin must be added to <code>Plugins</code> key (a Dictionary) of the <code>Cordova.plist</code> file in your Cordova-iOS application&#39;s project folder.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;key&gt;service_name&lt;/key&gt;
&lt;string&gt;PluginClassName&lt;/string&gt;
</code></pre></div></div>

<p>The key <code>service_name</code> should match what you use in the JavaScript <code>exec</code> call, and the value will be the name of the Objective-C class of the plugin. Without this added, the plugin may compile but will not be reachable by Cordova.</p>

<h2>Writing an iOS Cordova Plugin</h2>

<p>We have JavaScript fire off a plugin request to the native side. We have the iOS Objective-C plugin mapped properly via the <code>Cordova.plist</code> file. So what does the final iOS Objective-C Plugin class look like?</p>

<p>What gets dispatched to the plugin via JavaScript&#39;s <code>exec</code> function gets passed into the corresponding Plugin class&#39;s <code>action</code> method. A plugin method has this signature:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- (void)myMethod:(CDVInvokedUrlCommand*)command
{
    CDVPluginResult* pluginResult = nil;
    NSString* myarg = [command.arguments objectAtIndex:0];

    if (myarg != nil) {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK];
    } else { 
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_ERROR messageAsString:@"Arg was null"];
    }
    [self.commandDelegate sendPluginResult:pluginResult callbackId:command.callbackId];
}
</code></pre></div></div>

<ol>
  <li><a href="https://github.com/apache/cordova-ios/blob/master/CordovaLib/Classes/CDVInvokedUrlCommand.h">CDVInvokedUrlCommand.h</a></li>
  <li><a href="https://github.com/apache/cordova-ios/blob/master/CordovaLib/Classes/CDVPluginResult.h">CDVPluginResult.h</a></li>
  <li><a href="https://github.com/apache/cordova-ios/blob/master/CordovaLib/Classes/CDVCommandDelegate.h">CDVCommandDelegate.h</a></li>
</ol>

<h2>Plugin Signatures</h2>

<p>The <strong>new signature</strong> supported beginning in <strong>Cordova 2.1.0</strong> is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    - (void)myMethod:(CDVInvokedUrlCommand*)command;
</code></pre></div></div>

<p>The <strong>old (deprecated)</strong> signature is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    - (void)myMethod:(NSMutableArray*)arguments withDict:(NSMutableDictionary*)options;
</code></pre></div></div>

<p>Basically, the options dictionary has been removed for the new signature, and the callbackId is not the 0th index item for the arguments array, but it is now in a separate property.</p>

<h2>Echo Plugin iOS Plugin</h2>

<p>We would add the following to the <code>Plugins</code> key (a Dictionary) of the project&#39;s <code>Cordova.plist</code> file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;key&gt;Echo&lt;/key&gt;
&lt;string&gt;Echo&lt;/string&gt;
</code></pre></div></div>

<p>Then we would add the following files (<code>Echo.h</code> and <code>Echo.m</code>) to the Plugins folder inside our Cordova-iOS
application folder:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/********* Echo.h Cordova Plugin Header *******/

#import &lt;Cordova/CDV.h&gt;

@interface Echo : CDVPlugin

- (void)echo:(CDVInvokedUrlCommand*)command;

@end

/********* Echo.m Cordova Plugin Implementation *******/

#import "Echo.h"
#import &lt;Cordova/CDV.h&gt;

@implementation Echo

- (void)echo:(CDVInvokedUrlCommand*)command
{
    CDVPluginResult* pluginResult = nil;
    NSString* echo = [command.arguments objectAtIndex:0];

    if (echo != nil &amp;&amp; [echo length] &gt; 0) {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK messageAsString:echo];
    } else {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_ERROR];
    }

    [self.commandDelegate sendPluginResult:pluginResult callbackId:command.callbackId];
}

@end
</code></pre></div></div>

<p>Let&#39;s take a look at the code. At the top we have all of the necessary Cordova imports. Our class extends from <code>CDVPlugin</code> - very important.</p>

<p>This plugin only supports one action, the <code>echo</code> action. First, we grab the echo string using the <code>objectAtIndex</code> method on our <code>args</code>, telling it we want to get the 0th parameter in the arguments array. We do a bit of parameter checking: make sure it is not <code>nil</code>, and make sure it is not a zero-length string.</p>

<p>If it is, we return a <code>PluginResult</code> with an <code>ERROR</code> status. If all of those checks pass, then we return a <code>PluginResult</code> with an <code>OK</code> status, and pass in the <code>echo</code> string we received in the first place as a parameter.</p>

<p>Finally, we send the result to <code>self.commandDelegate</code>, which will execute the JavaScript that will callback to success or failure callbacks of the exec method on the JavaScript side. If the success callback was called, it will pass the <code>echo</code> parameter as a parameter.</p>

<h2>Threading</h2>

<p>Although UIWebViews run on a dedicated thread, plugin methods are executed on the UI thread. If your plugin requires a non-trivial amount of processing or requires a blocking call, you should make use of a background thread. An example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- (void)myPluginMethod:(CDVInvokedUrlCommand*)command
{
    // Check command.arguments here.
    [self.commandDelegate runInBackground:^{
        NSString* payload = nil;
        // Some blocking logic...
        CDVPluginResult* pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK messageAsString:payload];
        // The sendPluginResult method is thread-safe.
        [self.commandDelegate sendPluginResult:pluginResult callbackId:command.callbackId];
    }];
}
</code></pre></div></div>

<h2>Advanced Plugin Functionality</h2>

<p>See other methods that you can override in:</p>

<ol>
  <li><a href="https://github.com/apache/cordova-ios/blob/master/CordovaLib/Classes/CDVPlugin.h">CDVPlugin.h</a></li>
  <li><a href="https://github.com/apache/cordova-ios/blob/master/CordovaLib/Classes/CDVPlugin.m">CDVPlugin.m</a></li>
</ol>

<p>For example, you can hook into the <a href="../../../cordova/events/events.pause.html">pause</a>, <a href="../../../cordova/events/events.resume.html">resume</a>, app terminate and handleOpenURL events.</p>

<h2>Debugging Plugins</h2>

<p>To debug the Objective-C side, you would use Xcode&#39;s built in debugger. For JavaScript, on iOS 5.0 you can use <a href="https://github.com/apache/cordova-weinre">Weinre, an Apache Cordova Project</a> or <a href="http://www.iwebinspector.com/">iWebInspector, a third-party utility</a></p>

<p>For iOS 6, you would use Safari 6.0 to simply attach to your app running in the iOS 6 Simulator.</p>

<h2>Common Pitfalls</h2>

<ul>
  <li>Don&#39;t forget to add your plugin&#39;s mapping to Cordova.plist - if you forgot, an error will be printed to the Xcode console log</li>
  <li>Don&#39;t forget to add any hosts you connect to in the <a href="guide_whitelist_index.md.html#Domain%20Whitelist%20Guide">whitelist</a> - if you forgot, an error will be printed to the Xcode console log</li>
</ul>

<h2>Deprecated Plugin Signature Note</h2>

<p>The <strong>old (deprecated)</strong> signature is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    - (void) myMethod:(NSMutableArray*)arguments withDict:(NSMutableDictionary*)options;
</code></pre></div></div>

<p>The options parameter for the Objective-C plugin method is being deprecated, and it should not be used. For legacy reasons - the last JavaScript object passed in the args Array will be passed in as the options dictionary of the method in Objective-C. You must make sure that any JavaScript object that is passed in as an element in the args array occurs as the last item in the Array, if not it will throw off the array index of all subsequent parameters of the Array in Objective-C. Only one JavaScript object is supported for the options dictionary, and only the last one encountered will be passed to the native method. It is because of these error-prone reasons that they are being deprecated.</p>


            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://projects.apache.org/project.html?cordova">Apache Project Page</a>
                    </li>
                    <li>
                        <a href="https://www.apache.org/dyn/closer.cgi/cordova">Source Distribution</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/licenses">License</a>
                    </li>
                    <li>
                        <a href="/artwork">Artwork</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://github.com/apache?utf8=%E2%9C%93&amp;q=cordova-">Source Code</a></li>
                    <li><a target="_blank" href="https://github.com/apache/cordova#filing-a-bug">Issue Tracker</a></li>
                    <li><a target="_blank" href="https://stackoverflow.com/questions/tagged/cordova">Stack Overflow</a></li>
                    <li><a href="/contact">Mailing List</a></li>
                    <li><a href="/contribute/nightly_builds.html">Nightly builds</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Apache Software Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.apache.org/">About ASF</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/events/current-event">Events</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/security/">Security</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy policy</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help Cordova move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/apachecordova" class="twitter-follow-button" data-show-count="false">Follow @apachecordova</a></p>
    </div>
</div>
<p class="copyright_text">
    Copyright &copy; 2025 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a target="_blank" href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.<br/>
    Apache and the Apache feather logos are <a target="_blank" href="https://www.apache.org/foundation/marks/list/">trademarks</a> of The Apache Software Foundation.
    <br/>
    <p>See the <a href="/attributions/">attributions page</a> for other copyright & trademark notices.</p>
</p>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="/static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="/static/js/docs.js"></script>

    <script defer type="text/javascript" src="/static/js/index.js"></script>
    <script defer type="text/javascript" src="/static/js/twitter.js"></script>
</body>
</html>
