<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
        
            
                iOS Plugin Development Guide - Apache Cordova
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="https://cordova.apache.org/docs/en/latest/guide/platforms/ios/plugin.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/css/main.css">
    <link rel="stylesheet" type="text/css" href="/static/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="/static/css/lib/syntax.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>

    <!-- Matomo -->
<script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://analytics.apache.org/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '16']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->
  

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/cordova-logo-newbrand.svg"/></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_center">
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="/docs/en/latest/">Documentation</a>
                        </li>
                        <li >
                            <a href="/plugins">Plugins</a>
                        </li>
                        <li >
                            <a href="/blog" id="blog_button">Blog<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li >
                            <a href="/contribute">Contribute</a>
                        </li>
                        <li >
                            <a href="/contribute/team.html">Team</a>
                        </li>
                        <li>
                            <a href="/#getstarted">Get Started</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>

















<div class="docs">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <span class="toc-section-heading">
                Getting Started
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/overview/index.html">
                Overview
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/cli/installation.html">
                Installation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/cli/index.html">
                Creating an App
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Cordova Projects
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/overview/project-structure.html">
                Project Structure
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-cli/index.html">
                CLI Commands
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/support/index.html">
                Platform Support
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/platform_pinning/index.html">
                Platform Pinning
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/platform_plugin_versioning_ref/index.html">
                Version Management
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/appdev/hooks/index.html">
                Hooks
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                App Development
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <span class="toc-section-heading">
                Platforms
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/platforms/android/index.html">
                Android
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/platforms/ios/index.html">
                iOS
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/platforms/electron/index.html">
                Electron
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Customization
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/config_ref/images.html">
                Icons
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/core/features/splashscreen/index.html">
                Splash Screen
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Security & Privacy
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/appdev/security/index.html">
                Security
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/appdev/privacy/index.html">
                Privacy
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/appdev/allowlist/index.html">
                Allow List
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/cordova/storage/storage.html">
                Data Storage
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Plugin Development
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/hybrid/plugins/index.html">
                Create a Plugin
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Support a Platform
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/platforms/android/plugin.html">
                Android
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="this-page" href="/docs/en/dev/guide/platforms/ios/plugin.html">
                iOS
            </a>
            
                <span class="entry-highlight"></span>
            
        

        
        <div id="page-toc" class="page-toc"></div>

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/plugin_ref/plugman.html">
                Use Plugman
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                References
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/config_ref/index.html">
                Config.xml API
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/plugin_ref/spec.html">
                Plugin.xml API
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/cordova/events/events.html">
                Cordova JavaScript API
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Resources
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/third-party/index.html">
                Third-party Tools
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/cli/template.html">
                App Templates
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/next/index.html">
                Next Steps
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Plugins
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-battery-status/index.html">
                Battery Status
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-camera/index.html">
                Camera
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-device/index.html">
                Device
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-dialogs/index.html">
                Dialogs
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-file/index.html">
                File
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-geolocation/index.html">
                Geolocation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-inappbrowser/index.html">
                Inappbrowser
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-media/index.html">
                Media
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-media-capture/index.html">
                Media Capture
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-network-information/index.html">
                Network Information
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-screen-orientation/index.html">
                Screen Orientation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-splashscreen/index.html">
                Browser Splashscreen
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-statusbar/index.html">
                Statusbar
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/dev/reference/cordova-plugin-vibration/index.html">
                Vibration
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Advanced Topics
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/dev/guide/hybrid/webviews/index.html">
                Embed Cordova in native apps
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="page-content-container">
        <div class="page-content">
            <div class="content-header">

                <!-- ToC Dropdown (for XS and SM sizes only) -->
                <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                    <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        Table of Contents
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        




<li>
    <a class="" href="/docs/en/dev/guide/overview/index.html">
        Overview
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/cli/installation.html">
        Installation
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/cli/index.html">
        Creating an App
    </a>
</li>










<li>
    <a class="" href="/docs/en/dev/guide/overview/project-structure.html">
        Project Structure
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-cli/index.html">
        CLI Commands
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/support/index.html">
        Platform Support
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/platform_pinning/index.html">
        Platform Pinning
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/platform_plugin_versioning_ref/index.html">
        Version Management
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/appdev/hooks/index.html">
        Hooks
    </a>
</li>













<li>
    <a class="" href="/docs/en/dev/guide/platforms/android/index.html">
        Android
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/platforms/ios/index.html">
        iOS
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/platforms/electron/index.html">
        Electron
    </a>
</li>










<li>
    <a class="" href="/docs/en/dev/config_ref/images.html">
        Icons
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/core/features/splashscreen/index.html">
        Splash Screen
    </a>
</li>










<li>
    <a class="" href="/docs/en/dev/guide/appdev/security/index.html">
        Security
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/appdev/privacy/index.html">
        Privacy
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/appdev/allowlist/index.html">
        Allow List
    </a>
</li>







<li>
    <a class="" href="/docs/en/dev/cordova/storage/storage.html">
        Data Storage
    </a>
</li>










<li>
    <a class="" href="/docs/en/dev/guide/hybrid/plugins/index.html">
        Create a Plugin
    </a>
</li>







<li>
    <a class="" href="/docs/en/dev/guide/platforms/android/plugin.html">
        Android
    </a>
</li>




<li>
    <a class="this-page" href="/docs/en/dev/guide/platforms/ios/plugin.html">
        iOS
    </a>
</li>







<li>
    <a class="" href="/docs/en/dev/plugin_ref/plugman.html">
        Use Plugman
    </a>
</li>










<li>
    <a class="" href="/docs/en/dev/config_ref/index.html">
        Config.xml API
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/plugin_ref/spec.html">
        Plugin.xml API
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/cordova/events/events.html">
        Cordova JavaScript API
    </a>
</li>










<li>
    <a class="" href="/docs/en/dev/third-party/index.html">
        Third-party Tools
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/cli/template.html">
        App Templates
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/guide/next/index.html">
        Next Steps
    </a>
</li>










<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-battery-status/index.html">
        Battery Status
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-camera/index.html">
        Camera
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-device/index.html">
        Device
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-dialogs/index.html">
        Dialogs
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-file/index.html">
        File
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-geolocation/index.html">
        Geolocation
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-inappbrowser/index.html">
        Inappbrowser
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-media/index.html">
        Media
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-media-capture/index.html">
        Media Capture
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-network-information/index.html">
        Network Information
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-screen-orientation/index.html">
        Screen Orientation
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-splashscreen/index.html">
        Browser Splashscreen
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-statusbar/index.html">
        Statusbar
    </a>
</li>




<li>
    <a class="" href="/docs/en/dev/reference/cordova-plugin-vibration/index.html">
        Vibration
    </a>
</li>










<li>
    <a class="" href="/docs/en/dev/guide/hybrid/webviews/index.html">
        Embed Cordova in native apps
    </a>
</li>







                    </ul>
                </div>

                
                

                    
                    
                    
                    
                    

                    
                    

                        
                        

                        <a class="edit" href="https://github.com/apache/cordova-docs/tree/master/www/docs/en/dev/guide/platforms/ios/plugin.md"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </a>
                    
                

                <!-- Version dropdown -->
                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="versionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        dev
                        
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="versionDropdown">

                        <!-- List versions available in this language -->
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/dev/guide/platforms/ios/plugin.html" class="">
                                
                                    <span class="selected">
                                        
                                dev
                                
                            
                                    </span>
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/latest/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                12.x-2025.01
                                
                                    (Latest)
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/12.x/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                12.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/11.x/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                11.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/10.x/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                10.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/9.x/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                9.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/8.x/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                8.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/7.x/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                7.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/6.x/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                6.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.4.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                5.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.1.1/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                5.1.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.0.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                5.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/4.0.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                4.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.6.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                3.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.5.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                3.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.4.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                3.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.3.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                3.3.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.2.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                3.2.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.1.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                3.1.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.0.0/guide/platforms/ios/plugin.html" class="">
                                
                                    
                                3.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.9.0/" class="missing-page">
                                
                                    
                                2.9.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.8.0/" class="missing-page">
                                
                                    
                                2.8.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.7.0/" class="missing-page">
                                
                                    
                                2.7.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.6.0/" class="missing-page">
                                
                                    
                                2.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.5.0/" class="missing-page">
                                
                                    
                                2.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.4.0/" class="missing-page">
                                
                                    
                                2.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.3.0/" class="missing-page">
                                
                                    
                                2.3.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.2.0/" class="missing-page">
                                
                                    
                                2.2.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.1.0/" class="missing-page">
                                
                                    
                                2.1.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.0.0/" class="missing-page">
                                
                                    
                                2.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.9.0/" class="missing-page">
                                
                                    
                                1.9.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.8.1/" class="missing-page">
                                
                                    
                                1.8.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.8.0/" class="missing-page">
                                
                                    
                                1.8.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.7.0/" class="missing-page">
                                
                                    
                                1.7.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.6.1/" class="missing-page">
                                
                                    
                                1.6.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.6.0/" class="missing-page">
                                
                                    
                                1.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.5.0/" class="missing-page">
                                
                                    
                                1.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>

            
            
            

            
            

            <!-- Show warnings for special versions -->
            <!-- dev warning -->
            
                <div class="alert docs-alert alert-info" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    This version of the documentation is under development!
                    <a href="/docs/en/latest/guide/platforms/ios/plugin.html">
                        Click here for the latest released version.
                    </a>
                </div>
            

            <!-- outdated warning -->
            

            <!-- plugin version warning -->
            

            <div id="page-toc-source">
                <h1>iOS Plugin Development Guide</h1>

<ul>
  <li><a href="#ios-plugin-development-guide">iOS Plugin Development Guide</a>
    <ul>
      <li><a href="#creating-an-cordova-plugin-for-ios">Creating an Cordova Plugin for iOS</a>
        <ul>
          <li><a href="#adding-native-source-code">Adding Native Source Code</a></li>
          <li><a href="#configuring-the-pluginxml">Configuring the <code>plugin.xml</code></a>
            <ul>
              <li><a href="#adding-plugin-code-to-ios-project">Adding Plugin Code to iOS Project</a></li>
              <li><a href="#setting-class-mapping-for-webview-to-native-communication">Setting Class Mapping for WebView-to-Native Communication</a></li>
              <li><a href="#configuring-plugin-initialization-timing">Configuring Plugin Initialization Timing</a></li>
            </ul>
          </li>
          <li><a href="#supporting-swift-package-manager-spm">Supporting Swift Package Manager (SPM)</a>
            <ul>
              <li><a href="#creating-spms-packageswift-file">Creating SPM&#39;s <code>Package.swift</code> File</a></li>
            </ul>
          </li>
          <li><a href="#additional-native-side-implementation">Additional Native Side Implementation</a>
            <ul>
              <li><a href="#executing-plugin-initialization-logic">Executing Plugin Initialization Logic</a></li>
              <li><a href="#handeling-long-running--background-activities">Handeling Long-running \&amp; Background Activities</a></li>
              <li><a href="#hooking-into-wkurlschemetask">Hooking into WKURLSchemeTask</a></li>
              <li><a href="#using-background-threads">Using Background Threads</a></li>
              <li><a href="#adding-a-privacy-manifest-file">Adding a Privacy Manifest File</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#cdvpluginresult-message-types">CDVPluginResult Message Types</a></li>
      <li><a href="#other-supported-cdvplugin-features">Other Supported <code>CDVPlugin</code> Features</a></li>
      <li><a href="#debugging-plugins-for-ios">Debugging Plugins for iOS</a></li>
      <li><a href="#common-pitfalls">Common Pitfalls</a></li>
    </ul>
  </li>
</ul>

<p>This guide provides details on implementing native plugin code for the iOS platform. The plugin&#39;s platform-native code can be written in either Objective-C or Swift.</p>

<p>Before proceeding, refer to the <a href="../../hybrid/plugins/index.html">Plugin Development Guide</a> for an overview of plugin structure, plugin core files, and its common JavaScript interface. This guide will continue to use the <em>echo</em> plugin, as an exmaple, which enables communication between the Cordova WebView and the native platform.</p>

<h2>Creating an Cordova Plugin for iOS</h2>

<p>In this section we will cover:</p>

<ol>
  <li>Adding Native Source Code</li>
  <li>Configuring <code>plugin.xml</code>
    <ul>
      <li>Adding Plugin Code to iOS Project</li>
      <li>Setting Class Mapping for WebView-to-Native Communication</li>
    </ul>
  </li>
  <li>Adding Swift Package Manager Support</li>
  <li>Additional Native Side Implementation</li>
</ol>

<h3>Adding Native Source Code</h3>

<p>In the following example, we will place all files in the <code>src/ios/</code> directory. This directory will be located inside the Cordova plugin&#39;s project root directory. The name and path of the directory are not strict and can be customized as you prefer. However, this is the typical pattern used by official Apache Cordova plugins to separate platform-specific source code and resources.</p>

<ul>
  <li>
    <p><strong>Swift</strong></p>

    <p>In Swift, the implementation source code is written inside a <code>.swift</code> file. This is where the business logic is performed.</p>

    <p>To expose methods written in Swift to Objective-C, the <code>@objc</code> annotation needs to be added. When the <code>@objc</code> annotation is used, those methods are automatically included in the <code>-Swift.h</code> header file. This is required so that Cordova can locate and invoke them.</p>

    <p><strong>Echo.swift (Source File):</strong></p>

    <p>In this example, when the <code>echo</code> method is invoked, an <code>.ok</code> response with the provided message is returned if the message exists; otherwise, an <code>.error</code> is returned.</p>

    <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">#if canImport(Cordova)</span>
  <span class="kd">import</span> <span class="kt">Cordova</span>
  <span class="cp">#endif</span>

  <span class="kd">@objc</span><span class="p">(</span><span class="kt">Echo</span><span class="p">)</span>
  <span class="kd">class</span> <span class="kt">Echo</span> <span class="p">:</span> <span class="kt">CDVPlugin</span> <span class="p">{</span>
      <span class="kd">@objc</span> <span class="kd">func</span> <span class="nf">sample</span><span class="p">(</span><span class="n">_</span> <span class="nv">command</span> <span class="p">:</span> <span class="kt">CDVInvokedUrlCommand</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">let</span> <span class="nv">myarg</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
          <span class="k">let</span> <span class="nv">pluginResult</span><span class="p">;</span>

          <span class="k">if</span> <span class="p">(</span><span class="n">myarg</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
              <span class="n">pluginResult</span> <span class="o">=</span> <span class="kt">CDVPluginResult</span><span class="p">(</span><span class="nv">status</span><span class="p">:</span> <span class="o">.</span><span class="n">ok</span><span class="p">,</span> <span class="nv">messageAs</span><span class="p">:</span> <span class="n">myarg</span><span class="p">)</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
              <span class="n">pluginResult</span> <span class="o">=</span> <span class="kt">CDVPluginResult</span><span class="p">(</span><span class="nv">status</span><span class="p">:</span> <span class="o">.</span><span class="n">error</span><span class="p">)</span>
          <span class="p">}</span>

          <span class="k">self</span><span class="o">.</span><span class="n">commandDelegate</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="n">pluginResult</span><span class="p">,</span> <span class="nv">callbackId</span><span class="p">:</span> <span class="n">command</span><span class="o">.</span><span class="n">callbackId</span><span class="p">)</span>
      <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Objective-C</strong></p>

    <p><strong>Echo.h (Header File):</strong></p>

    <p>The header file defines the methods and properties that are exposed to other native classes. We also expose the methods that the front-end WebView requests so that Cordova can locate and invoke them.</p>

    <p>In this example, we are exposing the <code>echo</code> method:</p>

    <div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">#import &lt;Cordova/Cordova.h&gt;
</span>
  <span class="k">@interface</span> <span class="nc">Echo</span> <span class="p">:</span> <span class="nc">CDVPlugin</span>

  <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">echo</span><span class="p">:(</span><span class="n">CDVInvokedUrlCommand</span><span class="o">*</span><span class="p">)</span><span class="nv">command</span><span class="p">;</span>

  <span class="k">@end</span>
</code></pre></div>    </div>

    <p><strong>Echo.m (Source File):</strong></p>

    <p>The implementation source code (.m files) is where the business logic is performed.</p>

    <p>In this example, when the <code>echo</code> method is invoked, it examines the contents of the first argument to determine if there is something to echo back to the front-end WebView. If there is content, a <code>OK</code> result is returned with the message; otherwise, an <code>ERROR</code> is returned.</p>

    <div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">#import "Echo.h"
</span>  <span class="cp">#import &lt;Cordova/Cordova.h&gt;
</span>
  <span class="k">@implementation</span> <span class="nc">Echo</span>

  <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">echo</span><span class="p">:(</span><span class="n">CDVInvokedUrlCommand</span><span class="o">*</span><span class="p">)</span><span class="nv">command</span>
  <span class="p">{</span>
      <span class="n">CDVPluginResult</span><span class="o">*</span> <span class="n">pluginResult</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
      <span class="n">NSString</span><span class="o">*</span> <span class="n">echo</span> <span class="o">=</span> <span class="p">[</span><span class="n">command</span><span class="p">.</span><span class="n">arguments</span> <span class="nf">objectAtIndex</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">echo</span> <span class="o">!=</span> <span class="nb">nil</span> <span class="o">&amp;&amp;</span> <span class="p">[</span><span class="n">echo</span> <span class="nf">length</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">pluginResult</span> <span class="o">=</span> <span class="p">[</span><span class="n">CDVPluginResult</span> <span class="nf">resultWithStatus</span><span class="p">:</span><span class="n">CDVCommandStatus_OK</span> <span class="nf">messageAsString</span><span class="p">:</span><span class="n">echo</span><span class="p">];</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="n">pluginResult</span> <span class="o">=</span> <span class="p">[</span><span class="n">CDVPluginResult</span> <span class="nf">resultWithStatus</span><span class="p">:</span><span class="n">CDVCommandStatus_ERROR</span><span class="p">];</span>
      <span class="p">}</span>

      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">commandDelegate</span> <span class="nf">sendPluginResult</span><span class="p">:</span><span class="n">pluginResult</span> <span class="nf">callbackId</span><span class="p">:</span><span class="n">command</span><span class="p">.</span><span class="n">callbackId</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="k">@end</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>Additional Notes:</strong></p>

<ul>
  <li>Plugin entry classes must extend <code>CDVPlugin</code>.</li>
  <li>Supporting classes does not extend <code>CDVPlugin</code>.</li>
  <li>
    <p>The following <code>import</code> statements are required to be added to the top of the plugin entry classes.</p>

    <p>Swift based project will added the following to the source file:</p>

    <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">#if canImport(Cordova)</span>
  <span class="kd">import</span> <span class="kt">Cordova</span>
  <span class="cp">#endif</span>
</code></pre></div>    </div>

    <p>Objective-C based projects will added the following to the header &amp; source files:</p>

    <div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">#import &lt;Cordova/Cordova.h&gt;
</span></code></pre></div>    </div>
  </li>
</ul>

<p><strong>Additional References:</strong></p>

<p>For more details, see the following class headers:</p>

<ul>
  <li><a href="https://apache.github.io/cordova-ios/documentation/cordova/cdvinvokedurlcommand">CDVInvokedUrlCommand</a></li>
  <li><a href="https://apache.github.io/cordova-ios/documentation/cordova/cdvpluginresult">CDVPluginResult</a></li>
  <li><a href="https://apache.github.io/cordova-ios/documentation/cordova/cdvcommanddelegate">CDVCommandDelegate</a></li>
</ul>

<h3>Configuring the <code>plugin.xml</code></h3>

<h4>Adding Plugin Code to iOS Project</h4>

<p>Now that we have our native source code written in our plugin project, we need to add these resource files to the application&#39;s directory. This ensures that the source code is available and used by the app. This can be achieved by defining the <code>&lt;source-file&gt;</code> and <code>&lt;header-file&gt;</code> elements in the <code>plugin.xml</code>.</p>

<p>Below is an example of what this should look like inside the <code>plugin.xml</code>:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;platform</span> <span class="na">name=</span><span class="s">"ios"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- If your plugin uses Swift --&gt;</span>
    <span class="nt">&lt;source-file</span> <span class="na">src=</span><span class="s">"src/ios/Echo.swift"</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- If your plugin uses Objective-C --&gt;</span>
    <span class="c">&lt;!-- &lt;header-file src="src/ios/Echo.h" /&gt; --&gt;</span>
    <span class="c">&lt;!-- &lt;source-file src="src/ios/Echo.m" /&gt; --&gt;</span>
<span class="nt">&lt;/platform&gt;</span>
</code></pre></div></div>

<p><em>Note:</em> If you are following along with <strong>Objective-C</strong>, be sure to update the above accordingly. In the example above, we are using <strong>Swift</strong>.</p>

<p>What the above configuration does is for the iOS platform, it places the header file and source file in the appropriate location within the application. It also creates the necessary references in the Xcode project so that the application will recognize and use these files.</p>

<h4>Setting Class Mapping for WebView-to-Native Communication</h4>

<p>To be able to trigger native functionality in JavaScript, the native classes needs to be mapped within <code>plugin.xml</code> by using the <code>&lt;feature&gt;</code> element.</p>

<p>Below is an example of what this should look like once the feature is added to the <code>plugin.xml</code> from the previous steps, combined:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;platform</span> <span class="na">name=</span><span class="s">"ios"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;config-file</span> <span class="na">target=</span><span class="s">"config.xml"</span> <span class="na">parent=</span><span class="s">"/*"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;feature</span> <span class="na">name=</span><span class="s">"Echo"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"ios-package"</span> <span class="na">value=</span><span class="s">"Echo"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/feature&gt;</span>
    <span class="nt">&lt;/config-file&gt;</span>

    <span class="c">&lt;!-- If your plugin uses Swift --&gt;</span>
    <span class="nt">&lt;source-file</span> <span class="na">src=</span><span class="s">"src/ios/Echo.swift"</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- If your plugin uses Objective-C --&gt;</span>
    <span class="c">&lt;!-- &lt;header-file src="src/ios/Echo.h" /&gt; --&gt;</span>
    <span class="c">&lt;!-- &lt;source-file src="src/ios/Echo.m" /&gt; --&gt;</span>
<span class="nt">&lt;/platform&gt;</span>
</code></pre></div></div>

<p>Specify the plugin&#39;s <code>&lt;feature&gt;</code> tag ensures that the necessary configuration is automatically injected into the Cordova-iOS project, as described in the <a href="../../hybrid/plugins/index.html">Plugin Development Guide</a>.</p>

<p>Lets break down what each element and attribute means.</p>

<ul>
  <li><code>&lt;feature&gt;</code>
    <ul>
      <li>The <code>name</code> attribute should match with the <code>service</code> parameter&#39; value that is used in the JavaScript <code>cordova.exec</code> method call.</li>
    </ul>
  </li>
  <li><code>&lt;param&gt;</code>
    <ul>
      <li>The <code>value</code> attribute should match the name of the plugin&#39;sObjective-C or Swift class name.</li>
      <li>The <code>name</code> attribute should always have the value of <code>ios-package</code> for iOS plugins.</li>
    </ul>
  </li>
</ul>

<p>If the follow guidelines are not met, the plugin may compile but Cordova will not be able to access it.</p>

<p><strong>IMPORTANT NOTE:</strong> During the platform preparation for building the app, an auto-generated merged <code>config.xml</code> file is created. This file contains all platform-specific application configurations and plugin data gathered from the application&#39;s <code>config.xml</code> and the plugin&#39;s <code>plugin.xml</code>. The <code>config-file</code> block, as shown in the example above, ensures that the plugin&#39;s feature is injected into the merged <code>config.xml</code>, allowing the plugin to function properly. This <code>config.xml</code> is separate from the application&#39;s root <code>config.xml</code>.</p>

<h4>Configuring Plugin Initialization Timing</h4>

<p>A single instance of a plugin object is typically created for the lifecycle of each <code>WKWebView</code>, though the instantiation timing depends on the plugin&#39;s implementation.</p>

<p>By default, plugins are instantiated when they are first referenced by a call from JavaScript. However, plugins can be configured to instantiate when the app loads by defining the <code>onload</code> attribute within a <code>&lt;param&gt;</code> element in the plugin&#39;s <code>plugin.xml</code> configuration file. This <code>&lt;param&gt;</code> should be added to the plugin&#39;s <code>&lt;feature&gt;</code> element.</p>

<p>For example:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;feature</span> <span class="na">name=</span><span class="s">"Echo"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"ios-package"</span> <span class="na">value=</span><span class="s">"Echo"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"onload"</span> <span class="na">value=</span><span class="s">"true"</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- Initialize plugin on app load --&gt;</span>
<span class="nt">&lt;/feature&gt;</span>
</code></pre></div></div>

<h3>Supporting Swift Package Manager (SPM)</h3>

<p>Starting from Cordova-iOS 8 and greater, support for the Swift Package Manager (SPM) has been implemented. To start using SPM with your plugin, a <code>Package.swift</code> file will need to be created in the plugin&#39;s root directory and add the <code>package="swift"</code> attribute to the iOS <code>&lt;platform&gt;</code> element in your <code>plugin.xml</code> file.</p>

<h4>Creating SPM&#39;s <code>Package.swift</code> File</h4>

<p>In the plugin&#39;s root directory, create a new file called <code>Package.swift</code> with the following content:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// swift-tools-version:5.5</span>

<span class="kd">import</span> <span class="kt">PackageDescription</span>

<span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"cordova-plugin-echo"</span><span class="p">,</span>
    <span class="nv">platforms</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="nf">iOS</span><span class="p">(</span><span class="o">.</span><span class="n">v13</span><span class="p">)],</span>
    <span class="nv">products</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">library</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"cordova-plugin-echo"</span><span class="p">,</span> <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span><span class="s">"cordova-plugin-echo"</span><span class="p">])</span>
    <span class="p">],</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="c1">// This must be included as a dependency, with this format for it to work.</span>
        <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/apache/cordova-ios.git"</span><span class="p">,</span> <span class="nv">branch</span><span class="p">:</span> <span class="s">"master"</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"cordova-plugin-echo"</span><span class="p">,</span>
            <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
                <span class="o">.</span><span class="nf">product</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Cordova"</span><span class="p">,</span> <span class="nv">package</span><span class="p">:</span> <span class="s">"cordova-ios"</span><span class="p">)</span>
            <span class="p">],</span>
            <span class="nv">path</span><span class="p">:</span> <span class="s">"src/ios"</span><span class="p">,</span>
            <span class="nv">resources</span><span class="p">:</span> <span class="p">[],</span>
            <span class="nv">publicHeadersPath</span><span class="p">:</span> <span class="s">"."</span>
        <span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div></div>

<p>If the plugin is required to provide a privacy manifest file, the following line should be added to the <code>resources</code> element of the <code>cordova-plugin-echo</code> target: <code>.copy("Resources/PrivacyInfo.xcprivacy")</code>.
On top of the SPM declaration, be sure to also refer to the section titled <a href="#adding-a-privacy-manifest-file">Adding a Privacy Manifest File</a> to ensure that the actual resource file is properly declared in the <code>plugin.xml</code> so it is correctly injected into the app.</p>

<p>If the plugin requires for any third-party dependencies, it should be added to the <code>dependencies</code> element, and the <code>target</code>&#39;s <code>dependencies</code>.</p>

<p>For example:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"SomePackageName"</span><span class="p">,</span> <span class="nv">url</span><span class="p">:</span> <span class="s">"..."</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"1.0.0"</span><span class="p">),</span>
<span class="p">],</span>
<span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
        <span class="o">...</span>
        <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
            <span class="o">.</span><span class="nf">product</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Cordova"</span><span class="p">,</span> <span class="nv">package</span><span class="p">:</span> <span class="s">"cordova-ios"</span><span class="p">),</span>
            <span class="o">.</span><span class="nf">product</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"SomePackageLibraryName"</span><span class="p">,</span> <span class="nv">package</span><span class="p">:</span> <span class="s">"SomePackageName"</span><span class="p">)</span>
        <span class="p">],</span>
    <span class="p">)</span>
<span class="p">]</span>
</code></pre></div></div>

<h3>Additional Native Side Implementation</h3>

<h4>Executing Plugin Initialization Logic</h4>

<p>If the plugin has any logic that should execute on the during the plugin&#39;s initialization process, the <code>pluginInitialize</code> method should be defined in the plugin&#39;s class.</p>

<p>For example, if the plugin has defined <code>onload</code> as <code>true</code>, when the app loads, the <code>pluginInitialize</code> method will be executed. Because this is triggered during app load, there is no <code>callbackID</code> so the <code>pluginInitialize</code> method can not return any results to the WebView. If results matter, they would need to be stored in some manar and later fetched with a JavaScript API call.</p>

<h4>Handeling Long-running &amp; Background Activities</h4>

<p>Plugins with long-running requests or background activities, such as media playback, listeners, or those that maintain internal state, should implement the <code>onReset</code> method to cancel these requests or clean up after those activities.</p>

<p>The <code>onReset</code> method is called when the <code>WKWebView</code> navigates to a new page or refreshes, triggering a reload of the JavaScript.</p>

<h4>Hooking into WKURLSchemeTask</h4>

<p>The <a href="https://developer.apple.com/documentation/webkit/wkurlschemetask">WKURLSchemeTask</a> is an interface Cordova&#39;s main WKWebView uses to load files from your app&#39;s bundle. You can create your own custom schemes or custom loading code for the WebView by implementing the <code>- (BOOL) overrideSchemeTask: (id &lt;WKURLSchemeTask&gt;)urlSchemeTask</code> method in a plugin.</p>

<h4>Using Background Threads</h4>

<p>Plugin methods ordinarily execute in the same thread as the main interface. If your plugin requires a great deal of processing or requires a blocking call, you should use a background thread. It is important to note that any operations involving the UI, such as displaying alerts, changing colors, or performing other visual updates, must be executed on the main thread.</p>

<p>For example:</p>

<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">myPluginMethod</span><span class="p">:(</span><span class="n">CDVInvokedUrlCommand</span><span class="o">*</span><span class="p">)</span><span class="nv">command</span>
<span class="p">{</span>
    <span class="c1">// Check command.arguments here.</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">commandDelegate</span> <span class="nf">runInBackground</span><span class="p">:</span><span class="o">^</span><span class="p">{</span>
        <span class="n">NSString</span><span class="o">*</span> <span class="n">payload</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
        <span class="c1">// Some blocking logic...</span>
        <span class="n">CDVPluginResult</span><span class="o">*</span> <span class="n">pluginResult</span> <span class="o">=</span> <span class="p">[</span><span class="n">CDVPluginResult</span> <span class="nf">resultWithStatus</span><span class="p">:</span><span class="n">CDVCommandStatus_OK</span> <span class="nf">messageAsString</span><span class="p">:</span><span class="n">payload</span><span class="p">];</span>
        <span class="c1">// The sendPluginResult method is thread-safe.</span>
        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">commandDelegate</span> <span class="nf">sendPluginResult</span><span class="p">:</span><span class="n">pluginResult</span> <span class="nf">callbackId</span><span class="p">:</span><span class="n">command</span><span class="p">.</span><span class="n">callbackId</span><span class="p">];</span>
    <span class="p">}];</span>
<span class="p">}</span>
</code></pre></div></div>

<h4>Adding a Privacy Manifest File</h4>

<p>As of May 1, 2024, Apple requires a privacy manifest file to be created for apps and third-party SDKs. The purpose of the privacy manifest file is to explain the data being collected and the reasons for the required APIs it uses.</p>

<p>Plugins can include a pre-bundled <code>PrivacyInfo.xcprivacy</code> file that lists any privacy-sensitive APIs they use, along with the reasons for their usage.</p>

<p>It is recommended to review the following Apple Developer document, &quot;<a href="https://developer.apple.com/documentation/bundleresources/privacy_manifest_files/describing_data_use_in_privacy_manifests">Describing data use in privacy manifests</a>&quot;, to understand the list of known <code>NSPrivacyCollectedDataTypes</code> and <code>NSPrivacyCollectedDataTypePurposes</code>.</p>

<p>Ensure all four keys—<code>NSPrivacyTracking</code>, <code>NSPrivacyTrackingDomains</code>, <code>NSPrivacyAccessedAPITypes</code>, and <code>NSPrivacyCollectedDataTypes</code>—are defined, even if you are not making an addition to the other items. Apple requires all to be defined.</p>

<p>Once you&#39;ve identified what the contents of the <code>PrivacyInfo.xcprivacy</code> will look like, lets start creating the bundle and loading it as a resource.</p>

<ol>
  <li>
    <p>Create a directory named <code>CDVEcho.bundle</code> inside the <code>src/ios</code> directory. Make sure the bundle name is unique enough to avoid conflicts with other plugins.</p>
  </li>
  <li>
    <p>Inside the new <code>CDVEcho.bundle</code> directory, create a privacy manifest file named <code>PrivacyInfo.xcprivacy</code>.</p>
  </li>
  <li>
    <p>Add the contents you&#39;ve identified for this file. Here&#39;s an example:</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Example PrivacyInfo.xcprivacy Contents --&gt;</span>
<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>NSPrivacyTracking<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;false/&gt;</span>
    <span class="nt">&lt;key&gt;</span>NSPrivacyTrackingDomains<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;array/&gt;</span>
    <span class="nt">&lt;key&gt;</span>NSPrivacyAccessedAPITypes<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;array/&gt;</span>
    <span class="nt">&lt;key&gt;</span>NSPrivacyCollectedDataTypes<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;array/&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Update your <code>plugin.xml</code> to load the <code>CDVEcho.bundle</code> into the app&#39;s resources.</p>

    <p>Inside the iOS <code>&lt;platform&gt;</code> element, add a <code>&lt;resource-file&gt;</code> element pointing to the <code>CDVEcho.bundle</code> directory:</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;platform</span> <span class="na">name=</span><span class="s">"ios"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;resource-file</span> <span class="na">src=</span><span class="s">"src/ios/CDVEcho.bundle"</span> <span class="na">target=</span><span class="s">"CDVEcho.bundle"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/platform&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Optional:</strong> If your plugin supports Swift Package Manager, refer to the section <a href="#creating-spms-packageswift-file">Creating SPM&#39;s <code>Package.swift</code> File</a> to ensure the privacy manifest is also included as a resource file.</p>
  </li>
</ol>

<h2>CDVPluginResult Message Types</h2>

<p>You can use <a href="https://apache.github.io/cordova-ios/documentation/cordova/cdvpluginresult"><code>CDVPluginResult</code></a> to return a variety of result types back to the JavaScript callbacks, using class methods that follow this pattern:</p>

<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">+</span> <span class="p">(</span><span class="n">CDVPluginResult</span><span class="o">*</span><span class="p">)</span><span class="nf">resultWithStatus</span><span class="p">:(</span><span class="n">CDVCommandStatus</span><span class="p">)</span><span class="nv">statusOrdinal</span> <span class="n">messageAs</span><span class="p">...</span>
</code></pre></div></div>

<p>The following types can be used:</p>

<ul>
  <li><code>String</code></li>
  <li><code>Int</code></li>
  <li><code>Double</code></li>
  <li><code>Bool</code></li>
  <li><code>Array</code></li>
  <li><code>Dictionary</code></li>
  <li><code>ArrayBuffer</code></li>
  <li><code>Multipart</code></li>
</ul>

<p>You can also leave out any arguments to send a status, or return an error, or even choose not to send any plugin result, in which case neither callback fires.</p>

<p>Note the following for complex return values:</p>

<ul>
  <li>
    <p><code>messageAsArrayBuffer</code> expects <code>NSData*</code> and will convert it to an <code>ArrayBuffer</code> in the JavaScript callback. Likewise, any <code>ArrayBuffer</code> the JavaScript sends to a native side will be converted to <code>NSData*</code>.</p>
  </li>
  <li>
    <p><code>messageAsMultipart</code> expects an <code>NSArray*</code> containing any of the other supported types, and sends the entire array as the <code>arguments</code> to your JavaScript callback.  This way, all of the arguments are serialized or deserialized as necessary, so it is safe to return <code>NSData*</code> as multipart, but not as <code>Array</code>/<code>Dictionary</code>.</p>
  </li>
</ul>

<h2>Other Supported <code>CDVPlugin</code> Features</h2>

<p>The <code>CDVPlugin</code> class features other methods that a plugin can override.</p>

<p>For example, the plugin can capture:</p>
<ul>
  <li><a href="../../../cordova/events/events.html#pause"><code>pause</code></a> Event</li>
  <li><a href="../../../cordova/events/events.html#resume"><code>resume</code></a> Event</li>
  <li>App Terminate Event</li>
  <li><code>handleOpenURL</code> events</li>
</ul>

<p>For additional reference, see the following class documentation:</p>

<ul>
  <li><a href="https://apache.github.io/cordova-ios/documentation/cordova/cdvplugin">CDVPlugin</a></li>
</ul>

<h2>Debugging Plugins for iOS</h2>

<p>To debug the native side, you will need to use Xcode&#39;s built-in debugger.</p>

<p>For JavaScript, you can launch the Safari Web Inspector and attach it to the running application process. The app can be running on either an iOS Simulator or device.</p>

<p>Generally, its recommended to use a debug build for testing as it should already allow the WebView to be inspectable. If for any reason you need to test on a release build, you can enable WebView Inspector by setting the <code>InspectableWebview</code> config preference to <code>true</code> in the application&#39;s <code>config.xml</code>.</p>

<p>E.g.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">"InspectableWebview"</span> <span class="na">value=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p>For security purpose, its highly unrecommended to enable the <code>InspectableWebview</code> for release builds. If you do set it, remove the setting before deploy the app to the app store.</p>

<h2>Common Pitfalls</h2>

<ul>
  <li>
    <p>Don&#39;t forget to add your plugin&#39;s mapping to <code>plugin.xml</code>. If you forget, an error is logged in the Xcode console.</p>
  </li>
  <li>
    <p>Don&#39;t forget to add any hosts you connect to in the allow list, as described in Domain <a href="../../appdev/allowlist/index.html">Allow List Guide</a>. If you forget, an error is logged in the Xcode console.</p>
  </li>
</ul>



            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://projects.apache.org/project.html?cordova">Apache Project Page</a>
                    </li>
                    <li>
                        <a href="https://www.apache.org/dyn/closer.cgi/cordova">Source Distribution</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/licenses">License</a>
                    </li>
                    <li>
                        <a href="/artwork">Artwork</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://github.com/apache?utf8=%E2%9C%93&amp;q=cordova-">Source Code</a></li>
                    <li><a target="_blank" href="https://github.com/apache/cordova#filing-a-bug">Issue Tracker</a></li>
                    <li><a target="_blank" href="https://stackoverflow.com/questions/tagged/cordova">Stack Overflow</a></li>
                    <li><a href="/contact">Mailing List</a></li>
                    <li><a href="/contribute/nightly_builds.html">Nightly builds</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Apache Software Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.apache.org/">About ASF</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/events/current-event">Events</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/security/">Security</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy policy</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help Cordova move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/apachecordova" class="twitter-follow-button" data-show-count="false">Follow @apachecordova</a></p>
    </div>
</div>
<p class="copyright_text">
    Copyright &copy; 2025 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a target="_blank" href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.<br/>
    Apache and the Apache feather logos are <a target="_blank" href="https://www.apache.org/foundation/marks/list/">trademarks</a> of The Apache Software Foundation.
    <br/>
    <p>See the <a href="/attributions/">attributions page</a> for other copyright & trademark notices.</p>
</p>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="/static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="/static/js/docs.js"></script>

    <script defer type="text/javascript" src="/static/js/index.js"></script>
    <script defer type="text/javascript" src="/static/js/twitter.js"></script>
</body>
</html>
