<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
        
            
                Android Plugins - Apache Cordova
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="https://cordova.apache.org/docs/en/latest/guide/platforms/android/plugin.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/css/main.css">
    <link rel="stylesheet" type="text/css" href="/static/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="/static/css/lib/syntax.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>

    <!-- Matomo -->
<script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://analytics.apache.org/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '16']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->
  

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/cordova-logo-newbrand.svg"/></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_center">
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="/docs/en/latest/">Documentation</a>
                        </li>
                        <li >
                            <a href="/plugins">Plugins</a>
                        </li>
                        <li >
                            <a href="/blog" id="blog_button">Blog<span class="badge" id="new_blog_count"></span></a>
                        </li>
                        <li >
                            <a href="/contribute">Contribute</a>
                        </li>
                        <li >
                            <a href="/contribute/team.html">Team</a>
                        </li>
                        <li>
                            <a href="/#getstarted">Get Started</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>

















<div class="docs">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/">
                
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/guide/overview/index.html">
                Overview
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/guide/cli/index.html">
                The Command-line Interface
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/guide/platforms/index.html">
                Platform Guides
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/config_ref/index.html">
                Configuration Reference
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/guide/hybrid/webviews/index.html">
                Embedding WebViews
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/guide/hybrid/plugins/index.html">
                Plugin Development Guide
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/guide/appdev/privacy/index.html">
                Privacy Guide
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/guide/appdev/whitelist/index.html">
                Domain Whitelist Guide
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/accelerometer/accelerometer.html">
                Accelerometer
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/camera/camera.html">
                Camera
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/media/capture/capture.html">
                Capture
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/compass/compass.html">
                Compass
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/connection/connection.html">
                Connection
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/contacts/contacts.html">
                Contacts
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/device/device.html">
                Device
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/events/events.html">
                Events
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/file/file.html">
                File
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/geolocation/geolocation.html">
                Geolocation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/globalization/globalization.html">
                Globalization
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/inappbrowser/inappbrowser.html">
                InAppBrowser
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/media/media.html">
                Media
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/notification/notification.html">
                Notification
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/splashscreen/splashscreen.html">
                Splashscreen
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/en/3.0.0/cordova/storage/storage.html">
                Storage
            </a>
            
        

        
        

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="page-content-container">
        <div class="page-content">
            <div class="content-header">

                <!-- ToC Dropdown (for XS and SM sizes only) -->
                <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                    <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        Table of Contents
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        

<li>
    <a class="" href="/docs/en/3.0.0/">
        
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/guide/overview/index.html">
        Overview
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/guide/cli/index.html">
        The Command-line Interface
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/guide/platforms/index.html">
        Platform Guides
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/config_ref/index.html">
        Configuration Reference
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/guide/hybrid/webviews/index.html">
        Embedding WebViews
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/guide/hybrid/plugins/index.html">
        Plugin Development Guide
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/guide/appdev/privacy/index.html">
        Privacy Guide
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/guide/appdev/whitelist/index.html">
        Domain Whitelist Guide
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/accelerometer/accelerometer.html">
        Accelerometer
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/camera/camera.html">
        Camera
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/media/capture/capture.html">
        Capture
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/compass/compass.html">
        Compass
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/connection/connection.html">
        Connection
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/contacts/contacts.html">
        Contacts
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/device/device.html">
        Device
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/events/events.html">
        Events
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/file/file.html">
        File
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/geolocation/geolocation.html">
        Geolocation
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/globalization/globalization.html">
        Globalization
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/inappbrowser/inappbrowser.html">
        InAppBrowser
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/media/media.html">
        Media
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/notification/notification.html">
        Notification
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/splashscreen/splashscreen.html">
        Splashscreen
    </a>
</li>




<li>
    <a class="" href="/docs/en/3.0.0/cordova/storage/storage.html">
        Storage
    </a>
</li>




                    </ul>
                </div>

                
                

                    
                    
                    
                    
                    

                    
                    

                        
                        

                        <a class="edit" href="https://github.com/apache/cordova-docs/tree/master/www/docs/en/3.0.0/guide/platforms/android/plugin.md"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </a>
                    
                

                <!-- Version dropdown -->
                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="versionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        3.0.0
                        
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="versionDropdown">

                        <!-- List versions available in this language -->
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/dev/guide/platforms/android/plugin.html" class="">
                                
                                    
                                dev
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/latest/guide/platforms/android/plugin.html" class="">
                                
                                    
                                12.x-2025.01
                                
                                    (Latest)
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/12.x/guide/platforms/android/plugin.html" class="">
                                
                                    
                                12.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/11.x/guide/platforms/android/plugin.html" class="">
                                
                                    
                                11.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/10.x/guide/platforms/android/plugin.html" class="">
                                
                                    
                                10.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/9.x/guide/platforms/android/plugin.html" class="">
                                
                                    
                                9.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/8.x/guide/platforms/android/plugin.html" class="">
                                
                                    
                                8.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/7.x/guide/platforms/android/plugin.html" class="">
                                
                                    
                                7.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/6.x/guide/platforms/android/plugin.html" class="">
                                
                                    
                                6.x
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.4.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                5.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.1.1/guide/platforms/android/plugin.html" class="">
                                
                                    
                                5.1.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/5.0.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                5.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/4.0.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                4.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.6.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                3.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.5.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                3.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.4.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                3.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.3.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                3.3.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.2.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                3.2.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.1.0/guide/platforms/android/plugin.html" class="">
                                
                                    
                                3.1.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/3.0.0/guide/platforms/android/plugin.html" class="">
                                
                                    <span class="selected">
                                        
                                3.0.0
                                
                            
                                    </span>
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.9.0/" class="missing-page">
                                
                                    
                                2.9.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.8.0/" class="missing-page">
                                
                                    
                                2.8.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.7.0/" class="missing-page">
                                
                                    
                                2.7.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.6.0/" class="missing-page">
                                
                                    
                                2.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.5.0/" class="missing-page">
                                
                                    
                                2.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.4.0/" class="missing-page">
                                
                                    
                                2.4.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.3.0/" class="missing-page">
                                
                                    
                                2.3.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.2.0/" class="missing-page">
                                
                                    
                                2.2.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.1.0/" class="missing-page">
                                
                                    
                                2.1.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/2.0.0/" class="missing-page">
                                
                                    
                                2.0.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.9.0/" class="missing-page">
                                
                                    
                                1.9.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.8.1/" class="missing-page">
                                
                                    
                                1.8.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.8.0/" class="missing-page">
                                
                                    
                                1.8.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.7.0/" class="missing-page">
                                
                                    
                                1.7.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.6.1/" class="missing-page">
                                
                                    
                                1.6.1
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.6.0/" class="missing-page">
                                
                                    
                                1.6.0
                                
                            
                                
                            </a>
                        </li>
                        
                        <li>
                            
                            

                            

                            
                            
                            

                            

                            <a href="/docs/en/1.5.0/" class="missing-page">
                                
                                    
                                1.5.0
                                
                            
                                
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>

            
            
            

            
            

            <!-- Show warnings for special versions -->
            <!-- dev warning -->
            

            <!-- outdated warning -->
            
                <div class="alert docs-alert alert-danger" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    This version of the documentation is outdated!
                    <a href="/docs/en/latest/guide/platforms/android/plugin.html">
                        Click here for the latest released version.
                    </a>
                </div>
            

            <!-- plugin version warning -->
            

            <div id="page-toc-source">
                <h1>Android Plugins</h1>

<p>Writing a plugin requires an understanding of the architecture of
Cordova-Android. Cordova-Android consists of an Android WebView with
hooks attached to it. These plugins are represented as class mappings
in the <code>config.xml</code> file.</p>

<p>A plugin consists of at least one Java class that extends the
<code>CordovaPlugin</code> class. A plugin must override one of the <code>execute</code>
methods from <code>CordovaPlugin</code>.  As best practice, the plugin should
handle <a href="../../../cordova/events/events.pause.html"><code>pause</code></a> and <a href="../../../cordova/events/events.resume.html"><code>resume</code></a> events, and any message passing between
plugins.  Plugins with long-running requests, background activity such
as media playback, listeners, or internal state should implement the
<code>onReset()</code> method as well. It executes when the <code>WebView</code> navigates to
a new page or refreshes, which reloads the JavaScript.</p>

<h2>Plugin Class Mapping</h2>

<p>The JavaScript portion of a plugin always uses the <code>cordova.exec</code> method as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exec(&lt;successFunction&gt;, &lt;failFunction&gt;, &lt;service&gt;, &lt;action&gt;, [&lt;args&gt;]);
</code></pre></div></div>

<p>This marshals a request from the WebView to the Android native side,
more or less boiling down to calling the <code>action</code> method on the
<code>service</code> class, with the arguments passed in the <code>args</code> Array.</p>

<p>Whether you distribute your plugin as Java file or as a JAR of its
own, the plugin must be added to the <code>config.xml</code> file in your
Cordova-Android application&#39;s <code>res/xml/</code> directory.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;feature name="&lt;service_name&gt;"&gt;
    &lt;param name="android-package" value="&lt;full_name_including_namespace&gt;" /&gt;
&lt;/feature&gt;
</code></pre></div></div>

<p>The service name should match the one used in the JavaScript <code>exec</code>
call, and the value is the Java classes full name, including the
namespace.  Otherwise the plugin may compile but still be unreachable
by Cordova.</p>

<h2>Writing an Android Java Plugin</h2>

<p>JavaScript fires off a plugin request to the native side.  The Android
Java plugin is mapped properly via the <code>config.xml</code> file.  So what
does the final Android Java Plugin class look like?</p>

<p>What gets dispatched to the plugin via JavaScript&#39;s <code>exec</code> function gets
passed into the Plugin class&#39;s <code>execute</code> method. Most <code>execute</code>
implementations look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Override
public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {
    if ("beep".equals(action)) {
        this.beep(args.getLong(0));
        callbackContext.success();
        return true;
    }
    return false;  // Returning false results in a "MethodNotFound" error.
}
</code></pre></div></div>

<p>We compare the value of the <code>action</code> parameter, and dispatch the
request off to a (private) method in the class, optionally passing
some of the parameters to the method.</p>

<p>When catching exceptions and returning errors, it&#39;s important for the
sake of clarity that errors returned to JavaScript match Java&#39;s
exception names as much as possible.</p>

<h3>Threading</h3>

<p>JavaScript in the WebView does <em>not</em> run on the UI thread. It runs on
the WebCore thread. The <code>execute</code> method also runs on the WebCore thread.</p>

<p>If you need to interact with the UI, you should use the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Override
public boolean execute(String action, JSONArray args, final CallbackContext callbackContext) throws JSONException {
    if ("beep".equals(action)) {
        final long duration = args.getLong(0);
        cordova.getActivity().runOnUiThread(new Runnable() {
            public void run() {
                ...
                callbackContext.success(); // Thread-safe.
            }
        });
        return true;
    }
    return false;
}
</code></pre></div></div>

<p>If you do not need to run on the UI thread, but do not want to block the WebCore thread:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Override
public boolean execute(String action, JSONArray args, final CallbackContext callbackContext) throws JSONException {
    if ("beep".equals(action)) {
        final long duration = args.getLong(0);
        cordova.getThreadPool().execute(new Runnable() {
            public void run() {
                ...
                callbackContext.success(); // Thread-safe.
            }
        });
        return true;
    }
    return false;
}
</code></pre></div></div>

<h3>Echo Android Plugin Example</h3>

<p>Add the following to our <code>config.xml</code> file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;feature name="Echo"&gt;
    &lt;param name="android-package" value="org.apache.cordova.plugin.Echo" /&gt;
&lt;/feature&gt;
</code></pre></div></div>

<p>Then add the following file to
<code>src/org/apache/cordova/plugin/Echo.java</code> inside our Cordova-Android
application:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package org.apache.cordova.plugin;

import org.apache.cordova.CordovaPlugin;
import org.apache.cordova.CallbackContext;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

/**
 * This class echoes a string called from JavaScript.
 */
public class Echo extends CordovaPlugin {

    @Override
    public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {
        if (action.equals("echo")) {
            String message = args.getString(0);
            this.echo(message, callbackContext);
            return true;
        }
        return false;
    }

    private void echo(String message, CallbackContext callbackContext) {
        if (message != null &amp;&amp; message.length() &gt; 0) {
            callbackContext.success(message);
        } else {
            callbackContext.error("Expected one non-empty string argument.");
        }
    }
}
</code></pre></div></div>

<p>Let&#39;s take a look at the code. The necessary <code>imports</code> are at
the top. Our class extends from <code>CordovaPlugin</code>. We override the
execute() method in order to recieve messages from exec(). Our method
first compares against <code>action</code>: this plugin only supports one action,
the <code>echo</code> action. Any other action returns <code>false</code>, which results in an
error of type <code>INVALID_ACTION</code>, which translates into an error
callback invocation on the JavaScript side. Next, we grab the echo
string using the <code>getString</code> method on our <code>args</code>, telling it we want
to get the 0th parameter in the parameter array. We do a bit of
parameter checking: make sure it is not <code>null</code>, and make sure it is
not a zero-length string. If it is, we call <code>callbackContext.error()</code>
(which, by now, you should know invokes the error callback). If all of
those checks pass, then we call <code>callbackContext.success()</code> and pass
in the <code>message</code> string we received as a parameter. This finally
translates into a success callback invocation on the JavaScript
side. It also passes the <code>message</code> parameter as a parameter into the
JavaScript success callback function.</p>

<h2>Debugging Plugins</h2>

<p>Eclipse can be used to debug an Android project, and the plugins can be debugged if the Java source is included in the project. Only the latest version of the Android Developer Tools is known to allow source code attachment to JAR dependencies, so this is not fully supported at this time.</p>

<h2>Common Pitfalls</h2>

<ul>
  <li>
    <p>Plugins have access to a <code>CordovaInterface</code> object. This object has access to the Android <code>Activity</code> that is running the application. This is the <code>Context</code> required to launch
a new Android <code>Intent</code>. The <code>CordovaInterface</code> allows plugins to start an <code>Activity</code> for a result, and to set the callback plugin for when the <code>Intent</code> comes back to the application. This is important, since the
<code>Intent</code>s system is how Android communicates between processes.</p>
  </li>
  <li>
    <p>Plugins do not have direct access to the <code>Context</code> as they have in the past. The legacy <code>ctx</code> member is deprecated, and will be removed six months after 2.0 is released. All of <code>ctx</code> methods exist on the <code>Context</code>, so both <code>getContext()</code> and <code>getActivity()</code> are capable of returning the proper object required.</p>
  </li>
</ul>

<h2>Use the Source</h2>

<p>One of the best ways to prepare yourself to write your own plugin is to
<a href="https://github.com/search?q=%40apache+cordova-plugin">look over existing plugins</a>.</p>

<p>You should also read through the comments in <a href="https://github.com/apache/cordova-android/blob/master/framework/src/org/apache/cordova/CordovaPlugin.java">CordovaPlugin.java</a>.</p>


            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://projects.apache.org/project.html?cordova">Apache Project Page</a>
                    </li>
                    <li>
                        <a href="https://www.apache.org/dyn/closer.cgi/cordova">Source Distribution</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/licenses">License</a>
                    </li>
                    <li>
                        <a href="/artwork">Artwork</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://github.com/apache?utf8=%E2%9C%93&amp;q=cordova-">Source Code</a></li>
                    <li><a target="_blank" href="https://github.com/apache/cordova#filing-a-bug">Issue Tracker</a></li>
                    <li><a target="_blank" href="https://stackoverflow.com/questions/tagged/cordova">Stack Overflow</a></li>
                    <li><a href="/contact">Mailing List</a></li>
                    <li><a href="/contribute/nightly_builds.html">Nightly builds</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Apache Software Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.apache.org/">About ASF</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/events/current-event">Events</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.apache.org/security/">Security</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy policy</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help Cordova move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/apachecordova" class="twitter-follow-button" data-show-count="false">Follow @apachecordova</a></p>
    </div>
</div>
<p class="copyright_text">
    Copyright &copy; 2025 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a target="_blank" href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.<br/>
    Apache and the Apache feather logos are <a target="_blank" href="https://www.apache.org/foundation/marks/list/">trademarks</a> of The Apache Software Foundation.
    <br/>
    <p>See the <a href="/attributions/">attributions page</a> for other copyright & trademark notices.</p>
</p>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="/static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="/static/js/docs.js"></script>

    <script defer type="text/javascript" src="/static/js/index.js"></script>
    <script defer type="text/javascript" src="/static/js/twitter.js"></script>
</body>
</html>
