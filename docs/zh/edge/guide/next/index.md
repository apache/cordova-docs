# 下一步

对于开发人员了解如何使用科尔多瓦 CLI 并使使用的插件，有几件事你可能想要考虑旁边生成更好、 更多的性能科尔多瓦应用研究。 下面的文档提供有关的最佳做法、 测试、 升级和其他主题的各种主题的建议，但不是强制性规定。 这考虑您为您作为科尔多瓦的开发人员的增长的启动点。 同时，如果你看到可以改善的东西，请[作出贡献][1]!

 [1]: http://cordova.apache.org/#contribute

本指南包含以下主题：

*   最佳做法
*   处理升级
*   测试
*   调试
*   用户界面
*   保持
*   获取帮助 

# 最佳做法

## 1） SPA 是你的朋友

首先-科尔多瓦应用程序应采用 SPA （单个页面应用程序） 设计。 SPA 松散定义是一个客户端应用程序，运行时从一个请求的 web 页。 用户加载一组初始的资源 （HTML、 CSS 和 JavaScript） 和进一步通过 AJAX 做更新 （显示一个新视图，加载数据）。 Spa 水疗中心常用应用于更复杂的客户端应用程序。 GMail 是一个伟大的例子。 加载 GMail、 邮件视图、 编辑和组织后的由更新而不是实际上离开当前页面 DOM 加载一个完全地新完成。

使用一个水疗中心可以帮助您组织您的应用程序以更有效率的方式，但它也有科尔多瓦的应用程序的具体好处。 科尔多瓦应用程序必须等待要火才可使用任何插件的 deviceready 事件。 如果您不使用 SPA，和您的用户单击以从一个网页转到另一个，必须等待 deviceready 再次触发在你做之前使用的插件。 这很容易忘了您的应用程序获取更大。

即使您选择不使用科尔多瓦，创建移动应用程序不使用单个页面结构将产生严重的性能影响。 这是因为页面之间导航将需要脚本、 资产等，重新加载。 即使这些资产缓存的仍有性能问题。

水疗中心库您可以在科尔多瓦应用程序中使用的示例如下：

*   [AngularJS][2]
*   [骨干][3]
*   [剑道 UI][4]
*   [摩纳卡][5]
*   [ReactJS][6]
*   [煎茶触摸][7]
*   [jQuery 移动][8]

 [2]: http://angularjs.org
 [3]: http://backbonejs.org
 [4]: http://www.telerik.com/kendo-ui
 [5]: http://monaca.mobi/en/
 [6]: http://facebook.github.io/react/
 [7]: http://www.sencha.com/products/touch/
 [8]: jquerymobile.com

和很多很多，更多。

## 2） 性能注意事项

科尔多瓦新开发人员可以使最大的错误之一是假定他们在桌面计算机得到的性能是一样他们会在移动设备上。 虽然我们的移动设备已经变得更强大每年，他们仍然缺乏的功率和性能的一个桌面。 移动设备通常具有较少的 RAM 和 GPU 是相距甚远，他们的桌面 （或甚至笔记本电脑） 的弟兄们。 小贴士这里的完整列表将是太多了，但这里有几件事要记住 （的长在结束了为进一步研究资源的列表）。

**单击与触摸**-你可以犯的最大和最简单的错误是使用单击事件。 虽然这些"工作"很好的手机，大多数设备施加 300 ms 延迟对他们为了区分一个触摸和触摸"持有"事件。 使用 `touchstart` ，或 `touchend` ，将导致的极大改善-300 ms 听起来不像，但它可以导致生涩 UI 更新和行为。 您还应该考虑"碰"事件的事实不支持在非 webkit 的浏览器，请参阅[CanIUse][9]。 为了应付这些限制，你可以签出各种库如 HandJS 和 Fastouch。

 [9]: http://caniuse.com/#search=touch

**CSS 过渡与 DOM 操作**— — 使用硬件加速 CSS 过渡将大大优于使用 JavaScript 创建的动画。 请参阅在结束了这一节的示例的资源的列表。

**网络吸**-确定，网络不总是糟糕不过的滞后时间的移动网络，即使是好的移动网络，可能比你想象得更糟。 Slurps 下来 500 JSON 数据行，每隔 30 秒钟，桌面应用程序将两个移动设备，以及电池猪的慢。 请记住科尔多瓦的应用程序有多个方法来保持数据在应用程序中 （认为和示例的文件系统）。 本地数据缓存，并且认识到的来来回回要发送的数据量。 这是一个特别重要的考虑，当您的应用程序通过蜂窝网络连接。

**其他性能文章和资源**

*   ["你一半屁股它"][10]
*   ["顶十的性能提示 PhoneGap 和混合应用程序"][11]
*   "快速应用程序和站点与 JavaScript"： http://channel9.msdn.com/Events/Build/2013/4-313

 [10]: http://sintaxi.com/you-half-assed-it
 [11]: http://coenraets.org/blog/2013/10/top-10-performance-techniques-for-phonegap-and-hybrid-apps-slides-available/

## 3） 认识和处理脱机状态

请参阅有关网络的前提示。 你不仅可以在慢速网络上，它是完全有可能为您的应用程序必须完全脱机。 您的应用程序应处理这以智能方式。 如果您的应用程序不存在，人们会觉得您的应用程序是破碎。 鉴于处理 （科尔多瓦支持脱机和联机事件侦听） 它是多么容易，是绝对没有理由为您的应用程序脱机运行时，也不作响应。 一定要测试 （请参阅下面的测试一节) 您的应用程序，一定要测试您的应用程序如何处理当你开始在一个国家中，然后切换到另一个。

请注意在线和离线事件，以及网络连接 API 是不完美。 您可能需要依赖于使用 XHR 请求以查看设备是否真正脱机或联机。 在结束了一天，肯定添加某种形式的网络问题-支持，事实上，苹果商店 （和可能其他存储） 将拒绝不正确处理脱机联机状态的应用程序。 关于这一主题的更多讨论，请参见["是对这件事?"][12]

 [12]: http://blogs.telerik.com/appbuilder/posts/13-04-23/is-this-thing-on-%28part-1%29

# 处理升级

## 升级科尔多瓦项目

如果您现有的项目使用科尔多瓦创建 3.x，你可以通过发出以下升级项目：

    cordova platform update platform-name ios, android, etc.
    

如果您现有的项目创建下一个版本前科尔多瓦 3.x，它可能会最好，创建一个新的科尔多瓦 3.x 项目，然后将您现有的项目代码和资产复制到新的项目。 典型的步骤：

*   创建一个新的科尔多瓦 3.x 项目 (科尔多瓦创建...)
*   将 www 文件夹从您的旧项目复制到新的项目
*   将任何配置设置从旧项目复制到新的项目
*   添加到新项目的旧项目中使用任何插件
*   生成您的项目
*   测试、 测试、 测试 ！

无论项目的以前的版本，它是绝对关键的是你阅读在更新后的版本，在更改了什么作为该更新可能会中断您的代码。 最好的地方要查找此信息将公布在仓库中，并在科尔多瓦博客上的发行说明中。 要彻底地测试您的应用程序，以验证它执行更新后正常工作。

注： 某些插件可能不兼容的新版本的科尔多瓦。 如果一个插件不是兼容的您可能能够找到您所需要的不会更换插件或您可能需要推迟升级您的项目。 或者，修改插件，以便它不会在新版本下工作和回到对社会有贡献。

## 插件升级

自科尔多瓦 3.4，那里是没有升级更改的插件使用单个命令的机制。相反，删除该插件，并添加它回到您的项目，并将安装新的版本：

    cordova plugin rm com.some.plugin
    cordova plugin add com.some.plugin
    

务必要检查更新的插件的文档，因为您可能需要调整您的代码以使用新版本的工作。 此外，双新版本的插件作品与您的项目版本的科尔多瓦的检查。

一定要测试您的应用程序以确保安装新的插件已经不能打破你没有预料到的东西。

如果您的项目有很多你需要更新的插件，它可能会节省时间创建 shell 或批处理脚本中删除并添加的插件使用一个命令。

# 测试

测试您的应用程序是超级重要的。科尔多瓦团队使用茉莉花，但任何 web 友好单位测试解决方案将会做。

## 模拟器 vs.在实际设备上测试

它并非罕见时要使用桌面浏览器和设备模拟器/仿真器开发科尔多瓦的应用程序。 然而，这是非常重要的是您测试您的应用程序上尽可能多的物理设备，你可能可以：

*   模拟器只是： 模拟器。 例如，您的应用程序可能工作在 iOS 模拟器没有问题，但它真正的设备 （尤其是在某些情况下，例如一种低内存状态） 上可能会失败。 或者，您的应用程序实际上可能失败在模拟器上，虽然它在实际设备上只是正常工作。 
*   仿真程序只是： 仿真器。 他们并不代表您的应用程序将在一个物理设备上运行的多好。 例如，一些仿真器可能呈现您的应用程序与显示出现乱码，虽然实际设备没有任何问题。 （如果你确实遇到此问题，禁用在仿真程序中的主机 GPU。
*   模拟器都比您的物理设备一般快。 仿真器，另一方面，是通常速度较慢。 由它在模拟器或仿真器中的执行不判断您的应用程序的性能。 做以它对光谱的实际设备的运行方式来判断您的应用程序的性能。
*   它是不可能为您的应用程序如何响应通过使用模拟器或仿真器的触摸得到的感觉很好。 相反，真正的设备上运行的应用程序可以点出大小的用户界面元素、 反应能力等问题。
*   虽然是很好，以便能够测试仅在平台每一台设备上，它是最佳体育许多不同的操作系统版本的很多设备上进行测试。 例如，什么作品对你特别的 Android 智能手机上可能会失败另一个 Android 设备。 什么工作 7 的 iOS 设备上的 iOS 6 设备上可能会失败。

当然，它是不可能在市场上的每个可能的设备上进行测试。 出于此原因，它是明智的招聘很多测试人员有不同的设备。 虽然他们不会抓住每一个问题，机会是很好他们会发现怪癖和你永远找不到一个人的问题。

提示： 它有可能在 Android 结点设备轻松地闪烁，不同版本的 android 系统到设备上。 这个简单的过程将使您能够轻松地测试您的应用程序在不同级别的 Android 与单个设备上无排尿您的保修或你"的根"或"越狱"到您的设备。 谷歌 Android 工厂图片和说明位于： https://developers.google.com/android/nexus/images#instructions

# 调试

调试科尔多瓦需要进行一些设置。与不同的桌面应用程序，你只需打开 dev 工具无法在您的移动设备上，并开始调试，幸运的是有一些不错的方案。

## Safari 远程调试

第一个选项是 Safari 远程调试。 这工作只在 OSX 和仅与 iOS 6 （和更高）。 它使用 Safari 来连接到您的设备 （或模拟器），并将连接科尔多瓦应用程序浏览器的开发工具。 你得到你想要从 dev 工具-DOM 检查/操作、 JavaScript 调试器、 网络检测、 控制台和更多。 有关更多详细信息，请参阅这篇优秀博客： [http://moduscreate.com/enable-remote-web-inspector-in-ios-6/][13]

 [13]: http://moduscreate.com/enable-remote-web-inspector-in-ios-6/]

## Chrome 远程调试

几乎与 Safari 版本相同，这与 Android 只有但可以从任何桌面操作系统使用。 它需要的 Android 4.4 (KitKat) 最低、 最低 API 级别的 19 和铬 30 + （桌面）。 一旦连接，您可以得到相同的 Chrome Dev 工具体验您的移动应用程序与桌面应用程序一样。 更好的 Chrome Dev 工具有镜像选项，显示了您在移动设备上运行的应用程序。 这是不仅仅是一个视图-你可以滚动并单击从开发工具和它更新在移动设备上。 Chrome 远程调试功能的更多详细信息可在这里找到： <https://developers.google.com/chrome/mobile/docs/debugging>

它是可能要使用 Chrome Dev 工具检查 iOS 的应用程序，通过 WebKit 代理： <https://github.com/google/ios-webkit-debug-proxy/>

## 波纹

纹波是科尔多瓦项目桌面基于的模拟器。 基本上，它允许您在您的桌面应用程序中运行科尔多瓦应用和假科尔多瓦的各种功能。 例如，它可以模拟加速度计测试震动的事件。 它通过让您从您的硬盘中选择图片假货照相机 API。 波纹的让您更多集中在您的自定义代码，而无需担心科尔多瓦的插件。 你在这里可以找出更多关于波纹： <http://ripple.incubator.apache.org/>

## Weinre

Weinre 创建可以承载您的科尔多瓦应用程序的远程调试客户端的本地服务器。 您已经安装并启动它后，你到你科尔多瓦应用程序中复制的代码行，然后重新启动它。 然后，您可以在您的桌面上，与应用程序一起工作打开 dev 工具面板。 Weinre 并不是很有名 Chrome 和 Safari 远程调试但得益于更大范围的操作系统和平台与合作。 可能在这里找到更多的信息： <http://people.apache.org/~pmuellr/weinre/docs/latest/>

## 其他选项

*   黑莓 10 支持以及调试：[文档][14]
*   你可以调试以及使用火狐浏览器的应用程序管理器，请参见[此博客文章][15]和此[MDN 条][16].
*   更多的例子和解释上面的调试提示，请参阅： <http://developer.telerik.com/featured/a-concise-guide-to-remote-debugging-on-ios-android-and-windows-phone/>

 [14]: https://developer.blackberry.com/html5/documentation/v2_0/debugging_using_web_inspector.html
 [15]: https://hacks.mozilla.org/2014/02/building-cordova-apps-for-firefox-os/
 [16]: https://developer.mozilla.org/en-US/Apps/Tools_and_frameworks/Cordova_support_for_Firefox_OS#Testing_and_debugging

# 用户界面

生成科尔多瓦的应用程序，看起来不错的移动可以是一种挑战，尤其是对于开发人员。 很多人选择了使用 UI 框架，使这更容易。 这里是一个你可能想要考虑的选项的简短列表。

*   [jQuery 移动][8]-jQuery 移动自动增强了您的移动优化的布局。它还处理自动为您创建一个水疗中心。
*   [离子][17]-此功能强大的 UI 框架实际上有它自己的 CLI 来处理创建项目。 
*   [棘轮][18]-带给你的那些创建引导的人。 
*   [剑道 UI][4] -开放源代码的用户界面和应用程序框架从 Telerik。
*   [面漆][19]
*   [ReactJS][6]

 [17]: http://ionicframework.com/
 [18]: http://goratchet.com/
 [19]: http://topcoat.io

建立您的用户界面，时，重要的是要想想所有的平台，您的目标和用户的期望之间的差异。 例如，有 iOS 风格 UI 的 Android 应用程序可能不会很好与用户。 这有时是甚至由实施的各种应用程序商店。 因此，它是重要的是你尊重每个平台的各项公约，因此熟悉各种人机界面指南： * [iOS][20] * [Android][21] * [Windows Phone][22]

 [20]: https://developer.apple.com/library/ios/documentation/userexperience/conceptual/MobileHIG/index.html
 [21]: https://developer.android.com/designWP8
 [22]: http://dev.windowsphone.com/en-us/design/library

## 其他 UI 文章和资源

虽然浏览器引擎成为更多、 更多的标准投诉，但我们仍然生活在一个带前缀的世界 (-webkit 和-女士) 以下文章是宝贵的跨浏览器的应用程序开发中的用户界面的为时： <http://blogs.windows.com/windows_phone/b/wpdev/archive/2012/11/15/adapting-your-webkit-optimized-site-for-internet-explorer-10.aspx>

# 保持

这里有几个方法，让与科尔多瓦，日期。

*   订阅[科尔多瓦的博客][23].
*   订阅到[开发者列表][24]。请注意--这不是一个支持组 ！而是这是一个地方发展的科尔多瓦讨论的地方。

 [23]: http://cordova.apache.org/#news
 [24]: http://cordova.apache.org/#mailing-list

# 获取帮助

下面的链接是最好的地方去科尔多瓦的帮助：

*   计算器： <http://stackoverflow.com/questions/tagged/cordova>通过使用科尔多瓦标记，您可以查看和浏览科尔多瓦的所有问题。 请注意计算器会自动将转换到"科尔多瓦""Phonegap"标记，所以这种方式你将能够访问历史问题以及
*   PhoneGap 谷歌组: [https://groups.google.com/forum/#! 论坛/phonegap][25]此谷歌组是科尔多瓦仍然调用 PhoneGap 时的老支持论坛。 虽然仍有很多频繁的这一组的科尔多瓦用户，科尔多瓦表示，社会上有兴趣在聚焦较少对此组和支持而不使用计算器
*   Meetup： <http://phonegap.meetup.com> -考虑寻找本地的科尔多瓦/PhoneGap meetup 组

 [25]: https://groups.google.com/forum/#!forum/phonegap